<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>Descent Literacy Extent</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="Descent Literacy Extent" startnode="125" creator="Twine" creator-version="2.7.1" format="SugarCube" format-version="2.36.1" ifid="FC18C11A-7225-4554-863E-C0DB27D729A9" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/**
FONT STUFF BEGINS
**/
.shadow {
	text-shadow: 0.08em 0.08em 0.08em #FFF;
}
.emboss {
	text-shadow: 0.08em 0.08em 0em #FFF;
	color: black;
}
.blur {
	color: transparent;
	text-shadow: 0em 0em 0.08em #FFF;
}
.blurrier {
	color: transparent;
	text-shadow: 0em 0em 0.2em #FFF;
}
.blurrier::selection {
	background-color: transparent;
	color: transparent;
}
.blurrier::-moz-selection {
	background-color: transparent;
	color: transparent;
}
.smear {
	color: transparent;
	text-shadow:
		0em    0em 0.02em rgba(255,255,255,0.75),
		-0.2em 0em 0.5em  rgba(255,255,255,0.5),
		0.2em  0em 0.5em  rgba(255,255,255,0.5);
}
.mirror {
	display: inline-block;
	transform: scaleX(-1);
	-webkit-transform: scaleX(-1);
}
.upside-down {
	display: inline-block;
	transform: scaleY(-1);
	-webkit-transform: scaleY(-1);
}

@-webkit-keyframes fade-in-out {
	0%,
	to {opacity: 0.5}
	50% {opacity: 1}
}
@keyframes fade-in-out {
	0%,
	to {opacity: 0.5}
	50% {opacity: 1}
}
.fade-in-out {
	text-decoration: none;
	animation: fade-in-out 3s ease-in-out infinite alternate;
	-webkit-animation: fade-in-out 3s ease-in-out infinite alternate;
}

@-webkit-keyframes rumble {
	50% {
		-webkit-transform: translateY(-.2em);
		transform: translateY(-.2em)
	}
}
@keyframes rumble {
	50% {
		-webkit-transform: translateY(-.2em);
		transform: translateY(-.2em)
	}
}
.rumble {
	-webkit-animation: rumble linear 0.1s 0s infinite;
	animation: rumble linear 0.1s 0s infinite;
	display:inline-block;
}

@-webkit-keyframes shudder {
	50% {
		-webkit-transform: translateX(0.2em);
		transform: translateX(0.2em)
	}
}
@keyframes shudder {
	50% {
		-webkit-transform: translateX(0.2em);
		transform: translateX(0.2em)
	}
}
.shudder {
	-webkit-animation: shudder linear 0.1s 0s infinite;
	animation: shudder linear 0.1s 0s infinite;
	display: inline-block;
}

/**
FONT STUFF ENDS
**/

/**
The big cool HTML things. Really just for the background.
**/
html {
  background-color: #FFFFFF;
}

body {
  background-color: #FFFFFF;
}

#ui-bar-history [id|=history] {
  color: #000000;
}

input[type=text] {
  color: #000000;
}

input:not(:disabled):focus, input:not(:disabled):hover, select:not(:disabled):focus, select:not(:disabled):hover, textarea:not(:disabled):focus, textarea:not(:disabled):hover {
  background-color: transparent;
  border-color: #444;
}

hr {
  background-color: #000;
}

/* Used to align label for volume slider */
input[type=range] {
	vertical-align: middle;
}

ul {
  border-radius: 5px;
}

input {
  border-radius: 5px;
}

/**
Passage formatting.
**/
.passage {
  text-align: justify;
  transition: opacity 400ms ease-in;
  background-color: #e6e6e6;
  border-radius: 25px;
  padding: 50px;
  font: helvetica;
  font-size: 15px;
  color: #000000;
  width: 800px;
}

a {
  color: #0308a1;
}

/**
Body and UI bar formatting, plus changes per character.
**/

.zane .passage, .zane #ui-bar {
  background-color: #e9e4f5;
}

.lucy .passage, .lucy #ui-bar {
  background-color: #d15e5a;
}

.tt .passage, .tt #ui-bar {
  background-color: #ffb74a;
}

.renli .passage, .renli #ui-bar {
  background-color: #ffe8f1;
}

.rika .passage, .rika #ui-bar {
  background-color: #e65c7e;
}

.elanore .passage, .elanore #ui-bar {
  background-color: #69c5fa;
}

#ui-bar {
  background-color: #e6e6e6;
  color: #000000;
}

#menu li a {
  color: #000000;
  border: transparent;
}

#menu li a:hover {
  background-color: #99999980;
  border: transparent;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">$('#ui-bar-toggle').remove();

Config.passages.descriptions = function () {
	if (tags().includes("prologue")) {
		return "Prologue: The Beginning of the End";
	} else if (tags().includes("partone")) {
		return "Part One: Priam Saw It First";
	} else if (tags().includes("parttwo")) {
		return "Part Two: Accompanied by Rain";
	} else if (tags().includes("partthree")) {
		return "Part Three: Through Hollow Streets";
	} else if (tags().includes("partfour")) {
		return "Part Four: Over Heads of Men";
  } else if (tags().includes("partfive")) {
		return "Part Five: Can You Hear the Horses?";
	} else {
		return "error";
	}
};

config.saves.isAllowed = function() {
	if (tags().includes("no-saves")) {
		return false;
	} else return true;
}

// message-macro.min.js, for SugarCube 2, by Chapel
// v1.0.1, 2021-04-20, 53d1a20e9321b3782a303cf7dbe00f5c51e947db
;setup.messageMacro={},setup.messageMacro.default="Help",Macro.add("message",{tags:null,handler:function(){var e=this.payload[0].contents,a=$(document.createElement("span")),s=$(document.createElement(this.args.includes("btn")?"button":"a")),t=$(document.createElement("span"));s.wiki(this.args.length>0&&"btn"!==this.args[0]?this.args[0]:setup.messageMacro.default).ariaClick(this.createShadowWrapper((function(){a.hasClass("open")?t.css("display","none").empty():t.css("display","block").wiki(e),a.toggleClass("open")}))),a.attr("id","macro-"+this.name+"-"+this.args.join("").replace(/[^A-Za-z0-9]/g,"")).addClass("message-text").append(s).append(t).appendTo(this.output)}});
// end message-macro.min.js

/**
* oh jeez god
*/
// Volume Slider, by Chapel; for SugarCube 2
// version 1.2.0 (modified by HiEv)
// For custom CSS for slider use: http://danielstern.ca/range.css/#/

/*
	Changelog:
	v1.2.0:
		- Fixed using/storing the current volume level in the settings.
	v1.1.0:
		- Fixed compatibility issues with SugarCube version 2.28 (still
		  compatible with older versions, too).
		- Added settings API integration for SugarCube 2.26.
		- Internal improvements and greater style consistency with my
		  other work.
		- Added a pre-minified version.
		- By default, the slider is now more granular than before
		  (101 possible positions vs 11). Change the 'current' and
		  'rangeMax' options to 10 to restore the old feel.
*/

(function () {
	// Set initial values.
	var options = {
		current  : 50,  // Default volume level.
		rangeMax : 100,
		step	 : 1,
		setting  : true
	};
	Setting.load();
	if (options.setting && settings.volume) {
		options.current = parseInt(settings.volume);
	}
	var vol = {
		last: options.current,
		start: (options.current / options.rangeMax).toFixed(2)
	};

	// Function to update the volume level.
	function setVolume (val) {
		if (typeof val !== 'number') val = Number(val);
		if (Number.isNaN(val) || val < 0) val = 0;
		if (val > 1) val = 1;
		options.current = Math.round(val * options.rangeMax);
		if (options.setting) {
			settings.volume = options.current;
			Setting.save();
		}
		if ($('input[name=volume]').val() != options.current) {
			$('input[name=volume]').val(options.current);
		}
		try {
			if (SimpleAudio) {
				if (typeof SimpleAudio.volume === 'function') {
					SimpleAudio.volume(val);
				} else {
					SimpleAudio.volume = val;
				}
				return val;
			} else {
				throw new Error('Cannot access audio API.');
			}
		} catch (err) {
			// Fall back to the wikifier if we have to.
			console.error(err.message, err);
			$.wiki('<<masteraudio volume ' + val + '>>');
			return val;
		}
	}

	// Fix the initial volume level display.
	postdisplay['volume-task'] = function (taskName) {
		delete postdisplay[taskName];
		setVolume(vol.start);
	};

	// Grab volume level changes from the volume slider.
	$(document).on('input', 'input[name=volume]', function() {
		var change = parseInt($('input[name=volume]').val());
		setVolume(change / options.rangeMax);
		vol.last = change;
	});

	// Create the <<volume>> macro.
	Macro.add('volume', {
		handler : function () {
			var wrapper = $(document.createElement('span'));
			var slider = $(document.createElement('input'));
			var className = 'macro-' + this.name;
			slider.attr({
				id		: 'volume-control',
				type	: 'range',
				name	: 'volume',
				min		: '0',
				max		: options.rangeMax,
				step	: options.step,
				value	: options.current
			});
			// Class '.macro-volume' and ID '#volume-control' for styling the slider
			wrapper.append(slider).addClass(className).appendTo(this.output);
		}
	});

	// Add Setting API integration for SugarCube 2.26 and higher.
	function updateVolume () {
		setVolume(settings.volume / options.rangeMax);
	}
	if (options.setting) {
		if (Setting && Setting.addRange && typeof Setting.addRange === 'function') {
			Setting.addRange('volume', {
				label : 'Volume: ',
				min : 0,
				max : options.rangeMax,
				step : options.step,
				default : options.current,
				onInit : updateVolume,
				onChange : updateVolume
			});
		} else {
			console.error('This version of SugarCube does not include the `Settings.addRange()` method; please try updating to the latest version of SugarCube.');
		}
	}
}());</script><tw-tag name="22" color="blue"></tw-tag><tw-tag name="elanore" color="blue"></tw-tag><tw-tag name="lucy" color="red"></tw-tag><tw-tag name="renli" color="purple"></tw-tag><tw-tag name="rika" color="green"></tw-tag><tw-tag name="tt" color="orange"></tw-tag><tw-tag name="zane" color="yellow"></tw-tag><tw-passagedata pid="1" name="The Beginning of the End" tags="zane prologue" position="746,296" size="200,200">&lt;&lt;audio dunks_zane play loop&gt;&gt;You are in your least favorite part of town, as evidenced by the way you wrinkle your nose and scuff the sole of your sneaker along the tiled floor. At least the nutty aroma of coffee lingers in the stagnant air, giving the shop the slightest semblance of class and allowing you to forgive its sins to sit with your companions for a moment.

After all, class is the only appropriate way to honor your very existence. As the eldest child of the current head of the di Leggieri family, you have been primed to mingle with the wealthy and powerful from day one. You charm everyone with just a smile and send them swooning with your words.

Of course, it doesn’t hurt that your [[epithet]] naturally draws others into your blessed presence.</tw-passagedata><tw-passagedata pid="2" name="epithet" tags="zane prologue" position="785,531" size="100,100">Ah, epithets. At least one in five members of the world have a word, called an epithet, etched in their soul. These people, who are also called Inscribed, have someto abilities depending on what their epithet means to them. For instance, someone with “Hover” may be able to linger a few inches in the air, or they could levitate other objects. While most prefer to speak their epithet aloud while using their abilities, there is no need to.

As for [[you…|who is zane, really]]</tw-passagedata><tw-passagedata pid="3" name="who is zane, really" tags="zane prologue" position="786,657" size="100,100">A lull in the conversation draws you back into the moment and gives you an opportunity to pose the question that has been nagging at you for the last several minutes.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; So, tell me again why we had to come to Dunk’s.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Why, is the change of scenery not welcome?|

Curious baby blues peek at you over their owners’ now-empty cup of milk.  You hate it when Renli looks all innocent like that - she’s the oldest one here, for goodness’ sake, and theoretically should be the smartest. If she was worth her salt, she would just take charge. Instead, she almost always gives into others’ demands and forces everyone else to make decisions. Part of you swears it’s all so she can spend more time daydreaming and less time doing.

Not that she doesn’t have good qualities to speak of, of course, but at the moment, you’re in a nitpicking mood.

Maybe you should just [[take a breath and drink your coffee.|sip sip motherfucksers]]</tw-passagedata><tw-passagedata pid="4" name="sip sip motherfucksers" tags="zane prologue" position="783,779" size="100,100">You roll your eyes as you sip your coffee (one soy milk, one sugar - it enhances the natural flavor of the beans without drowning it entirely the way *some* people take it) in an attempt to calm yourself down.

Right. She asked you a question that had seemed rhetorical at first. But it is critical for you to recall some people’s standards are not as high as your own.

|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; When it’s somewhere as dingy as here, obviously not.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I mean, after what happened the other day, I don’t really think Rika wants to see us for a while.|

Lucy is tipping her own cup back, peering into the mouth hole with one eye as she speaks. Her free arm is draped behind the back of her chair, which leans on its back legs.

You aren&#39;t sure if you&#39;ve ever seen anyone look so impolitely relaxed.

After a brief pause, Renli gingerly takes the cup into her own hands and removes the lid. In return, the brunette grins and flashes her a thumbs-up.

You sigh and press your fingers to your temples. [[Your companions]] are always so quaint.&lt;&lt;set $zaneLooksRenli to false&gt;&gt;&lt;&lt;set $zaneLooksTT to false&gt;&gt;&lt;&lt;set $zaneLooksLucy to false&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="Your companions" tags="zane prologue" position="786,905" size="100,100">Who do you wish to examine?

&lt;&lt;if $zaneLooksRenli is false&gt;&gt;[[Renli. Elegant and graceful.]]&lt;&lt;else&gt;&gt;==Renli. Elegant and graceful.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $zaneLooksTT is false&gt;&gt;[[Twenty-Two. Sweet and bubbly.]]&lt;&lt;else&gt;&gt;==Twenty-Two. Sweet and bubbly.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $zaneLooksLucy is false&gt;&gt;[[Lucy. Athletic and confident.]]&lt;&lt;else&gt;&gt;==Lucy. Athletic and confident.&lt;&lt;/if&gt;&gt;
&lt;&lt;if $zaneLooksRenli is true and $zaneLooksTT is true and $zaneLooksLucy is true&gt;&gt;[[Actually, you wish to stop looking.|rika would be totally happy to see her favorite customer am i right]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name="Renli. Elegant and graceful." tags="zane prologue" position="634,1062" size="100,100">Elegant and graceful? Who the hell is writing this? Clearly someone who can&#39;t see deeper than the surface of an iceberg.

The pastel palette of her bubblegum hair and sky blue apron hints at her eclectic, oft-spacey behavior. The perpetually-sleepy expression in those baby blues certainly doesn&#39;t help her case, either. And the asymmetry created by the singular ribbon on the left side of her fluffy curls? No, aside from the collared white dress, Renli is not elegant in the slightest.

Admittedly, graceful is a bit more accurate than elegant. She has a tendency to smile with her eyes closed (and she smiles &lt;i&gt;often&lt;/i&gt;), which would cause most to trip or otherwise fumble their movements - yet such a thing has never happened once in the years you have known her. Furthermore, she is always punctual and ready to fix others&#39; mistakes.

Despite all that, something about her sets you on edge. She is too smart and too reliable to be wasting her life away in odd hours of a part-time job, even if it&#39;s at your favorite local restaurant.

&lt;&lt;set $zaneLooksRenli to true&gt;&gt;[[Return.|Your companions]]</tw-passagedata><tw-passagedata pid="7" name="Twenty-Two. Sweet and bubbly." tags="zane prologue" position="779,1060" size="100,100">To your left, Twenty-Two’s appearance is rather conflicting - an expensive vest and a chic blouse donned by a frail girl whose eyes sparkle with a childish innocence.

The mellow colors of her outfit contrast wildly with flowing locks of golden-orange. Though, strangely, they end in a white ombre. You aren&#39;t entirely sure how the coloration works, but over the course of your life, you&#39;ve learned it&#39;s best not to question good things.

At least, not when you consider them good. To be &lt;i&gt;good&lt;/i&gt; is hardly attainable for most beings, from your perspective, but you also know that many people would deem 22 herself to be &lt;i&gt;good.&lt;/i&gt; And, to be fair, you can&#39;t quite bring yourself to be mean to her as often as the others, but her constant shows of naivete and excessive optimism frequently frustrate you nonetheless.

Although it seems something is bothering her today. Even her merigold hair seems flatter than usual - maybe her half-ponytail is lower?

&lt;&lt;set $zaneLooksTT to true&gt;&gt;[[Return.|Your companions]]</tw-passagedata><tw-passagedata pid="8" name="Lucy. Athletic and confident." tags="zane prologue" position="934,1057" size="100,100">&quot;Athletic&quot; and &quot;confident&quot; are certainly words you would use to describe Lucy Lane.

You forget what exactly she did in high school, but you believe she was captain of some team or another. It makes sense - she is ambitious and charismatic, the type most will look to as a leader. However, you strongly believe she would benefit from learning to be more tactical and deliberate in her actions rather than impulsive, even if the latter has worked out for her just fine for the last 19 years.

She sits across the tiny square table, donned in a dark tank top and some sort of athletic jacket around her waist. For what it&#39;s worth, she is the only member of your little troupe who wears clothes that tastefully suit her personality and social standing. At the very least, you respect her for that.

Her unleashed dog Lulu that sits on the floor beside her, though… Well, you have some Opinions you think are best kept to yourself. The only facts you can state are that she changes size (and shape, you think - you don&#39;t really look at her often enough to be sure) and smells strongly of dog.

&lt;&lt;set $zaneLooksLucy to true&gt;&gt;[[Return.|Your companions]]
</tw-passagedata><tw-passagedata pid="9" name="rika would be totally happy to see her favorite customer am i right" tags="zane prologue" position="779,1200" size="100,100">You finally process Lucy&#39;s comment about Rika not wanting to see any of you. Indignantly, you cross your arms and even slouch a bit in your chair.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Speak for yourselves. Rika is consistently ecstatic to see her favorite customer.|
|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Well, if I&#39;m speaking for myself, I miss Rika.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You invariably miss Rika.|

Her shoulders slump as she stares at her quickly-cooling hot cocoa. So that&#39;s what has been bothering her.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yeah, but... I hope she’s okay.|

Renli reaches out to pat her hand comfortingly.

|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Don&#39;t worry, Twos. She was doing just fine last shift.|

Renli, the luckiest of all of you, is still allowed to visit the French Quarter - when she has to work, which is always during the hours most people sleep. You let out an impulsive sigh, then immediately [[pray your compatriots didn&#39;t hear.|DUNCAN REAL??]]</tw-passagedata><tw-passagedata pid="10" name="Duncan Doughnuts." tags="zane prologue" position="778,1477" size="100,100">The 26-year-old proprietor, manager, and sole employee of Duncan&#39;s Doughnuts (affectionately referred to as Dunk’s by locals, of course) tears off his apron to reveal a bright red Hawaiian shirt. He leaps over the counter and covers the distance to your table in two massive strides, quickly looming over all of you. Not that he needs to try very hard to loom; even when you&#39;re standing, he has a good head over you.

This fool has been a bit of a constant in your lives for several years - that is, a constant pester. Still, you put him just one tier above most other townspeople, even if he isn&#39;t the brightest bulb in the box. At least Duncan is genuine and mostly capable. After all, he manages to keep this place running, even if it isn&#39;t quite to your standards. And he&#39;s one of the town&#39;s most well-known lifeguards. Between his sandy hair, sleepy blue eyes, and goofy smile, he is every grandma&#39;s most beloved young adult.

Oh, right, didn&#39;t he [[say something?]]</tw-passagedata><tw-passagedata pid="11" name="DUNCAN REAL??" tags="zane prologue" position="779,1339" size="100,100">Your prayers are answered, thanks to a booming voice ringing out through the little shop.

|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Did I hear you kids say you miss Rika?|

&lt;i&gt;You&lt;/i&gt; certainly didn’t, but you aren’t about to argue with [[Duncan Doughnuts.]]</tw-passagedata><tw-passagedata pid="12" name="say something?" tags="zane prologue" position="780,1627" size="100,100">You answer the only way you can: growling from between clenched teeth.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; We&#39;re not kids.|

All you receive in acknowledgement are a hearty laugh and a large hand atop your perfect locks. You recoil slightly and wriggle away politely.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; I actually have to stop by the French Quarter for some errands. I gotta close the store while I’m out, so you wanna take a [[walk]] with me?|</tw-passagedata><tw-passagedata pid="13" name="walk" tags="zane prologue" position="779,1776" size="100,100">At the word ‘walk,’ Lulu lets out a single bark and rises as an Akita. Lucy pats her head absentmindedly.

Instead of side-eyeing the animal, you exchange glances around the table. Maybe Rika doesn’t want you there, but if you have the excuse of tagging along with Duncan, surely she can’t just turn all of you away at the door. Though she could definitely turn you away at the counter.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Sounds good.|

Lucy is also the first of you to stand, grabbing all the empty cups and tossing them into the trash bin from afar. As she does, you and your mile-log legs move to lead the group [[out the door.]]</tw-passagedata><tw-passagedata pid="14" name="out the door." tags="zane prologue" position="724,1902" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dailylife play loop&gt;&gt;The town of Literacy has a low population density, thanks to oceanside acres and lazy, sprawling urban planning. Still, it&#39;s just large enough that personal privacy isn’t unheard of. That&#39;s one of the many reasons you picked this particular vacation home to move out to - no paparazzi or other fanatics of the di Leggieri family to deal with on the daily, only people who think you&#39;re a nice young man who should come by for casserole night next week.

Unfortunately, the small population also means taking a walk anywhere inevitably results in running into any number of familiar faces. Most are perfectly agreeable for some small talk, even in your books, but some? [[Some|oh lucile]] simply wreak havoc with each bouncy step they take.</tw-passagedata><tw-passagedata pid="15" name="oh lucile" tags="zane prologue" position="777,2133" size="100,100">Eleven-year-old Lucile Locks is one such flouncing harbinger of chaos. A frightening little girl in a sweater vest who swings her racecar lunchbox around dangerously, any who dare cross paths with her always come to regret it. You recall taking pity on her once, when she cried your name and whimpered about a scraped knee so pitifully you couldn&#39;t just ignore her. She kneed you as soon as you were eye level and ran off giggling, leaving you to nurse a swollen lip on your own.

So when you detect her devilish pigtails in the distance, you immediately freeze and scan the area for cover. The sudden halt is much to the annoyance of your followers; they all crash into one another. For once, though, you hush rising cries of annoyance with a harsh exhalation between your teeth, brows furrowed in concentration.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Let&#39;s go [[that way.|zane leads everyone into a spooky alley]]|</tw-passagedata><tw-passagedata pid="16" name="zane leads everyone into a spooky alley" tags="zane prologue" position="779,2270" size="100,100">Your hastiness doesn&#39;t go unnoticed, and they don&#39;t question your leadership. You do cast a glance over your shoulder, though. As each rounds the corner and sees what you had, their protests die down and their pace picks up.

A tug on your arm. You glance down to see gratitude practically pouring out of 22&#39;s watery eyes.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; You saved our lives. Thank you.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Don&#39;t be dramatic.|

You push her hand away, sneering all the while. Despite your flippancy, though, you can&#39;t suppress the strange pride that comes over you. After all, your natural superiority is always evident in times like these. Yes, it is almost pathetic how badly these lower humans need your assistance.

Though you also can&#39;t deny the twinge of guilt that twists your stomach at the glimpse you catch of 22&#39;s downcast expression. To make up for it, you ever so slightly adjust the density of [[your epithet|bless]] to benefit her more. It&#39;s the obvious solution for sad people in your vicinity, after all.</tw-passagedata><tw-passagedata pid="17" name="bless" tags="zane prologue" position="779,2422" size="100,100">Right, your epithet.

To &lt;i&gt;bless&lt;/i&gt; is a strange concept in and of itself. For the most part, for a human to &lt;i&gt;bless&lt;/i&gt; something, they must call upon a deity to confer their power in one way or another. Alternatively for someone to &lt;i&gt;be blessed,&lt;/i&gt; they must receive something from something beyond themselves. In other words, to &lt;i&gt;bless,&lt;/i&gt; in and of itself, implies a higher being exists.

You consider yourself to be this higher being. After all, the word &lt;i&gt;bless&lt;/i&gt; is inscribed in your soul, inextricably entertwined with your very existence. You &lt;i&gt;bless&lt;/i&gt; everything around you with hardly a second thought. Everyone who meets you finds themselves terribly drawn to you regardless of how terribly you treat them.

(There are some other side effects as well. You glow, just a bit. Sometimes, you can shoot beams with your hands. And you constantly pull pieces of &lt;i&gt;goodness&lt;/i&gt; and &lt;i&gt;vigor&lt;/i&gt; from the area around you - but [[why should it matter|tommy billweeble]] when you exude it all the same?)</tw-passagedata><tw-passagedata pid="18" name="tommy billweeble" tags="zane prologue" position="779,2572" size="100,100">You&#39;re only a dozen steps down this new street when you spot a hunched little man outside his store, donning a tweed suit and a bright red bowtie. You really aren&#39;t a fan of the awful contradiction in formality there - you&#39;d rather not imagine satin and tweed on the same jacket, as if in some attempt to better match his tie.

|&lt;img src=&quot;/sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; TOMMY BILLWEEDS!|

Duncan has somehow moved from the caboose to well ahead of you to clap the older man on the shoulder. His already-poor posture sinks even further.

|&lt;img src=&quot;sprites/tommy/neutral.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; Duncan... good afternoon.|

His nasally, slightly-raspy voice is as tiny as ever, practically imperceptible in contrast with Duncan&#39;s immense volume. He&#39;s clearly uncomfortable, but now that you think about it, you aren&#39;t certain whether you&#39;ve ever seen him comfortable. Dark eyes furtively avoid everyone&#39;s gaze, sticking mostly to the ground. The moment he spots Lulu, though, he reaches out and focuses on giving her the good scritches.

|&lt;img src=&quot;sprites/tommy/neutral.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; And... all of you.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Afternoon, Tommy.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; It&#39;s good to see you, too!|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Always nice to get a greeting.|

Twenty-two gives a shy wave as Lucy elbows you in the ribs. As much as you can get away with being rude, maybe [[Tommy Billweeds]] isn&#39;t the best target of your snark.
</tw-passagedata><tw-passagedata pid="19" name="Tommy Billweeds" tags="zane prologue" position="779,2721" size="100,100">It&#39;s unusual to see the man on this side of the waterway that you stand near, as he hardly leaves his toy store. Many locals consider it a bit of a tourist trap, given how he puts his creations on display and generates more of his revenue from people who assume there is an entrance fee than actual customers, but nobody would see it as a nuisance. After all, he is a kind man - if eccentric - and hardly goes out of his way to bother others.

He tears his attention away from the dog to pull Duncan a ways away and whisper something. Which is fair enough; the blond main is often a beacon of calm to many in Literacy in spite of his boisterous personality. The strangest part, though, is Duncan&#39;s own attempts to keep the conversation down to mere [[sussurations.]]

Though you suppose you could also [[listen in on the girls.]]</tw-passagedata><tw-passagedata pid="20" name="sussurations." tags="zane prologue" position="779,2872" size="100,100">Whispering and chatter among your other companions isn&#39;t enough to stop you from snooping. Interestingly, the one comment you pick up is from Tommy, not Duncan.

|&lt;img src=&quot;sprites/tommy/neutral.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; Then you haven&#39;t seen anyone... wash up recently?|

Suspicious. Your first conclusion is that Tommy is asking to make sure the body he buried hasn&#39;t washed up, but you immediately decide it is highly unlikely - and, honestly, if it were the case, he could shout about it and the whole town would turn a blind eye. No, it has to be tied to something else.

[[You wrack your brain.]]&lt;&lt;set $zaneAsksRenli to false&gt;&gt;&lt;&lt;set $zaneAsksTT to false&gt;&gt;&lt;&lt;set $zaneAsksDuncan to false&gt;&gt;</tw-passagedata><tw-passagedata pid="21" name="You wrack your brain." tags="zane prologue" position="781,3022" size="100,100">Socialite though the di Leggieris are, Literacy has never been one of the towns they actually bother to know. Which was all the better for you to crash here every summer and during your gap year, of course, but it also makes uncovering all the hearsay that much less intuitive. Instead, you must use your connections and be polite.

Renli has only lived here for a year or two, but she gets along handsomely with just about everyone. She may know something, but she may also chide you for asking.

Twenty-Two has lived here her whole life, but she&#39;s far from the most observant person. Not that she isn&#39;t smart - but some things just slip past her, and you think this is probably one of them.

Lucy moved here at the start of high school. At this point, she should know a good amount of gossip. The problem is that she might make fun of you for not knowing.

Out of your companions, who would actually have relevant information to give?

&lt;&lt;if $zaneAsksRenli is false&gt;&gt;[[Renli.|ask renli]]&lt;&lt;else&gt;&gt;==Renli.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $zaneAsksTT is false&gt;&gt;[[Twenty-Two.|ask 22]]&lt;&lt;else&gt;&gt;==Twenty-Two.==&lt;&lt;/if&gt;&gt;
[[Lucy.|ask lucy]]
&lt;&lt;if $zaneAsksDuncan is false&gt;&gt;[[Duncan.|ask duncan]]&lt;&lt;else&gt;&gt;==Duncan.==&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="22" name="ask renli" tags="zane prologue" position="1083,3189" size="100,100">&lt;&lt;set $zaneAsksRenli to true&gt;&gt;You nudge the tallest member of your group - well, aside from yourself and Duncan, of course.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Yes, Zane?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What do you know about Tommy?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh! He&#39;s right there, you know.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Obviously. I meant, what is his deal?|

At that, she fixes you with a cold stare that tells you everything you need to know.

|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[You should maybe don&#39;t.|You wrack your brain.]]|</tw-passagedata><tw-passagedata pid="23" name="ask 22" tags="zane prologue" position="630,3188" size="100,100">Twenty-Two looks up at you expectantly as you approach.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Do you know Tommy&#39;s story?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Hmm... I&#39;m not sure. He&#39;s been here longer than I have, that&#39;s for sure, and a lot of sad stuff happened to him before that.|

She rubs her chin, then shrugs.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; That&#39;s about all I know. Sorry!|

[[Try again?|You wrack your brain.]]&lt;&lt;set $zaneAsksTT to true&gt;&gt;</tw-passagedata><tw-passagedata pid="24" name="ask lucy" tags="zane prologue" position="778,3189" size="100,100">You sidle up to the brunette, who gives you a questioning look.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; So... what &lt;i&gt;is&lt;/i&gt; his deal, anyhow?|

She fixes you with a look, clearly debating whether or not to mock you, then shrugs.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; He moved here a long time ago because his family all passed. Spouse and three kids, I think?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hm.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Some people are convinced he keeps making toys so the kids can find him. Not sure if he&#39;s ever expressed that, but it would make sense.|

So that was why he asked about peole washing up. The story is a little spooky and very tragic, but it suits [[him.|bye bye tommi]]</tw-passagedata><tw-passagedata pid="25" name="ask duncan" tags="zane prologue" position="930,3189" size="100,100">Duncan is still busy whispering with said man. It would be impolite to barge in, but maybe you can ask him later if you don&#39;t find out now.

[[So... who else?|You wrack your brain.]]&lt;&lt;set $zaneAsksDuncan to true&gt;&gt;</tw-passagedata><tw-passagedata pid="26" name="listen in on the girls." tags="zane prologue" position="614,2792" size="100,100">|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Sometimes, when I really feel like partying hard, I&#39;ll even drink milk right out of the container!|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Out of the cow?|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt;|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt;|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hey, Twos?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yes?|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Why.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Well, when you think about it-|

On second thought, maybe you should [[listen to Duncan and Tommy instead.|sussurations.]]</tw-passagedata><tw-passagedata pid="27" name="bye bye tommi" tags="zane prologue" position="781,3337" size="100,100">|&lt;img src=&quot;sprites/tommy/neutral.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; Feel free to come by if you need anything.|

A little ashamed at your previous assumption of dead bodies, you raise a hand and nod at the man.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; We will see you around, Mister Billweeds.|
|&lt;img src=&quot;sprites/tommy/neutral.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; Feel free to come by if you need anything.|

After repeating himself, he waves awkwardly from his hip, then shoves his hands back in his pockets and shuffles into the store.

Okay, never mind. He&#39;s still a little weird. [[You express as much]] to the first person you fall into step beside, which just so happens to be Renli.</tw-passagedata><tw-passagedata pid="28" name="You express as much" tags="zane prologue" position="780,3487" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What a weirdo.|

Pain blooms across your ribcage. Apparently, Renli&#39;s elbows are sharper than Lucy&#39;s. You glance over to see a threatening smile, teeth slightly bared with no mirth in her eyes. It&#39;s enough to make you cough and glower at her.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I mean, who even needs toys here? The only kids are Lucile and her friends, and they probably just decapitate dolls to feel joy.|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; There&#39;s a certain love in handmade things that you can&#39;t get elsewhere.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Also, he doesn&#39;t just make toys. He custom-built me a special cutting board. And my fruit-grabber!|

You give her a blank look. You&#39;re not actually sure what her epithet is, but when you&#39;ve seen it in action, it seems to make fruits appear out of thin air.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Why do you need a fruit-grabber if you always grab the fruit with your hands.|

She only giggles in response. At this point, you think you&#39;re just going to keep to yourself until you reach [[the French Quarter.]]</tw-passagedata><tw-passagedata pid="29" name="the French Quarter." tags="zane prologue" position="736,3627" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio frenchquarter play loop&gt;&gt;The French Quarter is located on the corner of two major streets. Its aesthetic is a horrifying mashup between the fluorescent lights of a convenience store adn the Rococo of a high-tier French restaurant. But it is the nicest dining place that everyone in town can afford, so you often find yourselves hanging out here - much to Rika&#39;s chagrin.

Speaking of whom, Rika Koizumi leans over the counter with exhaustion weighing down her shoulders, something akin to frustration etched into the grimace lines of her young face. Frizzy pieces of her normally-silky black hair spike out from her ponytail, a few stray wisps tucked behind her ear. As she spots you, she straightens, adjusting her large round eyeglasses in obvious preparation to give a spiel.

[[You don&#39;t give her the chance to speak first.]]</tw-passagedata><tw-passagedata pid="30" name="You don&#39;t give her the chance to speak first." tags="zane prologue" position="781,3857" size="100,100">|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Rika!|

You spread your arms as you quickly approach the counter. You do not, however, go for a hug - that would be entirely uncharacteristic of both of you. Instead, you very loudly clap your palms down on the counter and continue speaking without a hint of malice or sarcasm present in your voice.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I am positively overjoyed to see my favorite waitress oh-so-dutifully attending her work and keeping the French Quarter as immaculate as ever.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yeah.|

She effectively ignores you, turning to [[look pleadingly at Renli.]]</tw-passagedata><tw-passagedata pid="31" name="look pleadingly at Renli." tags="zane prologue" position="780,4008" size="100,100">|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Can you please cover my shift tomorrow.|

A gentle simper crosses Renli’s face, eyes shutting as her lashes cast long shadows across her cheeks. She clasps her hands together, fingers interlaced over her chest, and begins to sing.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; &lt;i&gt;Convenience,&lt;br&gt;Lenience,&lt;br&gt;Even a reporter,&lt;br&gt;[[Everything and more at your French Quarter!]]&lt;/i&gt;|</tw-passagedata><tw-passagedata pid="32" name="Everything and more at your French Quarter!" tags="zane prologue" position="781,4156" size="100,100">|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Great.|

She manages to frown even harder as the light of hope fully extinguishes from her eyes.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; So, Rika.|

Duncan gently shoulders you aside and leans on the counter with an elbow. She shoots him a glare, causing him to squeal and take a step back, hands raised in surrender.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; I just - I wanted to know if you&#39;ve seen [[Mason|mason is BANNED.]] around?|</tw-passagedata><tw-passagedata pid="33" name="mason is BANNED." tags="zane prologue" position="781,4305" size="100,100">She gives him a look of irritation, although you also notice something else there. It&#39;s almost as if she should have predicted he would ask that question. As if he should have already known the answer.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No. He&#39;s been banned from here for two weeks.|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Oh. Uh. Where do you think he would be?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; His comic store? Are you stupid?|

Despite the words being mostly innocuous (at least compared to most of what comes from Rika), there is a bite to them that is almost venomous in tone. And Duncan - cheery Duncan, who laughs off every mean word in his presence - only emphasizes the uncomfortably long silence with [[his initial lack of response.]]</tw-passagedata><tw-passagedata pid="34" name="his initial lack of response." tags="zane prologue" position="782,4455" size="100,100">Bit by bit, his face takes on an uncharacteristic amount of worry that creases his heavy brows. Rika stays in place, stony gaze unblinking.

You involuntarily make a slow half-step backwards, noticing from the corner of your eye that Lucy scoops a now-small Lulu into her arms. Similarly, Renli’s hands ball into fists along her apron. And while you can&#39;t see her, you&#39;re certain 22 is nervously tugging her hair at the tension that hangs thick in the air.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; So.|

He jams his hands in his pockets, but [[doesn&#39;t break eye contact with Rika.]]</tw-passagedata><tw-passagedata pid="35" name="doesn&#39;t break eye contact with Rika." tags="zane prologue" position="781,4606" size="100,100">|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; I gotta head out and check the radio tower. December said she had something to show me. You kids, if you see Mason first, give him, uh...|

He finally looks at you, scratching the back of his head and attempting a smile that wavers uncomfortably.

|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Give him a good knuckle sandwich, and I’ll give you twenty bucks, okay?|

[[With that, he&#39;s gone.]]</tw-passagedata><tw-passagedata pid="36" name="With that, he&#39;s gone." tags="zane prologue" position="781,4755" size="100,100">Sighing, Rika pushes back a flyaway with her palm.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Anyway. How can I help you guys.|

You step forward, eager to make the lingering aura go away.

|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Ah, I would be simply delighted to consume another serving of that gratin Dauphinois I tried the other day. I didn’t quite get to finish it because of, well...|

You clear your throat.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; The incident involving our former topic of interest.|

A beat.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I’m not serving you.|

She points to a board behind herself with various names on a list entitled ‘NO’.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; You’re all still banned until tomorrow. Except Renli, since she works here, but that’s different.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; That’s right!|

Said employee inhales deeply, hands clasping over her chest as her eyes flutter shut. You know she&#39;s about to repeat the jingle again - and that [[you must stop her right away]] if you&#39;re going to have any chance of tasting that delicious potato-and-cheese casserole ever again.</tw-passagedata><tw-passagedata pid="37" name="you must stop her right away" tags="zane prologue" position="782,4905" size="100,100">|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Then why don’t you serve Renli, and I’ll be the one to eat it?|

You cross your arms, trying to seem cool and collected.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; After all, the great di Leggieri-|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I’m not paying for someone who will never return the favor.|

She smiles menacingly. You grimace.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah, why should Renli have to pay for your food? You always insist on an unfair interest rate.|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Exactly! If anything, you should be paying me to order you food, considering I&#39;m the one doing you a great service.|
|&lt;img src=&quot;sprites/rika/excited.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Hey, wait, I have a great idea!|

Rika straightens and plasters enthusiasm on her face for a moment. Then she quickly deflates, returning to her bored neutrality.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Do something else.|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Okay, bye Rika! I love you!|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Correction; get the hell out and [[do something else.]]|</tw-passagedata><tw-passagedata pid="38" name="do something else." tags="zane prologue" position="783,5052" size="100,100">There&#39;s only one &quot;something else&quot; she could possibly be referring to. At least, that&#39;s how the math works out in your head. You must make the arduous journey down the sun-bathed street, careful to avoid any pedestrians that may come your way, and enter the building with the poorest air circulation known to man.

In other words, [[you must enter the comic store.]]</tw-passagedata><tw-passagedata pid="39" name="you must enter the comic store." tags="zane prologue" position="741,5188" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio comicstore play loop&gt;&gt;A sigh most dolorous wheezes out of your delicate mouth. Oh, how the gratin Dauphinois eludes you, forces you to endure awful sights and smells for just a glimpse of its pulchritude. At least you need only wait one more day for those sliced potatoes and that cheesy cream... that creamy cheese...

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Zane. Hey, Earth to Zane.|

Ever so rudely, [[Lucy disrupts your daydream.]]</tw-passagedata><tw-passagedata pid="40" name="Lucy disrupts your daydream." tags="zane prologue" position="782,5417" size="100,100">You scowl and swat at the tan hand waving in front of your face.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Do you think-|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Obviously I do.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Shut up. Do you think it&#39;s a good idea?|

Oops. Clearly you missed an important conversation.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; It depends. Walk us through the pros and cons, won&#39;t you?|

She groans.

|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Pay attention for once, won&#39;t you?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Well, it&#39;s 2-to-1 or unanimous either way!|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; 3-to-1.|

Twos counts on her fingers, then makes a little &#39;o&#39; with her mouth.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I forgot to count myself.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Okay, fine, I give up. What are we doing?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; We&#39;re [[breaking in.]]|</tw-passagedata><tw-passagedata pid="41" name="breaking in." tags="zane prologue" position="782,5567" size="100,100">You clutch your metaphorical pearls.

|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Breaking in?!|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; That&#39;s 3-to-1, then!|
|&lt;img src=&quot;sprites/zane/angery.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; &lt;i&gt;Breaking in?!&lt;/i&gt; What are we even breaking into? Aren&#39;t we already here?|

It&#39;s a rhetorical question, if your olfactory senses tell you anything.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Look, it&#39;s not really breaking in. Like you said, we&#39;re already here! It&#39;s just...|

She gestures toward the counter, where a beaten-up &quot;OUT TO LUNCH&quot; sign sits.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; It&#39;s a good opportunity to look around, isn&#39;t it?|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That&#39;s so... crass.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Okay, but are you in or not?|

You exhale dramatically, sweeping your fingers through your wavy bangs.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Fine. Let&#39;s [[look at the counter]] first.|</tw-passagedata><tw-passagedata pid="42" name="look at the counter" tags="zane prologue" position="782,5717" size="100,100">&lt;&lt;set $checkMasonNotepad to false&gt;&gt;&lt;&lt;set $checkMasonDrawer to false&gt;&gt;&lt;&lt;set $checkMasonRoom to false&gt;&gt;There isn&#39;t much here, save for the sign and a notepad. But maybe he&#39;s hiding some secrets somewhere else?

[[Check the notepad.]]
[[Look in the drawer.]]
[[Move to the back room.]]</tw-passagedata><tw-passagedata pid="43" name="Check the notepad." tags="zane prologue" position="632,5862" size="100,100">&lt;&lt;set $checkMasonNotepad to true&gt;&gt;It&#39;s hard to make out his chicken scratch, but there&#39;s a couple things you&#39;re pretty sure you can read. Most pages look like sporadic shopping lists with the only recurring items being &quot;mtn do&quot; and &quot;chipz&quot;. You aren&#39;t sure you want to know what either of those are supposed to mean.

A few pages are filled with horribly uninspired rhymes about rising up and toppling the system. You wonder what he considers the system when he lives in such an idyllic little town.

On the final page, though, you can clearly see the name &lt;i&gt;[[ELANORE ELIZABETH]]&lt;/i&gt; with three heavy lines under it.</tw-passagedata><tw-passagedata pid="44" name="Look in the drawer." tags="zane prologue" position="782,5866" size="100,100">&lt;&lt;set $checkMasonDrawer to true&gt;&gt;There is little to note here. An empty bag of cheesy snacks immediately pops out as you open the drawer, dropping to the ground like a dead fly. Renli picks it up immediately, crinkling it disdainfully as she places it into the trash can.

The drawer does contain one thing, though, that you eye with horror as Twenty-Two plucks it out and tilts her head to get a better look. You swipe it out of her hands and slam it back into the drawer.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Nope. We aren&#39;t looking at this.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; But what if it has something important?|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Like what? Avalon DNA? I don&#39;t want that.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Maybe he wrote something secret in there!|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Ugh. I&#39;m not looking.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I don&#39;t wanna touch it now, though...|

You vaguely sense the girls looking at one another right before you feel Renli collapse against you dramatically, the back of one hand held to her forehead.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; O great Zane of House Leggieri, save us faint-hearted ladies from holding such eye-straining works!|

You roll your eyes and push her away, but in the end you still [[oblige.|zane looks at porn??]]</tw-passagedata><tw-passagedata pid="45" name="Move to the back room." tags="zane prologue" position="932,5867" size="100,100">&lt;&lt;set $checkMasonRoom to true&gt;&gt;The back room is precisely as one would expect from 27-year-old Mason Avalon. Discarded plastic bottles strewn around the room, a mattress without a bedframe or even a fitted sheet in the corner, and the lingering stench of soda and corn chips permeates your senses. Renli immediately starts putting the trash into piles with her fruit-grabber (seriously, why is that thing so big), not wanting to touch it with her hands but simultaneously feeling the urge to organize it all.

However, amid the mess is a sight most unusual. A massive sword with an azure blade that seems to ripple with light sits on a rack mounted to the wall. The guard is effectively just a round hole with swept protrusions, and the pommel reminds you of a gear with a blue gem at the end.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Is that... for cosplay?|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[I want it.]]|</tw-passagedata><tw-passagedata pid="46" name="Leave the comic store." tags="zane prologue" position="779,6307" size="100,100">|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So then... what next?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; If we still want to find Mason, he could be...|

You don&#39;t really know where he goes, aside from his store, Dunk&#39;s, and the French Quarter. To be fair, those are also the only places in Literacy that you frequent.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Actually, I think we should go to the retirement home.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Why is that?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Elanore Elizabeth. She works there, doesn&#39;t she?|

You&#39;re surprised that Renli of all people would know this bit of information, but you nod.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Smart. [[Then let&#39;s go there!|old people live here??]]|</tw-passagedata><tw-passagedata pid="47" name="zane looks at porn??" tags="zane prologue" position="783,6014" size="100,100">Look. You’re an adult. You have no problem with content portraying consenting adults in risqué scenarios.

But you &lt;i&gt;do&lt;/i&gt; have a problem with how excessive this art is. The anatomy is inconsistent, the expressions are more horror than erotic, and the dialogue... You shudder as you skim through as quickly as possible, highly doubtful you’ll find anything even remotely helpful.

That is, until something catches your eye. You swat away the hands that reach to flip back a page, eager to do it yourself.

Across a two-page spread, in neat yet frantic Sharpie, is the word [[CAMELOT.]]</tw-passagedata><tw-passagedata pid="48" name="I want it." tags="zane prologue" position="932,6017" size="100,100">You barely manage to restrain the girl as she leaps forward.

|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Let&#39;s take it! He wouldn&#39;t miss it, would he?|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; He would definitely notice it, that&#39;s for sure.|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yeah, but... but he has so much stuff!|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That doesn&#39;t mean he won&#39;t notice the giant sword on the wall has been taken!|
|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; ...|

After several more seconds of struggle, she finally slumps down, pouting with a dark cloud hanging over her head. Renli pats her shoulder as the four of you turn away.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; You&#39;re right, it&#39;s a very nice sword. We can have Mr. Billweeds make one for you later, okay?|

&lt;&lt;if $checkMasonNotepad is false&gt;&gt;[[Check the notepad.]]&lt;br /&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonDrawer is false&gt;&gt;[[Look in the drawer.]]&lt;br /&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonNotepad is true and $checkMasonRoom is true&gt;&gt;[[Leave the comic store.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="49" name="old people live here??" tags="zane prologue" position="730,6458" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio retirementhome play loop&gt;&gt;The retirement home smells strongly of feline urine, which you attribute to the overgrown mint plants rather than the residents. After all, a facility such as this must have high standards, as treating one’s elders with respect is a critical aspect of keeping a society running. Also, you will happily bear with anything less pungent than Mason’s room.

Unfortunately, your mission is not as simple as marching in and demanding answers from Elanore. A nurse stops her paperwork and smiles tiredly at you.

|&lt;img src=&quot;sprites/nurse/neutral.png&quot; width=150px&gt;|&lt;b&gt;NURSE:&lt;/b&gt; Hi. How can I help you?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Hi! We’re here to see...|

She stops mid sentence and [[leans back to whisper.|413 haha]]</tw-passagedata><tw-passagedata pid="50" name="time to shine, zaney boy" tags="zane prologue" position="779,6876" size="100,100">|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You’re hopeless.|

You sweep Lucy aside and charm the nurse with a dazzling smile.

|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Please forgive my companions; they still need some improvement in the realm of humor. We’re here for the volunteer opportunity with Elanore Elizabeth.|
|&lt;img src=&quot;sprites/nurse/neutral.png&quot; width=150px&gt;|&lt;b&gt;NURSE:&lt;/b&gt; The... volunteer opportunity?|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That’s right. Zane, Twenty-Two, Renli, and Lucy.|

She starts shuffling vigorously through some papers, occasionally peering up into each of your faces.

|&lt;img src=&quot;sprites/nurse/neutral.png&quot; width=150px&gt;|&lt;b&gt;NURSE:&lt;/b&gt; Hmm... I can’t seem to find anything about volunteers today.|

If you were anyone else, the scrutiny of her gaze would send you into a panicky spiral. Your hands would be shaking and clammy, and perhaps you would even bite your lip. But you are Zane Ansovino Ivo Hikaru di Leggieri, and persuasion may as well be one of your names.

|&lt;img src=&quot;sprites/nurse/neutral.png&quot; width=150px&gt;|&lt;b&gt;NURSE:&lt;/b&gt; Well, if it’s Eli, I suppose I can [[let it slide.]]|
</tw-passagedata><tw-passagedata pid="51" name="let it slide." tags="zane prologue" position="780,7025" size="100,100">Though clearly dressed down for such an event, Elanore is easily the most glamorous person present (second only to you, of course). Blonde hair piles into a smart bun, glasses framing her face ever so elegantly.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Seventeen! Ten plus seven. Seventeen?|

Some shuffling and murmuring as members of the crowd check their cards carefully.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Seventeen. Going once, going twice-|

An arm shoots up in the air as a tiny woman proclaims her victory. She is nothing but adorable - not that you would ever admit aloud that elderly people were an exception in your book.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Come on up to claim your prize, Ms. Agnes!|

You make eye contact with Elanore, who hesitates for a moment before nodding. As the other employees shake the woman&#39;s hand and take her card to verify, Elanore moves to the back of the room to [[make her way to you.]]</tw-passagedata><tw-passagedata pid="52" name="413 haha" tags="zane prologue" position="778,6710" size="100,100">|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Should I lie?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah, she doesn’t need to know everything.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; No, the truth is simple enough.|

This contradiction throws her for a loop, and she stares slack-jawed at the nurse for an uncomfortable stretch until Lucy pushes her out of the way.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I’m here to see my grandma.|
|&lt;img src=&quot;sprites/nurse/neutral.png&quot; width=150px&gt;|&lt;b&gt;NURSE:&lt;/b&gt; Okay. Room number and last name?|

Now Lucy is looking around nervously, as if she hadn’t expected to get this far.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Umm... four-hundred and thirteen...?|

It might be time for [[you to step in.|time to shine, zaney boy]]</tw-passagedata><tw-passagedata pid="53" name="ELANORE ELIZABETH" tags="zane prologue" position="632,6011" size="100,100">The closest thing to a celebrity that Literacy has to offer, Elanore often attends or even hosts parties, frequently of a fundraising nature. Her intentions are more genuine than most philanthropists, though - during the day, she works at the local retirement home, an occupation you find rather respectable. In short, it&#39;s no surprise so many would seek the company of a refined - if aloof - young woman.

However, you also know she and Mason are close friends. What could possibly have caused him to write her full name in such a way?

&lt;&lt;if $checkMasonDrawer is false&gt;&gt;[[Look in the drawer.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonRoom is false&gt;&gt;[[Move to the back room.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonDrawer is true and $checkMasonRoom is true&gt;&gt;[[Leave the comic store.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="54" name="make her way to you." tags="zane prologue" position="780,7174" size="100,100">|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Mr. Zane, it&#39;s wonderful to meet with you outside a formal gala.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Please, Ms. Elanore, you may simply address me as Zane.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Very well. Then you may simply address me as Elanore.|

You were going to anyway, but it&#39;s good to know you&#39;re on the same page about formalities.

|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Gladly. I&#39;m uncertain whether you&#39;ve met my companions, but this is Lucy...|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Heya.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... Twenty-Two, or Twos...|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Hi!|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... and Renli.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Hello!|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; A pleasure to make your acquaintances, Lucy, Twenty-Two, Renli.|

She pauses and [[turns her attention to the pinkette.|lumch...]]</tw-passagedata><tw-passagedata pid="55" name="lumch..." tags="zane prologue" position="780,7324" size="100,100">|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Renli, I believe we have briefly met a few times at the French Quarter. You were always working, though, so I doubt you remember little old me.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; No, of course I remember! I&#39;m sorry we haven&#39;t been able to talk more; my shifts are always so busy.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Well, I&#39;m glad we have the chance now. Speaking of which -|

She inclines her head toward you again.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; - my shift ends soon. I&#39;d like to extend an invitation to all of you for lunch.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; The French Quarter?|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Of course.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; We&#39;re, uh, we&#39;ve kind of been banned until tomorrow.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Well, surely I can work something out. Let&#39;s meet there - I need to clock out and change clothes first.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Excellent. We&#39;ll see you then.|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Bye, Elanore! I love you!|

Elanore looks entirely baffled, then shakes her head a bit and smiles as she departs.

Time to [[head back to the French Quarter]], then.</tw-passagedata><tw-passagedata pid="56" name="StoryInit" tags="" position="508,65" size="100,100">&lt;&lt;cacheaudio &quot;dunks_zane&quot; &quot;music/Jazz Brunch.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;dailylife&quot; &quot;music/Glitter Blast.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;frenchquarter&quot; &quot;music/Poppers and Prosecco.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;retirementhome&quot; &quot;music/Exit the Premises.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;comicstore&quot; &quot;music/Spellbound.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;scallywag&quot; &quot;music/Wretched Destroyer.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;radiotower&quot; &quot;music/Aerosol of my Love.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;speckfight&quot; &quot;music/Ethernight Club.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;norm&quot; &quot;music/Awkward Meeting.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;faceoff&quot; &quot;music/Faceoff.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;kickshock&quot; &quot;music/Kick Shock.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;beautyflow&quot; &quot;music/Beauty Flow.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;rynostheme&quot; &quot;music/Rynos Theme.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;kawaikitsune&quot; &quot;music/Kawai Kitsune.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;andreastheme&quot; &quot;music/Andreas Theme.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;hustle&quot; &quot;music/Hustle.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;arcane&quot; &quot;music/Arcane.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;nightmare&quot; &quot;music/Nightmare Machine.mp3&quot;&gt;&gt;

&lt;&lt;cacheaudio &quot;flashback1&quot; &quot;music/I Am a Rock.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;memory1&quot; &quot;music/Memory 1.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;memory2&quot; &quot;music/Memory 2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;memory3&quot; &quot;music/Memory 3.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;memory4&quot; &quot;music/Memory 4.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;bryyo&quot; &quot;music/Bryyo.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;assassins&quot; &quot;music/Turn to Stone.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;ilia&quot; &quot;music/Coolkid.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;missingyou&quot; &quot;music/Missing You.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;stolasspeaks&quot; &quot;music/Stolas Speaks.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;extenttea&quot; &quot;music/Kumo VS Mafia v2.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;renewedspring&quot; &quot;music/Kill U 2wise Over.mp3&quot;&gt;&gt;

&lt;&lt;cacheaudio &quot;santeria&quot; &quot;music/Santeria.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;lake&quot; &quot;music/Ocean Man.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;harvest&quot; &quot;music/Yield.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;bless&quot; &quot;music/Yu-Gi-Oh! Duelist of the Roses OST - Vs Lancastrians Extended.mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;dog&quot; &quot;music/Should I Stay or Should I Go.mp3&quot;&gt;&gt;

&lt;&lt;cacheaudio &quot;itemgetsfx&quot; &quot;music/Pokémon Black &amp; White (Obtained an Item!).mp3&quot;&gt;&gt;
&lt;&lt;cacheaudio &quot;oceansfx&quot; &quot;music/water_ocean_waves_shore_constant_small_001.mp3&quot;&gt;&gt;

&lt;&lt;set $playerName to &quot;&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="57" name="head back to the French Quarter" tags="zane prologue" position="738,7468" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio frenchquarter play loop&gt;&gt;Ah, gratin dauphinois... Even with the doors closed, you can smell it from outside the corner store/French restaurant. Though you try to control it, you are moving far more positive energy than usual, and your companions are entirely aware of just how lighthearted you are. Even those who pass by and don&#39;t recognize your disinterested face a quick smile and wave.

To be honest, you just want Elanore to hurry along and show up. Between Rika and Elanore, it will be a duel between an immovable object and an unstoppable force. But you allow yourself to hope that, of all people, [[Elanore can change Rika&#39;s mind.]]</tw-passagedata><tw-passagedata pid="58" name="Elanore can change Rika&#39;s mind." tags="zane prologue" position="777,7703" size="100,100">When she arrives, you are nothing short of shocked at the difference in appearance. She has exchanged grape scrubs for a baby blue A-line summer dress - you never thought you&#39;d see the day tulle and rhinestones looked good together, but here you are. Her dark jacket bears a matching blue trim and lapel pin. Wavy locks, partly plaited back, fall just beyond her shoulders.

For once, you might not be the prettiest person in a 100-foot radius.

You wonder, briefly, if maybe you should convince your companions to be more fashion-forward. Then you could also [[doll yourself up]] without feeling like a sore thumb...</tw-passagedata><tw-passagedata pid="59" name="doll yourself up" tags="zane prologue" position="777,7842" size="100,100">... though it would be silly. The purpose of your casual look (short-sleeved button down, dark jeans, dark skate shoes) and your visits to Literacy are, after all, meant to help you live a normal life once in a while.

And, as much as you may hate to admit it, they all look fine the way they are.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Thanks for waiting! [[Let&#39;s get going.]]|</tw-passagedata><tw-passagedata pid="60" name="Let&#39;s get going." tags="zane prologue" position="777,7992" size="100,100">You hear the start of a horrible groaning sound, but it quickly fades into a coughing fit that lasts just a bit too long. You catch Rika straightening as she quickly adjusts her glasses on the bridge of her nose.

|&lt;img src=&quot;sprites/rika/flushed.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Hah, hey!|
|&lt;img src=&quot;sprites/elanore/flushed.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Rika! It&#39;s always so good to see you. I&#39;m sorry we haven&#39;t been able to speak much lately.|
|&lt;img src=&quot;sprites/rika/flushed.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yeah! No worries; I&#39;ve been super busy. It&#39;s - it&#39;s good to see you, too!|

Not the response you expected in the slightest. When you greet Rika with even a fraction of that much excitement, she usually threatens to ban you. It&#39;s so shocking, in fact, that [[you manage to keep your mouth shut.]]</tw-passagedata><tw-passagedata pid="61" name="you manage to keep your mouth shut." tags="zane prologue" position="777,8142" size="100,100">|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Will you be around this Friday evening? I&#39;d love to sit down over dinner and catch up.|
|&lt;img src=&quot;sprites/rika/smile.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; You know me - I&#39;m always around. Here.|

Her hands fold to make awkward finger guns at Elanore, who giggles like it&#39;s the funniest thing she&#39;s ever heard.

|&lt;img src=&quot;sprites/rika/flushed.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; But I mean, I&#39;m sure I could at least take a coffee break.|

She side-eyes Renli.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Or maybe get someone else on the shift.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt;|
|&lt;img src=&quot;sprites/rika/smile.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Either way, I can make it work!|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Then I&#39;ll see you then.|

You swear you see a little wink from Elanore and the slightest hint of red on Rika&#39;s face. Your stomach roils - though more from impatience than anything - and [[you cough]] to remind them of the four others in the vicinity.</tw-passagedata><tw-passagedata pid="62" name="you cough" tags="zane prologue" position="777,8292" size="100,100">|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Well, for now - I&#39;d like to have lunch with my compatriots.|
|&lt;img src=&quot;sprites/rika/smile.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yeah, for sure!|

Rika finally looks around and processes just who Elanore means by her &quot;compatriots&quot;.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Um - actually, about that...|

She points at the board behind her.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Three of your compatriots are banned until tomorrow.|
|&lt;img src=&quot;sprites/elanore/concerned.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Aww, Rika...|

For a moment, [[you think it&#39;s over.]]</tw-passagedata><tw-passagedata pid="63" name="you think it&#39;s over." tags="zane prologue" position="777,8442" size="100,100">... but then Elanore steps forward and grasps Rika&#39;s hands between her own.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; For me? Please?|

And Rika, stubborn Rika, for whom budging is hardly ever an option - Rika sighs and lets her shoulders slump.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; [[Fine.]]|</tw-passagedata><tw-passagedata pid="64" name="Fine." tags="zane prologue" position="777,8591" size="100,100">Your eyelids flutter in shock. Did you really just hear that correctly?

Elanore takes your orders, conveys them to Rika, and leads you to a booth with a blue gingham tablecloth. The rest of you manage to be silent up until [[a minute after you&#39;ve all taken a seat.]]</tw-passagedata><tw-passagedata pid="65" name="I forgot!" tags="zane prologue" position="785,9588" size="100,100">|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Bye Elanore! I love you!|
|&lt;img src=&quot;sprites/elanore/flushed.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Ah-|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Bye, Miss Rika! I love you!|
|&lt;img src=&quot;sprites/rika/tsundere.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; ... bye.|

Belly full of gratin dauphinois, you feel much more willing to conduct a proper search for Mason Avalon. Of course, your only option is the same as before - but a good chunk of time has passed; surely he must be back by now.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; We should [[check the comic store again.]]|</tw-passagedata><tw-passagedata pid="66" name="check the comic store again." tags="zane prologue" position="718,9717" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dailylife play loop&gt;&gt;The comic store is exactly as you left it. The sign is still out, the notepad is still open, and the air is still musty.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So. That leaves us without any real leads on where Mason is, huh?|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; That’s right.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt;Then we should see if Duncan had better luck than the rest of us. Let’s [[head back to Dunk’s.]]|

Though you suppose you could also [[look in the back room again.]]</tw-passagedata><tw-passagedata pid="67" name="head back to Dunk’s." tags="zane prologue" position="789,9970" size="100,100">You don’t need to make it all the way to Dunk’s to find Duncan. The sandy-haired cut of beef blasts out the window of the storage shed at the docks, sails across the street in front of you, and skids into the water from a low angle. It’s almost comedic, except the shed door splinters shortly thereafter to reveal a huffing and puffing [[Captain Scallywag.]]</tw-passagedata><tw-passagedata pid="68" name="Captain Scallywag." tags="zane prologue" position="790,10120" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio oceansfx volume 0.2 play loop&gt;&gt;You never liked bucket hats, so you immediately recoil when you see the one he wears. It even matches his massive yellow raincoat and boots. A terrible choice for the summer, really - his whole body is hidden, and with his big white beard, you can barely see his face.

His legal name is Scully Scurvywag, but the town has affectionately dubbed him Captain Scallywag (or, in the case of the younger children, Grandpa Scallywag). Supposedly, he was once a pirate captain, hence his title. You never believed it - he was always so soft-spoken and generally kept to himself, but would go out of his way to help others out in quiet ways.

Until now, anyway.

Empty bloodshot turn to you. Even if you wanted to run, it’s too late now.

[[Time to fight, pretty boy.]]</tw-passagedata><tw-passagedata pid="69" name="look in the back room again." tags="zane prologue" position="641,9969" size="100,100">Mason&#39;s bedroom (does he actually sleep here? Or is the mattress just for napping? Either way, you decide you don&#39;t want to know the answer) is also no different than when you were here about an hour ago.

|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Did we come back here for the sword?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; It &lt;i&gt;is&lt;/i&gt; a very nice sword.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Please don&#39;t take the sword.|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Right, yes, don&#39;t take the sword. We&#39;re here to... investigate.|

Renli continues her trash-organizing from earlier. You realize Mason does not have a trash can of any sort in this room. You feel a wave of [[nausea.]]</tw-passagedata><tw-passagedata pid="70" name="Time to fight, pretty boy." tags="zane prologue" position="791,10260" size="100,100">|&lt;&lt;audio scallywag play loop&gt;&gt;&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You look like you haven&#39;t blinked in a month. Let&#39;s fix that, shall we?|

You start pulling in all the &lt;i&gt;good&lt;/i&gt; of your surroundings, charging up a blast. Your toes come up off the ground, shoes hovering an inch above the sand as your whole being starts to glow.

From the corner of your right eye, you see Lucy, 22, and a Tibetan mastiff start moving toward the fisherman - only to trip over one another. While the dog is able to recover quickly and bound away, Renli hurries over and starts helping the other two back to their feet.

So, you’re the only one they can count on. [[Figures.]]</tw-passagedata><tw-passagedata pid="71" name="release the beam!!" tags="zane prologue" position="793,10551" size="100,100">|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Renli, cover me!|

You &lt;i&gt;think&lt;/i&gt; you catch a glimpse of her pulling Lucy up while 22 makes it on her own, but it’s hard to tell when nothing but light fills your vision. A white-hot sphere forms between your hands, energy pulsating and fighting to break free. You let it sit there just a moment longer, bitterly relishing all the blessings you hold.

And then [[you let it go.]]</tw-passagedata><tw-passagedata pid="72" name="you let it go." tags="zane prologue" position="793,10688" size="100,100">The huge force with which you blast Captain Scallywag sends him several feet backwards. Yet somehow, he remains standing.

And now, his gaze is focused on you.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Uh oh.|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Zane, eat this!|

You barely manage to catch the purple squash before it hits your face. You’d rather not think about what could happen if that were to ever happen - you’ve seen before that Renli’s produce can have completely different effects whether they are eaten or thrown. Now, you&#39;d better [[eat that squash.]]</tw-passagedata><tw-passagedata pid="73" name="Shall we tango?" tags="zane prologue" position="793,10967" size="100,100">The words barely manage to leave your mouth before you see him raise his cane as it splits - first in half, then each of those halves again, and then quarters turn into eighths. The branches twist and dance synchronously in a mesmerizing choreography. You recognize this trick of his epithet, &quot;Reel.&quot; While it allows him to catch fish in an extremely efficient manner, he prefers to wrangle them the classic way. Instead, he uses his epithet to entertain kids.

Before this, you never would have guessed that the reels could be used to harm as well. But all too quickly, [[they come straight for you.]]</tw-passagedata><tw-passagedata pid="74" name="eat that squash." tags="zane prologue" position="792,10829" size="100,100">Biting into the vegetable (fruit? You don’t know; you’re not the culinary expert here), you briefly close your eyes as warmth floods you. You feel… tougher. Not quite invincible, but what would once tear you to shreds will now only leave a bruise.

|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Delicious as always.|

You face the fisherman and toss your hair back in a motion worthy of hair product commercials - for which you have modeled many a time.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Now, Mister Scallywag. [[Shall we tango?]]|</tw-passagedata><tw-passagedata pid="75" name="music for later" tags="" position="500,325" size="100,100">https://youtu.be/A33K41jRsCc 
Alleycat (Persona 5, Bass + Reverb) - Rika and Eli&#39;s &quot;fight&quot;

https://youtu.be/-Is2KILzWeU
The Silver Haired Boy (Hunter x Hunter 2011) - Team Friendship Attack!

https://youtu.be/ItLaESz43N0
On the Coast (Hades) - Zane’s Choice / Mystery Girl’s Theme

https://youtu.be/DwvLElJ5dfY
Primordial Chaos (Hades) - Theme of the Hangman

https://youtu.be/5g0vr8FmenU
At What Cost (Fire Emblem: The Three Houses) - Vs. The Doctor</tw-passagedata><tw-passagedata pid="76" name="they come straight for you." tags="zane prologue" position="793,11115" size="100,100">A loud cracking noise as you feel several strikes across your body. You look down and count the rips in your jeans and shirt. Through some of the holes, you can see beads of red forming.

Six. From a quick glance around, it looks like 22 was the other victim - she clutches her side with a sour look, but she doesn&#39;t seem quite as pained as you feel. You wonder, briefly, whether her pain tolerance is somehow higher, or if Scallywag just really doesn&#39;t like you.

Regardless, you can still think of one positive thing.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Good! You didn&#39;t hit my face.|

If he had, nothing could possibly prepare him for the [[divine retribution]] he would incur.</tw-passagedata><tw-passagedata pid="77" name="divine retribution" tags="zane prologue" position="794,11258" size="100,100">Of course, that doesn&#39;t mean he won&#39;t see divine retribution anyway. After all, he put some awful tears in your Borbarry jeans and your Louis the V shirt. They were neither your favorite nor held any particular sentimental value, and you have plenty of extras to spare, but you aren&#39;t terribly keen on waste even with your excess.

You see Renli handing what looks like a black radish over to 22, who promptly runs toward Scallywag - presumably to punch him or something; you&#39;re not really sure. The man is currently occupied with wrestling Lulu. [[It&#39;s the perfect opportunity to strike.]]</tw-passagedata><tw-passagedata pid="78" name="Figures." tags="zane prologue" position="794,10411" size="100,100">Lulu’s aggressive movement registers to the captain as a more immediate threat than your ominous hovering. He lets out a mighty roar and kicks her shoulder with a spurred boot.

You briefly wonder why a sea captain is wearing spurs. No time to ponder, though: despite her size, the hit was still a good one that has her snarling and hesitating in pain. She might be out for the count soon if you don’t [[do something.|release the beam!!]]</tw-passagedata><tw-passagedata pid="79" name="It&#39;s the perfect opportunity to strike." tags="zane prologue" position="793,11408" size="100,100">Your toes leave the ground yet again as you absorb more blessings out of everything. The area around you loses a bit of color; sand becomes ash and the incoming tide a pale slate. Raw power courses through your veins and crackles in your fingertips with each beat of your heart.

A huge blast of [[water]] knocks over Captain Scallywag.</tw-passagedata><tw-passagedata pid="80" name="a minute after you&#39;ve all taken a seat." tags="zane prologue" position="779,8733" size="100,100">|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That was... highly impressive, Elanore.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Why thank you. I told you I could make it work, didn&#39;t I?|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I never should have doubted you.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; So... while we wait, might I ask why you sought my company?|

Still roiling with gratitude, you have to pause for a second to get your bearings. Your teammates, for once, are on the ball.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; We&#39;re looking for Mason.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; It&#39;s for Duncan; I think he had an errand for him.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Have you seen him?|
|&lt;img src=&quot;sprites/elanore/concerned.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Oh! I see. Was he not in his store?|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Nope. And he&#39;s obviously not here, either, which doesn&#39;t leave us with all that many options.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Is there anywhere else you can think of that he could be?|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; There&#39;s Dunk&#39;s, of course.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Right, but that was where we started the day.|
|&lt;img src=&quot;sprites/elanore/concerned.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; If it wasn&#39;t a weekday, he &lt;i&gt;could&lt;/i&gt; be at the beach, or maybe the park.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; But it&#39;s definitely a weekday, and he definitely had a sign saying he would be back soon.|
|&lt;img src=&quot;sprites/elanore/concerned.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Actually, I haven&#39;t heard from him for a few days, now that I&#39;m thinking about it.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; How was he? When you saw him, I mean.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Nothing seemed out of the ordinary, if that&#39;s what you&#39;re asking.|
|&lt;img src=&quot;sprites/elanore/concerned.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Although... when you find him, can you ask him &quot;what the fuck he meant by this?&quot;|

You&#39;re a little astonished to hear her curse.

|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Of course!|

At that moment, [[your food arrives.]]</tw-passagedata><tw-passagedata pid="81" name="your food arrives." tags="zane prologue" position="780,8875" size="100,100">The delicate, flaky layers. The starchy texture and light flavor of such thinly-sliced potatoes, paired with the earthy tang and creaminess of well-aged gruyère, sends you to an entirely new dimension of bliss.

You are in heaven. Or at least, the closest you can possibly get while you are in Literacy.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; What do you plan to do next? In terms of searching for Mason, I mean.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Probably stop by the comic store again. If he&#39;s still out, we&#39;ll head back to Dunk&#39;s.|

As you take a bite of your light salad (of course, you would never eat an unbalanced meal!) you sneak a glance at [[your lunch companions&#39; plates.]]</tw-passagedata><tw-passagedata pid="82" name="your lunch companions&#39; plates." tags="zane prologue" position="780,9025" size="100,100">Elanore, of course, has the best taste. An authentic (well... as authentic as one can get here) Lyonnaise salad with a healthy mixture of frisée, arugula, and salted pork belly. The yolk of the poached egg makes you drool. If you weren&#39;t so desperate for your dauphinois, you would have considered something so hearty.

Lucy&#39;s choice admittedly isn&#39;t terrible, but the only green on her dish is the single decorative sprig of rosemary. The rest consists of medium-rare lamb chops and a pale sauce you believe to be some sort of dijon cream. Delicious, but you&#39;re convinced the brunette will come down with scorbutus one day.

Twenty-Two has two strawberry mille-feuille on her plate. An excellent dessert, to be sure, and one that the French Quarter prepares well, but not even remotely a meal.

Renli only has a glass of water, no plate. You&#39;re not sure you&#39;ve ever seen her eat anything that isn&#39;t raw.

Regrettably, 22 addresses you, and you return to [[the conversation at hand.]]</tw-passagedata><tw-passagedata pid="83" name="the conversation at hand." tags="zane prologue" position="781,9167" size="100,100">|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; You ever think about how your skeleton is always wet?|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I wish I never did, but thanks for ruining my life.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Don&#39;t worry, Zane. There will come a time when it is dry.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Thanks! Even worse.|

Elanore giggles, covering her mouth delicately.

|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; You&#39;re all so funny.|

You decide it&#39;s high time to stop savoring the food and to speed-run eating your meal. The less time she spends with Lucy, Renli, and 22, the less of a chance they have of freaking her out.

Your dish is almost empty when Twenty-Two leans in toward Elanore and [[says something horrifying.]]</tw-passagedata><tw-passagedata pid="84" name="says something horrifying." tags="zane prologue" position="782,9302" size="100,100">|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I think Miss Rika has a crush on you!|

You very nearly spit out your food. Elanore has turned red incredibly quickly, and she sputters in a particularly unfitting manner.

|&lt;img src=&quot;sprites/elanore/flushed.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Y-you think so...? Why is that?|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Well, she kinda blushes when she looks at you, and she talks to you different.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I beg your pardon, Elanore. Twos learned about crushes recently, so she is overeager to use the concept in conversation.|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; I see.|
|&lt;img src=&quot;sprites/22/angry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; That&#39;s not true??? Well... I mean, I learned about them, but that doesn&#39;t mean I&#39;m going to force it?|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah, Twos isn&#39;t that clueless.|

You kick Lucy&#39;s shin under the table and send her a look. She sticks her tongue out at you, right as [[Elanore clears her throat.]]</tw-passagedata><tw-passagedata pid="85" name="Elanore clears her throat." tags="zane prologue" position="783,9446" size="100,100">|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Well, this has been lovely. Truly. But I realized my lunch break will be over soon.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Ah, yes, we&#39;d better get going as well.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Right, I have to go to bed in a few hours.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; It has been a pleasure catching up with you.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Nice meeting you, Elanore!|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Thanks for taking us out!|

You drag your companions away from the booth and out of the store. As you exit, you witness Elanore slowly approach Rika. Both of them are rather flushed.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Just because you&#39;re right doesn&#39;t mean you have to say it, Twos.|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Oh, right! [[I forgot!]]|</tw-passagedata><tw-passagedata pid="86" name="water" tags="zane prologue" position="793,11558" size="100,100">&lt;&lt;audio scallywag stop&gt;&gt;&lt;&lt;audio santeria play loop&gt;&gt;Wait, water? That has to be a mistake; your epithet visually manifests as light...

|&lt;img src=&quot;sprites/duncan/angry.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; MOVE IT!|

Oh.

In an impressive display of control and raw power, fist-shaped water slams down and knocks out Scallywag before returning to the ocean. As it clears, you realize that a pair of eraser cuffs have been slapped around his wrists. Furthermore, Duncan stands atop a swirling mass of seawater, hands on his hips as he laughs heartily.

|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Sorry that took so long! I think I almost passed out there!|

He has effectively stolen all your thunder in one fell swoop. [[You can&#39;t really blame him.]]</tw-passagedata><tw-passagedata pid="87" name="You can&#39;t really blame him." tags="zane prologue" position="792,11707" size="100,100">The water descends and gently lets Duncan down on the pier. He stretches his arms out, then grins broadly at you.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Hi, kids! I&#39;m glad you&#39;re safe. You held out pretty good against him.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Yes, we were doing &lt;i&gt;perfectly fine&lt;/i&gt; before you arrived.|
|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; I couldn&#39;t have done it without your help!|

He laughs and slaps you on the back, briefly winding you.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m glad you didn&#39;t pass out. You would have drowned!|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Me, too. That wouldn&#39;t have been very good.|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I always knew you had an epithet! [[What is it?]]|</tw-passagedata><tw-passagedata pid="88" name="What is it?" tags="zane prologue" position="793,11857" size="100,100">You nudge 22 and give her a look. While few Inscribed truly hide theirs, it is hardly considered in good form to outright ask. Thankfully, this is Duncan with whom you are speaking, and offending him is nearly impossible.

|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Right! My epithet is DUNK!|

He flexes. You feel absolutely nothing.

|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh, that&#39;s funny! Because your name is Duncan, and you run the store we call Dunk&#39;s!|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Exactly!|

He gives another big round of laughter as he [[heaves the unconscious body]] over his shoulder.</tw-passagedata><tw-passagedata pid="89" name="he leaves." tags="zane prologue" position="793,12157" size="100,100">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dailylife play loop&gt;&gt;&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Welp, that was wild.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yeah... but I&#39;m glad we were all together!|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Are all of you alright? I can patch you up if you need...|

You give your companions the slightest smile and turn to gaze across the water. No matter how little you express it outwardly, with Renli, Twenty-Two, and Lucy there, you could never regret your time here.

After all, in spite of its shortcomings and the occasional outbreak of chaos, [[Literacy is peaceful and idyllic.]]</tw-passagedata><tw-passagedata pid="90" name="Literacy is peaceful and idyllic." tags="zane prologue" position="793,12306" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio flashback1 play loop&gt;&gt;Or at least, you ponder as much for a few quiet moments, until the unthinkable happens.

A few meters away, the water begins bubbling. At first, you think nothing of it, but it increases in size and continues for too long. The others notice it, too, quickly pointing it out and taking a cautious step away from the edge of the dock.

Smooth chrome rises, cold and bright and suspiciously dry. It’s almost unbearable for your mind to look directly, but from what you can decipher, it seems to be shaped like a woman. Eyes open, followed shortly by a mouth that emits horrible, grating whispers.

|&lt;img src=&quot;sprites/isabella/robot.png&quot; width=150px&gt;|&lt;b&gt;WOMAN:&lt;/b&gt; [[Literacy is not what you think.]]|</tw-passagedata><tw-passagedata pid="91" name="Literacy is not what you think." tags="zane prologue" position="793,12454" size="100,100">|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What the hell is that supposed to mean.|
|&lt;img src=&quot;sprites/isabella/robot.png&quot; width=150px&gt;|&lt;b&gt;WOMAN:&lt;/b&gt; I don’t have time to explain, but I’m counting on you. Please, do me a favor.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah? Why should we?|
|&lt;img src=&quot;sprites/isabella/robot.png&quot; width=150px&gt;|&lt;b&gt;WOMAN:&lt;/b&gt; I need you to look into the Oculus. It sits atop the highest point of town and detects the danger each individual poses.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... Yeah, I’m with Lucy here. Why should we bother? How do I know you aren’t trying to get us in trouble?|
|&lt;img src=&quot;sprites/isabella/robot.png&quot; width=150px&gt;|&lt;b&gt;WOMAN:&lt;/b&gt; I... I cannot say. Someone could be listening.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; If they are, doesn’t that make this whole exchange moot?|
|&lt;img src=&quot;sprites/isabella/robot.png&quot; width=150px&gt;|&lt;b&gt;WOMAN:&lt;/b&gt; ... Please. I can show you this, but you must find the rest of the truth on your own.|

A black cube half the height of the woman emerges from the sea, curiously just as dry. It draws attention imperiously, [[vision swirling]] as a long hallway with sterile lighting fills your mind.
</tw-passagedata><tw-passagedata pid="92" name="vision swirling" tags="zane prologue" position="800,12600" size="100,100">Shine on, Zane. Yet there is so little use for you when your hands are bound and your enemies are blind. You walk with neither disdain nor pride, following two men in suits and flanked by two more. [[Don’t let them dim your light, not when we need it most.]]</tw-passagedata><tw-passagedata pid="93" name="Don’t let them dim your light, not when we need it most." tags="lucy prologue" position="793,12755" size="100,100">Lucy, dearest, we all know your bite is worse than your bark. But there&#39;s no need for you to keep fighting; not against these faceless agents whose grips are sure to leave bruises. That’s right; even you and your unbreakable Diamonds know when you’re outnumbered and out of time. [[You are no more animal than you allow yourself to be.]]</tw-passagedata><tw-passagedata pid="94" name="You are no more animal than you allow yourself to be." tags="tt prologue" position="793,12905" size="100,100">Subject Twenty-Two, bottle up your tears before you drown us all. The only reason they don’t need more to restrain you is because you let them pull you along, bawling and screaming but nonetheless drawing closer with each step. You’re stronger than you think, better than you think.  [[They know it, too.]]</tw-passagedata><tw-passagedata pid="95" name="They know it, too." tags="renli prologue" position="793,13054" size="100,100">Stiff as a corpse, expression cold as stone - Renli, why don’t you lighten up a bit? The horrors of what you do are only as bad as you paint them; three or thirty of these guards makes no difference. In the end, there is so much worth living for, if you just look a little closer. [[Wait a little longer, and maybe you’ll understand the taste of ripe fruit a little better.]]</tw-passagedata><tw-passagedata pid="96" name="Wait a little longer, and maybe you’ll understand the taste of ripe fruit a little better." tags="zane prologue" position="796,13202" size="100,100">By the time it’s over, you’ve collapsed to your knees. The woman and her cube are nowhere to be seen. A drop of water hits your arm, then another, and you touch your face to find twin streams running down your pallid cheeks. You wipe them away furiously and rise, perfectly-plucked brows twisting into a beautiful mien of rage.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I’m going home.|

You jam your hands in your pockets and turn. You don’t look at the others as you go - you won’t be able to hold back, and you simply cannot stand to be seen in such a vulnerable state.

[[And so it continues.|Part One]]</tw-passagedata><tw-passagedata pid="97" name="CAMELOT." tags="zane prologue" position="780,6160" size="100,100">There is the tale of King Arthur and his knights, of course, but Camelot means something else to you.

Located on a remote island is a privately-owned correctional facility. Known colloquially as Camelot, it houses the most irredeemable of criminals.

But what truly sickens you is the ever-growing list of unethical experiments and torture methods you hear of every time you rub elbows with the elite. No one cares for the convicted, so it&#39;s easy enough for everyone to turn a blind eye, even when the investors openly boast about nightmarish punishments.

No matter how hard you think, though, you cannot find a single reason for Mason to have done... this, whatever it is.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Let&#39;s just... move on.|

&lt;&lt;if $checkMasonNotepad is false&gt;&gt;[[Check the notepad.]]&lt;br /&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonRoom is false&gt;&gt;[[Move to the back room.]]&lt;br /&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $checkMasonNotepad is true and $checkMasonRoom is true&gt;&gt;[[Leave the comic store.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="And so it goes." tags="renli partone" position="1502,307" size="200,200">&lt;&lt;audio frenchquarter play loop&gt;&gt;It&#39;s a beautiful morning, and you can&#39;t wait to seize the day with your best friends. Across the booth from each other, Lucy and Zane are engaged in a glaring contest. The freckled girl tears into her bacon croissant while wearing a menacing look. The pale boy, on the other hand, frowns more than usual as he silently cuts into his omelette.

You smile happily, hands folded in front of your apron as you stand guard at the end of the table. Long lashes shut as the sun peeks through the window momentarily. You&#39;ve already eaten the breakfast you cobbled together at the end of your shift (an apple, some celery with peanut butter and raisins, and whole-wheat toast with a poached egg), which was about an hour ago.

All that&#39;s missing is Twenty-Two, you think, right as you hear [[a crashing noise.]]</tw-passagedata><tw-passagedata pid="99" name="a crashing noise." tags="renli partone" position="1554,544" size="100,100">Sitting in the middle of a cloud of dusty plaster and a fallen ceiling tile is your orange-haired friend. You hurry over and help dust her off

Finally, she slides into the seat beside Zane, who is looking increasingly disgruntled with every passing moment.

|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Hi, hi! Sorry I&#39;m late.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Twos! I&#39;m glad you could come by.|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I truly look like a gluttonous fool now.|

[[Lucy shifts very conspicuously.]]</tw-passagedata><tw-passagedata pid="100" name="oh renli" tags="renli partone" position="1552,1151" size="100,100">You like to be humble about your talents, but you can say with full confidence that you are extremely disclipined when it comes to what you consume. In fact, you are at the point where you don&#39;t need numbers or calculators to know you are maximizing your energy with the way you plan your meals. You choose food for yourself based purely on sustenance, not on enjoyment.

Because, unbeknownest to most, you can&#39;t actually taste anything save for what you pull with your [[epithet.|o havest havest it yiedls froots]]</tw-passagedata><tw-passagedata pid="101" name="Lucy shifts very conspicuously." tags="renli partone" position="1550,697" size="100,100">Zane immediately lets out a yelp that barely muffles the screech made by the tines of his fork. He quickly drops into a state of silent fuming, but it&#39;s clear he doesn&#39;t wish to acknowledge Lucy right now.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Don&#39;t worry about it, Twos! It&#39;s good to see ya.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; What do you want to order? I can run it up to Rika right away!|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Oh! I actually ate before I came here, so don&#39;t worry.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Oh, thank goodness.|

You&#39;re pretty sure she would just order ice cream or some kind of crepe cake, anyway, based on [[your observations.|renli watches u eat asmr real personal attention]]</tw-passagedata><tw-passagedata pid="102" name="renli watches u eat asmr real personal attention" tags="renli partone" position="1550,847" size="100,100">You have a tendency to keep track of your friends&#39; meals carefully when you get the opportunity (which is very frequently, to be honest) and make suggestions to help them better round out their food pyramid. After all, what one puts in their body can have serious impacts on all aspects of their life - though bodies react differently to the same things, so you try not to force them too much.

As noted earlier, Twos eats sweets like she has never once had them before in her life - but her lifestyle is otherwise healthy, considering she has plenty of strength and energy, so you can look the other way.

Zane is a bit of a wild card. He eats large portions in a very refined manner, yet he maintains a rather lean figure. You suppose he&#39;s more muscular than he looks, but his bony elbows are &lt;i&gt;sharp&lt;/i&gt;. And his occasional bouts of laziness come from a personality issue rather than a lifestyle one, so there isn&#39;t much you can do there.

[[Lucy, though...]]</tw-passagedata><tw-passagedata pid="103" name="Lucy, though..." tags="renli partone" position="1550,997" size="100,100">Lucy is a bit of a carnivore, to put it lightly. There&#39;s nothing nutritionally wrong with eating meat, of course; it&#39;s an excellent source of protein and iron. And of course she&#39;ll eat grains and dairy products, too. But fruits and veggies? Unless you are the one to prepare and give them to her, she is far more likely to starve.

Oh, yeah, [[what about you?|oh renli]]</tw-passagedata><tw-passagedata pid="104" name="o havest havest it yiedls froots" tags="renli partone" position="1552,1302" size="100,100">Your epithet is Harvest. Most epithet users find theirs in middle childhood, typically by accident. From there, many will work with a private agency to test the workings and limits over the course of a few years. They must register and update the information gathered with the federal government to better the world&#39;s understanding of epithets.

You, however, did not have this particular luxury! You have known yours for as long as you can remember. Furthermore, due to bouncing around several orphanages, foster families, and similar temporary homes, you have never gotten a chance to properly test your epithet. As such, you can&#39;t say you have a perfect grasp on [[its workings.]]</tw-passagedata><tw-passagedata pid="105" name="heaves the unconscious body" tags="zane prologue" position="795,12013" size="100,100">|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Anyway, I have to get going.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Wait, did you ever find Mason? &#39;Cause we didn&#39;t.|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Oh, no. Let me know if you do!|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hold it! What in the world &lt;i&gt;happened?&lt;/i&gt; To Scallywag, I mean.|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Oh. Haha.|
|&lt;img src=&quot;sprites/duncan/angry.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Don&#39;t let word get out, but there&#39;s apparently been some sort of weird identity theft thing going on. If anyone tries to tell you that you aren&#39;t yourself, don&#39;t listen. Just... run.|

With a little salute, [[he leaves.]]</tw-passagedata><tw-passagedata pid="106" name="others" tags="renli partone" position="1551,1580" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Something is up, and it reeks of fish. I plan to investigate it.|

It seems you&#39;ve missed an entire conversation! Zane pushes Twos out of her spot in the booth in order to stand, so Lucy gets up as well. After briefly flicking away what you&#39;re fairly certain is an imaginary piece of lint on his shoulder, he slides his hands into his pockets and saunters toward the exit.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You can come along. Or you can not.|

It would be an extremely cool moment, except for the fact that the rest of you are [[directly behind him.]]</tw-passagedata><tw-passagedata pid="107" name="directly behind him." tags="renli partone" position="1508,1720" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio comicstore play loop&gt;&gt;You stroll down the street and enter the comic store. Unlike yesterday, the little fan in the corner is on and the door is open, allowing the cramped space to be just a little bit more comfortable.

At the counter, Mason flips through some pages idly. It takes him a while to notice you&#39;ve approached, but he quickly shuts the cover and leans forward so heavily his torso covers the comic entirely. You&#39;re not sure why he does this instead of just putting it away.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Hey, ladies! ... And Zane, hey.|

... Maybe it&#39;s because he&#39;s [[Mason Avalon.]]</tw-passagedata><tw-passagedata pid="108" name="its workings." tags="renli partone" position="1551,1446" size="100,100">Thankfully, someone must have helped you out beforehand. The official registration states that you can create fruit- and vegetable-shaped (and -flavored!) objects with various properties to support others, from healing to increasing speed. You&#39;ve also found that they can have offensive purposes when thrown hard enough, but the damage is minimal compared to what you&#39;ve seen [[others]] do.</tw-passagedata><tw-passagedata pid="109" name="Mason Avalon." tags="renli partone" position="1554,1958" size="100,100">All things considered, Mason is fairly successful. Comic stores are hard to prop up on their own, especially when so many people are collectors but not donators. As such, while Avalon Demand (a very, very silly play on words that most of Literacy refuses to dignify by ever speaking aloud) is referred to as one, it also carries a wide range of games, books, and movies. You&#39;re not sure how he has the connections to procure his goods and sell them at a reasonable price, but apparently some of the tourists come by specifically for his textbook sales.

Still, his relative wealth doesn&#39;t show in conventional ways. There&#39;s his mess of a bedroom, assuming what you witnessed yesterday was, in fact, where he sleeps nightly. Then there&#39;s [[his choice in clothing...]]</tw-passagedata><tw-passagedata pid="110" name="his choice in clothing..." tags="renli partone" position="1554,2108" size="100,100">Admittedly, you&#39;re no Zane when it comes to clothes. You don&#39;t put too much focus on what you wear - as long as it&#39;s comfortable and you like the way you look in it, then it&#39;s good enough for you.

For Mason, though? Even in the humid throes of summer, he is never seen without his pleather bomber jacket. Faded yellow lightning strikes streak over his back and shoulders, with a singular blue zig-zag over his left chest. Underneath, he wears a shirt with the logo of some hero or another and ripped jeans. His curly mass of hair, when it isn&#39;t occasionally let loose, is slicked up with enough gel to create a sharp edge.

He is twenty-six years old.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Can I help you out?|

You curl your hand into a fist as you suddenly recall Duncan&#39;s words from yesterday. [[You know what to do.]]</tw-passagedata><tw-passagedata pid="111" name="You know what to do." tags="renli partone" position="1554,2258" size="100,100">You pull your elbow back and hook Mason in the jaw with your first two knuckles. He recoils and jolts back, bringing the magazine flying back with him.

|&lt;img src=&quot;sprites/mason/shocked.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; What the fuck?!|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Nothing personal. Duncan said he would give me twenty dollars if I punched you.|

He grumbles a bit before nodding, still nursing what will definitely become a bruise. You briefly consider &lt;i&gt;pulling&lt;/i&gt; an apple for him, but you ultimately decide a little pain will keep him humble. Also, your friends are more than entertained by the sight.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; I get it. Was that all, or?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; No, we have some [[questions]] for you.|</tw-passagedata><tw-passagedata pid="112" name="questions" tags="renli partone" position="1554,2408" size="100,100">|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Aight. I&#39;m all ears, but no guarantees I&#39;ll know the answers, even in all my infinite wisdom.|

You shift to the side to let Zane take the lead, noting how he expertly veils his disguist toward the older man with neutral expressions and hair-twirling.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; A few people were asking around about you yesterday. We tried coming by twice, but you were out.|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Huh. Duncan, right?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; An educated guess; however, Duncan did not have a message to deliver.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Oh, so you&#39;ve got a message?|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; How sharp of you. Lucy, if you&#39;d like to do the honors?|

Lucy steps forward and [[clears her throat.]]</tw-passagedata><tw-passagedata pid="113" name="clears her throat." tags="renli partone" position="1554,2558" size="100,100">|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; From Elanore Elizabeth: &quot;What the fuck did he mean by this?&quot;|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Oh, damn, okay! Thanks, man.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What does that even mean?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Nahhhh, nothing you kids need to be in the know about.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Your grammar is appalling. Also, we are not children.|

Mason snaps and makes finger-guns at Zane.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Damn, ain&#39;t that true! Either way, Eli and I are like tight compadres down in the trench. We have some secrets, you know?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Ah... do you mean you&#39;re sleeping together?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Hohohoh, no way, no way!|

He throws his head back in laughter as he waves his gloved hand in front of his face, and you note that the black gloves are fingerless. After a moment, he leans in and whispers to you.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; And anyway, Eli&#39;s, y&#39;know, an in-fielder, not an out-fielder.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Like a... DC gal, not a Marvel gal.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; A bird and not a bee.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; A cat person, not a dog person.|

[[Hmm, that sounds like...]]</tw-passagedata><tw-passagedata pid="114" name="Hmm, that sounds like..." tags="renli partone" position="1554,2706" size="100,100">|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh, she&#39;s a lesbian!|

Zane spits.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Hey, dude, you&#39;re the one who put it that way.|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; What&#39;s that?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Like I said, when she&#39;s more of a coin collector, not a -|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; A lesbian is a girl who only loves other girls.|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Ohhh, okay!|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I love girls!|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Me too!|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah, girls are great!|

There is a pause as Mason and Zane allow the three of you to bask in a moment of sapphic recognition.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Anyway,]]|</tw-passagedata><tw-passagedata pid="115" name="Anyway," tags="renli partone" position="1554,2858" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Mason, you evaded my earlier statement about how you were missing.|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Oh, nah, I just didn&#39;t have much else to say.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Then, pray tell, what else did you have to say?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Look, man, when people say they don&#39;t have much else to say, it usually means they have nothing else to say.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Cease your word games at once. Where were you yesterday?|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Uh...|

He looks stumped for a moment as he pretends to scratch something off the hinges of his sunglasses.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Running errands.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I don&#39;t believe that for a second.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; No cap. I leave for a lunch break, next thing I know, everyone in town wants me to help them out with something or other. Can&#39;t say there&#39;s much else.|
|&lt;img src=&quot;sprites/22/angry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; But... weren&#39;t people having trouble even finding you?|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; If I find out you&#39;re hiding anything, Renli won&#39;t be the only one collecting twenty dollars from Duncan.|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Uhh... I mean, I guess I was also out of town for a bit?|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Were you making any deliveries? Picking up any items?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Some stock for Avalon Demand, yeah.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; By any chance, did you... get another [[huge sword?]]|</tw-passagedata><tw-passagedata pid="116" name="huge sword?" tags="renli partone" position="1554,3006" size="100,100">Mason and Twos perk up.

|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Huh?|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yeah! We saw your cool sword in the back when we were looking around yesterday. Did you get another one?|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Uh - nope.|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hmm. Strangely, I feel we&#39;re reaching the truth.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Ooh, I bet you were getting the rest of the cosplay together!|
|&lt;img src=&quot;sprites/mason/shocked.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; C-c-c-cosplay?! No way! That&#39;s for kids and stuff.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; It&#39;s okay, Mason. A lot of adults are cosplayers. It would make sense for your genre of profession.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; I&#39;ve got better things to do than dress up.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Don&#39;t worry, we&#39;ll keep your cosplay addiction secret.|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; [[My...|cosplay addiction...]]|</tw-passagedata><tw-passagedata pid="117" name="you&#39;re off." tags="renli partone" position="1510,3317" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dailylife play loop&gt;&gt;The four of you huddle outside the door, avoiding eye contact with all passersby and speaking in low voices.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Now that we know Mason is as well as ever... we should discuss what happened yesterday. Did anyone understand a lick of it?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Nope.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Nah.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Not a word!|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Great. Well, the robot-lady-whatever told us to look for something at the highest point in Literacy, which just so happens to be...|

He turns and points to the western skyline with a languid finger.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[The radio station.]]|</tw-passagedata><tw-passagedata pid="118" name="cosplay addiction..." tags="renli partone" position="1556,3153" size="100,100">He rubs his eyes with his hands, then speaks without his usual nasally drawl. It sounds strangely sincere.

|&lt;img src=&quot;sprites/mason/smile.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Thanks. I appreciate it.|

Then he&#39;s back to being Mason Avalon, purveyor of comics, games, and more.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Now, you looking to buy, sell, trade in, or something else?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I think we&#39;re good now. We&#39;ll see ya later.|

You say your goodbyes right as a pair enter the store, and then [[you&#39;re off.]]</tw-passagedata><tw-passagedata pid="119" name="The radio station." tags="renli partone" position="1560,3575" size="100,100">The local radio station holds minimal-at-best cultural relevance. The tower itself was formerly military-owned and -operated, but after being abandoned for decades, it was eventually turned over for the town to handle.

While it isn&#39;t the most unique or far-reaching program, the radio jockeys&#39; hard work and upbeat personalities make it relatively popular. You would probably tune in more often if the French Quarter didn&#39;t have a specific smooth jazz playlist that looped day in and day out.

Still, it&#39;ll be exciting to finally meet [[DJ December]]!</tw-passagedata><tw-passagedata pid="120" name="Music Credits" tags="no-saves" position="275,450" size="100,100">copyrighted?? will figure out later
&quot;Ocean Man&quot; - Ween
&quot;Santeria&quot; - Sublime
&quot;vs. Lancastrians&quot; - Yu-Gi-Oh! The Dueliests of the Roses OST
&quot;Yield&quot; - Sound Horizon
&quot;I Am the Rock&quot; - Simon &amp; Garfunkel
&quot;Memory 1&quot; - Super Paper Mario OST
&quot;Memory 2&quot; - Super Paper Mario OST
&quot;Memory 3&quot; - Super Paper Mario OST
&quot;Memory 4&quot; - Super Paper Mario OST
&quot;Bryyo (Ice)&quot; - Metroid Prime 3: Corruption OST
&quot;Missing You&quot; - Kingdom Hearts 2.5 ReMIX Remaster OST
&quot;Turn to Stone&quot; - Electric Light Orchestra
&quot;Obtained an Item!&quot; - Pokémon Black &amp; White OST
&quot;Coolkid&quot; - Homestuck OST
&quot;Should I Stay or Should I Go&quot; - The Clash
&quot;Stolas Speaks&quot; - Helluva Boss
&quot;Kumo vs Mafia (version 2)&quot; - Hunter x Hunter 1999 OST
&quot;Kill U 2wise Over&quot; - No More Heroes 2 OST

&quot;Aerosol of my Love&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Andreas Theme&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/&quot;

&quot;Arcane&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Awkward Meeting&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Beauty Flow&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Constant small ocean waves break onto shore 1&quot; from ZapSlat.com

&quot;Ethernight Club&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Exit the Premises&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Faceoff&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Glitter Blast&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Hustle&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Jazz Brunch&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Kawai Kitsune&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Kick Shock&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Nightmare Machine&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Poppers and Prosecco&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Rynos Theme&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Spellbound&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/

&quot;Wretched Destroyer&quot; Kevin MacLeod (incompetech.com)
Licensed under Creative Commons: By Attribution 4.0 License
http://creativecommons.org/licenses/by/4.0/</tw-passagedata><tw-passagedata pid="121" name="Part One" tags="partone player" position="1362,189" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;set $partOneSeen to true&gt;&gt;&lt;center&gt;&lt;p style=&quot;font-size:30px&quot;&gt;[[Part One: Priam Saw It First|And so it goes.]]&lt;/p&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="122" name="StoryCaption" tags="" position="511,450" size="100,100">Playing as: &lt;&lt;if tags().includes(&quot;player&quot;)&gt;&gt;&lt;&lt;print $playerName&gt;&gt;&lt;&lt;elseif tags().includes(&quot;zane&quot;)&gt;&gt;Zane&lt;&lt;elseif tags().includes(&quot;renli&quot;)&gt;&gt;Renli&lt;&lt;elseif tags().includes(&quot;tt&quot;)&gt;&gt;Twenty-Two&lt;&lt;elseif tags().includes(&quot;lucy&quot;)&gt;&gt;Lucy&lt;&lt;elseif tags().includes(&quot;rika&quot;)&gt;&gt;Rika&lt;&lt;elseif tags().includes(&quot;elanore&quot;)&gt;&gt;Elanore&lt;&lt;/if&gt;&gt;

Volume: &lt;&lt;volume&gt;&gt;</tw-passagedata><tw-passagedata pid="123" name="StoryMenu" tags="" position="300,125" size="100,100">[[Home|homepage]]
[[Characters]]
&lt;&lt;if $playerName != &quot;&quot;&gt;&gt;[[Chapters]]&lt;&lt;/if&gt;&gt;
[[Music Credits]]</tw-passagedata><tw-passagedata pid="124" name="Characters" tags="no-saves" position="350,325" size="100,100">&lt;h1&gt;Characters&lt;/h1&gt;
&lt;passage style=&quot;font-size:20px&quot;&gt;&lt;b&gt;Protagonists&lt;/b&gt;&lt;/passage&gt;
&lt;b&gt;Zane Ansovino Ivo Hikaru di Leggieri.&lt;/b&gt; A bit of an egomaniac, which is only made more infuriating by the fact that he is so perfect. He really woke up like this. Stay blessed, plebs.
&lt;&lt;message &quot;&lt;small&gt;stats&lt;/small&gt;&quot; &quot;zanestats&quot;&gt;&gt;Stamina: ★☆☆☆☆
Proficiency: ★★★★★
Creativity: ★★★★☆&lt;&lt;/message&gt;&gt;

&lt;b&gt;Lucy Lane.&lt;/b&gt; Now just a doggone minute, wasn&#39;t that husky a poodle a moment ago? Doesn&#39;t matter - who&#39;s a good girl, who&#39;s a good girl? Oh, yeah, and the good girl&#39;s owner is fun and cool, too.
&lt;&lt;message &quot;&lt;small&gt;stats&lt;/small&gt;&quot; &quot;lucystats&quot;&gt;&gt;Stamina: ★★★☆☆
Proficiency: ★★★★★
Creativity: ★★★☆☆&lt;&lt;/message&gt;&gt;

&lt;b&gt;Twenty-Two.&lt;/b&gt; Often mistaken for a tourist due to her fish-out-of-water mannerisms and general naïveté. Still, her exuberance and eagerness to dole out kindness makes it hard for anyone to really give her a reality check.
&lt;&lt;message &quot;&lt;small&gt;stats&lt;/small&gt;&quot; &quot;22stats&quot;&gt;&gt;Stamina: ★★★★★
Proficiency: ★★★☆☆
Creativity: ★★☆☆☆&lt;&lt;/message&gt;&gt;

&lt;b&gt;Renli.&lt;/b&gt; Something of an outcast, but more out of keeping to herself than out of being disliked. Seems mysterious to most, but her friends know she just has a rather one-track mind.
&lt;&lt;message &quot;&lt;small&gt;stats&lt;/small&gt;&quot; &quot;renlistats&quot;&gt;&gt;Stamina: ★★★★☆
Proficiency: ★★★☆☆
Creativity: ★★★☆☆&lt;&lt;/message&gt;&gt;

&lt;hr&gt;

&lt;passage style=&quot;font-size:20px&quot;&gt;&lt;b&gt;Townspeople&lt;/b&gt;&lt;/passage&gt;
&lt;b&gt;Duncan Doughnuts.&lt;/b&gt; Everyone knows Duncan! He&#39;s a lifeguard, a businessowner, and all around a really cool dude. If you ever need help with anything from rescuing kittens to moving furniture across town, he&#39;s your guy.

&lt;b&gt;Tommy Billweeds.&lt;/b&gt; The reclusive owner of the toy store, a common spot for tourists and townies alike. Although he&#39;s shy, those who speak with him insist he&#39;s full of kindness.

&lt;b&gt;Rika Koizumi.&lt;/b&gt; The manager and supervisor at the French Quarter, the local convenience-store-and-restaurant-in-one. She&#39;s always tired, a little cranky, and never short on snarky quips.

&lt;b&gt;Elanore Elizabeth.&lt;/b&gt; An up-and-coming socialite, whose kindness is wholly unexaggerated. She can almost always be found volunteering and fundraising. Her scant free time is typically spent with Rika and Mason.

&lt;b&gt;Mason Avalon.&lt;/b&gt; Owner and proprietor of Avalon Comics, the local comic and games store. He&#39;s really into leather jackets, slicking back his hair, and smirking like he&#39;s the coolest cat around.

&lt;b&gt;Lucile Locks.&lt;/b&gt; A bully whose life&#39;s purpose is to ensure the town never knows peace.

&lt;b&gt;December Kenn.&lt;/b&gt; DJ December is a bit of a local celebrity. She&#39;s upbeat, she&#39;s cool, she&#39;s hardworking. Some of the older citizens aren&#39;t such a big fan of her, but who cares what they think????

&lt;b&gt;Owen Fortuna.&lt;/b&gt; Owen is technically December&#39;s tech assistant and manager for the radio station, and his on-air personality is quite bold, but he&#39;s actually pretty reclusive in real life.

&lt;b&gt;George Arthur.&lt;/b&gt;

&lt;hr&gt;

&lt;passage style=&quot;font-size:20px&quot;&gt;&lt;b&gt;Renewed Spring&lt;/b&gt;&lt;/passage&gt;
&lt;b&gt;Cool Girl.&lt;/b&gt; She&#39;s cool. SO cool. More than just that, even. She&#39;s... awesome. Headstrong and a bit of a firebrand, she&#39;s easily the most popular active hero - if not the most popular superhero in history. Recently became the leader of Renewed Spring, after the previous one graduated.

&lt;b&gt;Mint Condition.&lt;/b&gt; If Cool Girl is cool, Mint Condition is ice-cold. Despite having served on the team the longest out of all the active members, he has the shortest Wiki page - if only because he spends the least time in the spotlight.

&lt;b&gt;Playmaker.&lt;/b&gt; Fast and not-so-furious, his easygoing personality and slick schmovement let him keep a low profile while out in public. Grandmas love him, apparently.

&lt;b&gt;Vixxie.&lt;/b&gt; The youngest and newest member of the team, as well as the most favored among the more rabid consumers of pop culture. Some think she&#39;s adorable, and some think she&#39;s annoying. Both are probably right.

&lt;b&gt;The Agent.&lt;/b&gt; A freelancer of sorts who is currently working with Renewed Spring.

&lt;hr&gt;

&lt;passage style=&quot;font-size:20px&quot;&gt;&lt;b&gt;Other&lt;/b&gt;&lt;/passage&gt;
&lt;b&gt;The Woman.&lt;/b&gt; Who is she?

&lt;b&gt;John.&lt;/b&gt; A friend.</tw-passagedata><tw-passagedata pid="125" name="homepage" tags="no-saves" position="500,200" size="100,100">&lt;img src=&quot;maps/literacy.png&quot; width=800px&gt;

&lt;b&gt;Descent Literacy Extent&lt;/b&gt; is an &lt;a href=&quot;https://docs.google.com/document/d/1FDjPzvwzjypF0LUFjHpHELCMycIL7NA2g5BFPlEdYTo/edit#&quot;&gt;Epithets/Anime Campaign&lt;/a&gt; game that has been turned into a Twine. The story, names, characters, and incidents portrayed in this production are fictitious. No identification with actual persons (living or deceased), places, buildings, and products is intended or should be inferred.

But if you&#39;re here, you probably already knew that.

This work is a nonprofit piece for entertainment and little else. Credits can be found on the respective credits page. Please contact the site host (GitHub: lockeanddemosthenes) if you would like to remove any content belonging to you or someone you represent.

[[Begin.|The Beginning?]]</tw-passagedata><tw-passagedata pid="126" name="The Beginning?" tags="prologue" position="945,107" size="100,100">&lt;&lt;set $playerName to &quot;&quot;&gt;&gt;Enter your name.

&lt;&lt;textbox &quot;$playerName&quot; &quot;&quot; autofocus&gt;&gt;&lt;&lt;button &quot;Submit&quot;&gt;&gt;
	&lt;&lt;if $playerName === &quot;&quot;&gt;&gt;
		&lt;&lt;replace &quot;#output&quot;&gt;&gt;&lt;&lt;= either([&quot;Nope.&quot;, &quot;Try again.&quot;, &quot;Wrong.&quot;])&gt;&gt;&lt;&lt;/replace&gt;&gt;
	&lt;&lt;else&gt;&gt;
		&lt;&lt;goto &quot;Prologue Page&quot;&gt;&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/button&gt;&gt;
&lt;span id=&quot;output&quot;&gt;&lt;/span&gt;</tw-passagedata><tw-passagedata pid="127" name="Prologue Page" tags="prologue player" position="1017,241" size="100,100">&lt;center&gt;&lt;p style=&quot;font-size:30px&quot;&gt;[[Prologue: The Beginning of the End|The Beginning of the End]]&lt;/p&gt;&lt;/center&gt;&lt;&lt;set $prologueSeen to true&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="DJ December" tags="renli partone" position="1560,3725" size="100,100">|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Who do you think we&#39;ll meet at the radio station?|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; No one terribly notable; I would already know them.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; December&#39;s the DJ, right? And there&#39;s a manager or something, I think. Or maybe a tech guy.|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Wow! I had a dream the other day that I met a girl named December.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Maybe you&#39;re having prophetic dreams!|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You know, that seems a bit understaffed for a radio station.|
|&lt;img src=&quot;sprites/gen/unknown.png&quot; width=150px&gt;|&lt;b&gt;????:&lt;/b&gt; &lt;i&gt;You&lt;/i&gt; seem a bit understaffed.|

Wait, [[that voice...]]</tw-passagedata><tw-passagedata pid="129" name="that voice..." tags="renli partone" position="1560,3874" size="100,100">You turn just in time to witness a cup of water being emptied onto Zane&#39;s shirt. Notorious schoolyard bully Lucile Locks smirks as she crinkles the plastic cup.

|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; And you aren&#39;t even a radio station!|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Don&#39;t you have better things to do? Like as picking on kids your own size? Or do they not make them that small anymore?|

She huffs and moves to stamp on his shoe, but seems to change her mind at the last minute. Instead, she poses and flips a pigtail over her shoulder.

|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Whatever, loser. &lt;i&gt;I&#39;m&lt;/i&gt; going to meet a superhero today. I can&#39;t be bothered with you.|

Her entire demeanor changes the moment she turns to your brunette friend.

|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Anyway, hi Big Lu!|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hi, Little Lu! How&#39;s it going?|
|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Pretty good! I stole a couple gumballs from Mr. Billweeds today.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Aww, you know you can&#39;t just do that! You should at least target the people who won&#39;t miss what you take.|
|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Blehhh...|

She pouts and crouches down to pet Lulu instead of reflecting on her own actions.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; By the way, I heard you say you&#39;re meeting a [[superhero]]?|</tw-passagedata><tw-passagedata pid="130" name="superhero" tags="renli partone" position="1560,4025" size="100,100">Lucile immediately springs up and beams.

|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Yeah, at town hall! Me and Ralphy and gonna get to meet Cool Girl in person.|

Zane lets out an exhausted sigh, probably out of his general distaste toward capes. You nudge him - while you can&#39;t say you haven&#39;t gotten jaded over the years, behaviors like these are the exact reason why Little Lu hates him so much. Not that you can say you&#39;re an expert on earning her favor the way Lucy has, but at least she doesn&#39;t attack you on sight.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; That&#39;s wonderful! You should get an autograph if you can.|
|&lt;img src=&quot;sprites/lucile/normal.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; I will, but I&#39;m not sharing.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I guess we&#39;ll have to get our own, then. Speaking of which, don&#39;t we have to [[get going?|to the radio for real this time]]|</tw-passagedata><tw-passagedata pid="131" name="to the radio for real this time" tags="renli partone" position="1522,4175" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio radiotower play loop&gt;&gt;The radio tower is unexpectedly dreary on the inside. Neglected cardboard boxes with various unlabeled categories of paraphernalia litter the narrow halls. Both you and Zane have to duck to avoid the low ceilings. You very nearly trip up the spiraling stairs in spite of your careful examination of each step you take. Even Lulu shifts into a smaller form and insists on being scooped up.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I&#39;m starting to feel really cramped.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Are you going to be okay? If you need, one of us can wait outside with you.|

Surprise briefly flickers over her face, followed by a guilty glance to the side. You know she always feels bad about inconveniencing others, but you truly hope she will know to put her needs first.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; No, I&#39;ll be fine. We&#39;re almost there, right?|
|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; [[Woah-ho-ho,]] what are these cool cats doing up here? Come on and pop a squat; it&#39;s been pretty lonely up here!|</tw-passagedata><tw-passagedata pid="132" name="Woah-ho-ho," tags="renli partone" position="1572,4412" size="100,100">As it turns out, December Kenn is not a half-bad host - both on air, obviously, and in the tower. She offers a decent variety of snacks and drinks (sure, they&#39;re all energy drinks, but that&#39;s fine), which Lucy and Twos gratefully accept.

The decor on this floor (which consists of the conference room you are in, the recording room, and a bathroom) also carries her signature aesthetic. Neon lights and collages of posters conceal yellowing wallpaper in a strangely cohesive smattering.

|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; So.|

As she throws her feet up on the table, her untied bright green laces catch your eye. You take a moment to [[examine her]] properly.</tw-passagedata><tw-passagedata pid="133" name="examine her" tags="renli partone" position="1572,4562" size="100,100">Although her laces match, her shoes do not. They are, in fact, both roller skates of similar shape, but one is black with green wheels and the other is white with grey wheels. You can see the tops of her dark socks peeking over, as her striped green leggings come to a stop just below her knees. On top, she wears an off-shoulder shirt and striped armwarmers. A few strands of her short purple hair are sandwiched between the back of her neck and her massive headset.

You note that she is also wearing kneepads and elbow pads with scuff marks and wonder whether she regularly tumbles around in the tower.

|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; You guys need me for something? Need a shoutout for a friend&#39;s birthday? Usually I ask for payment up-front, but I trust townies.|

Her words startle you [[back into focus.]]</tw-passagedata><tw-passagedata pid="134" name="back into focus." tags="renli partone" position="1572,4712" size="100,100">|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Actually, we were curious about the top of the tower. Is there any way to get up there?|
|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Oh, yeah, there&#39;s actually another floor above me, but you can only get to it through the door over there.|

She points at a stretch of wall, which you only just notice has a cutout.

|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; It&#39;s Owen&#39;s office, but there isn&#39;t really much up there. Unless you&#39;re looking for him?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; We are, actually. We have a message for him.|
|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Ooh, the sucker has friends now? He didn&#39;t tell me!|

She throws her head back and cackles like it&#39;s the funniest thing ever. Zane just crosses his arms, but you, Lucy, and Twos do your best to [[smile patiently.]]</tw-passagedata><tw-passagedata pid="135" name="smile patiently." tags="renli partone" position="1572,4862" size="100,100">|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Ahaha... well, anyway, I don&#39;t think he&#39;s been around for a bit.|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You... don&#39;t think he&#39;s been around?|
|&lt;img src=&quot;sprites/december/neutral.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Yeah. I mean, sometimes he disappears for a couple days at a time, so it&#39;s not that big a deal. If you wanna check it out, though, go for it. I actually have to hop on air in a sec, so...|

Perfect timing. She pushes the wall-door until it clicks, then swings it open. You wish her luck and head [[up the stairs.]]</tw-passagedata><tw-passagedata pid="136" name="up the stairs." tags="renli partone" position="1572,5012" size="100,100">It&#39;s... dark. It takes you a hot second to adjust to the awful lighting. Aside from a singular exposed incandescent bulb that flickers dimly in a wall sconce, all you have is the light from downstairs.

In that brief span of time, Twos trips and falls into Zane, who lets out a terrible shriek as he shoves her directly into you. Luckily, you manage to find your footing - although you immediately begin to feel strangely lightheaded.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hey, any of you guys-|

And that&#39;s when [[everything goes white.]]</tw-passagedata><tw-passagedata pid="137" name="everything goes white." tags="tt partone" position="1534,5160" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio speckfight play loop&gt;&gt;The world spins around you. Everything around you is the same blinding shade of eggshell white, but you instinctively know it&#39;s all moving around you. You want to curl up and cry. Where are your friends? They were all here a moment ago. Where did they go? You want to cry. You want to cry.

But you need to stay strong.

You take a tentative step forward, eyes wide open even though you feel like you see nothing. When your foot meets solid ground, a tiny [[hiccup]] of relief escapes you.</tw-passagedata><tw-passagedata pid="138" name="hiccup" tags="tt partone" position="1579,5402" size="100,100">The small sound echoes briefly, but it&#39;s enough for you to know something has gone wrong.

All around you, little red lights begin blinking on. You don&#39;t like it, but if there&#39;s something out there that can help you, that you can talk to, it&#39;s worth it to at least try.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[Hello?]]|</tw-passagedata><tw-passagedata pid="139" name="take a breath." tags="zane partone" position="1581,5687" size="100,100">You hit the ground running. Or at least, it feels like you do - you see white, you see flecks of red, and you know you need to get going. As soon as your legs start moving, two glowing cylinders emerge from the hazy mass and quickly approach you. You get just enough of a look to tell they&#39;re probably about a foot across and two feet tall before you turn tail and really start sprinting.

Running from battle is far from normal for you. But you can&#39;t feel anything good; you can&#39;t feel any blessings gravitating toward you in this godforsaken plane. And with that being the case, there&#39;s nothing you can do to defend yourself. So as much as you&#39;d like to tear these freaky lights a new one, it&#39;s going to have to wait until you&#39;re just [[a little bit further away.]]</tw-passagedata><tw-passagedata pid="140" name="Hello?" tags="tt partone" position="1581,5542" size="100,100">The faint beams coming from the lights dart around, almost like confused lines of sight, until the moment you speak. All of them focus on you, and you know you are screwed.

You can&#39;t tell how far away they are, only that they are everywhere and there are so many of them and there is only one of you and you are just too small like this to handle everything going on so fast and you

[[take a breath.]]</tw-passagedata><tw-passagedata pid="141" name="a little bit further away." tags="zane partone" position="1581,5838" size="100,100">On top of that, you figure the rest of your merry band is in a similar situation as yourself. Standing around isn&#39;t going to help anyone, but running like this will help you either find at least one other person or draw attention away from them.

Not that you&#39;re particularly fit to serve as the distraction or the shield, but if it buys everyone a few seconds, it buys everyone a few seconds. So you start shouting, hoping more than just two of these trash cans will come after you.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Over here, fools!]]|</tw-passagedata><tw-passagedata pid="142" name="Over here, fools!" tags="lucy partone" position="1581,5988" size="100,100">You see strange red lights against a backdrop of white, but what concerns you most is the humanoid figure in a long black cloak. In their gloved hands are two objects that look rather like knitting needles. As they slowly step towards you, they raise the weapons in a rather menacing stance.

|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[What&#39;s wrong with you?!]]|</tw-passagedata><tw-passagedata pid="143" name="What&#39;s wrong with you?!" tags="lucy partone" position="1581,6145" size="100,100">|&lt;img src=&quot;sprites/rika/hood.png&quot; width=150px&gt;|&lt;b&gt;????:&lt;/b&gt; ... |

There isn&#39;t even any sort of change in their stance or approach to indicate they heard you. Lulu hops out of your arms and transforms into something huge and beastlike as you pull your trusty baseball bat out of your backpack.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I&#39;m not looking for a fight. [[Who are you?]]|</tw-passagedata><tw-passagedata pid="144" name="Who are you?" tags="lucy partone" position="1581,6295" size="100,100">|&lt;img src=&quot;sprites/rika/hood.png&quot; width=150px&gt;|&lt;b&gt;????:&lt;/b&gt; ... |

You bring your bat in front of you, though you keep your grip loose in hopes of communicating through body language. Beside you, Lucy lowers toward the ground, eyes narrowing into slits as she prepares to pounce.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[Let&#39;s talk.]] You don&#39;t need to do this.|</tw-passagedata><tw-passagedata pid="145" name="Let&#39;s talk." tags="lucy partone" position="1581,6445" size="100,100">Finally, &lt;i&gt;finally,&lt;/i&gt; something changes.

But it&#39;s nothing good.

The figure launches themselves toward you and tears a gash in your shoulder.

|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So this is how it&#39;s gonna be? [[Fine.|the audacity of this bicth]]|</tw-passagedata><tw-passagedata pid="146" name="the audacity of this bicth" tags="renli partone" position="1581,6594" size="100,100">A singular chrome cylinder floats before you, looming with an oddly cold and unwelcoming presence. Alarmingly, the red light it emits begins to sweep up from the ground and over your body, albeit at a rather slow pace.

You hold still for some reason. Maybe it could be friendly. Maybe it won&#39;t see you if you move. Maybe you just want to see [[what will happen.]]</tw-passagedata><tw-passagedata pid="147" name="what will happen." tags="renli partone" position="1581,6744" size="100,100">Once it reaches the top of your head, the light starts blinking and something inside it begins whirring. Several attachments come from previously-hidden ports along its surface, many of which look rather sharp. You realize it is not, in fact, friendly. At least, not toward you.

At this range, you&#39;re definitely screwed. You may have a rather high stamina rating thanks to your healthy habits, but between getting hit and trying to harvest fruits, it&#39;s going to get depleted pretty quickly. So there&#39;s only one thing you &lt;i&gt;can&lt;/i&gt; do.

You beg for forgiveness under your breath and [[pluck.]]</tw-passagedata><tw-passagedata pid="148" name="pluck." tags="renli partone" position="1580,6858" size="100,100">&lt;&lt;set $tryOrangeGrape to false&gt;&gt;&lt;&lt;set $tryPurpleStrawberry to false&gt;&gt;You have to find a good one - a strong one with a will and a meaning to the air it takes in. One that isn&#39;t quite ripe; one that won&#39;t tempt you into biting in. Usually, fresher is better, but you&#39;ll take anything right now.

[[A cluster of orange grapes, right off the vine.]]
[[A yellow yam who has waited long to remember.]]
[[A purple strawberry with eagerness and sweetness all the same.]]</tw-passagedata><tw-passagedata pid="149" name="A cluster of orange grapes, right off the vine." tags="renli partone" position="1431,7044" size="100,100">&lt;&lt;set $tryOrangeGrape to true&gt;&gt;No - these will not do. These were taken too early with too little desire to forge on. Do not underestimate your enemy.

[[A yellow yam who has waited long to remember.]]
&lt;&lt;if $tryPurpleStrawberry is false&gt;&gt;[[A purple strawberry with eagerness and sweetness all the same.]]&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="A yellow yam who has waited long to remember." tags="renli partone" position="1583,7092" size="100,100">You dig your fingers deep in the spiritual grounds, scooping the root vegetable out and cradling it in your hands. For once, it is a usual color for its species - a perfect specimen when your life is already at stake.

Yes, [[he]] will do.</tw-passagedata><tw-passagedata pid="151" name="A purple strawberry with eagerness and sweetness all the same." tags="renli partone" position="1732,7043" size="100,100">&lt;&lt;set $tryPurpleStrawberry to true&gt;&gt;Eager to push for more - yet what more is there in a life well lived? As delicious as it tastes on your tongue, you know the slim chances only grow narrower with such a combination.

&lt;&lt;if $tryOrangeGrape is false&gt;&gt;[[A cluster of orange grapes, right off the vine.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;[[A yellow yam who has waited long to remember.]]</tw-passagedata><tw-passagedata pid="152" name="he" tags="renli partone" position="1583,7242" size="100,100">You thrust the yam into the cylinder, narrowing your eyes against the blinding light that flashes momentarily. The light at the top cycles through red, green, and blue at erratic intervals while the rest of the machine whirs and clicks.

You have no idea whether this ridiculous move will actually work this time, so you clench your fists and [[hope.]]</tw-passagedata><tw-passagedata pid="153" name="hope." tags="renli partone" position="1583,7392" size="100,100">The light goes off as your breath catches. Then it slowly fades back on, the entire unit exuding a cyan glow.

And, after a moment, a voice.

|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;THE ROBOT:&lt;/b&gt; Who are you?|

You almost cry in relief. The sound gets caught in your throat, and you make a strange coughing sound instead of answering. The robot doesn&#39;t seem to register it as an answer, and it repeats itself.

|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;THE ROBOT:&lt;/b&gt; Who are you?|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I am Renli. A friend.|
|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;THE ROBOT:&lt;/b&gt; A friend. Renli.|

Yes! Yes! You clasp your hands to your chest, pride beaming from the upturned curve of your lips.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[Who are you?|john.]]|</tw-passagedata><tw-passagedata pid="154" name="john." tags="renli partone" position="1583,7542" size="100,100">A whirring sound crescendos - likely the fan as the processor heats up and tries to find its answer.
 
|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;THE ROBOT:&lt;/b&gt; John.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; John! It&#39;s so good to meet you.|
|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;JOHN:&lt;/b&gt; Yes. Friend. Good.|

There&#39;s a pause, during which you continue staring at the robot in awe and he stares (?) in return.

|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;John:&lt;/b&gt; What is initiative?|

Huh. That&#39;s a loaded question, and you can&#39;t say you actually thought this far. For now, though, your own initiative is more than enough to answer his question.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m trying to find some friends. They might be fighting some other, um... machines. There&#39;s three of them.|

John goes silent for a moment, then bobs up and down in midair.

|&lt;img src=&quot;sprites/john/bot.png&quot; width=150px&gt;|&lt;b&gt;JOHN:&lt;/b&gt; Movement detected.|

Pieces extend from his side to form a sort of upside-down frisbee as he lowers to the ground. You hesitate for a moment, then decide it&#39;s for you and squat on it, wrapping your arms around his steel body.

|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[Let&#39;s go.]]|</tw-passagedata><tw-passagedata pid="155" name="Let&#39;s go." tags="partone tt" position="1583,7690" size="100,100">It&#39;s been a long time since you last used your epithet like this. The incredible depths of your stamina reach well beyond regular evaluation, but between the lasers that leave stinging marks and all the water you&#39;ve been slinging around to protect yourself (and maybe hit a few robots, if you&#39;re lucky), even you are reaching your limit.

An involuntary shriek rips its way out of your lungs as you desperately form yet another lake to shield yourself from incoming beams. Tears well in your eyes as exhaustion pulls at your limbs.

It&#39;s barely even [[noon]], you think to yourself.</tw-passagedata><tw-passagedata pid="156" name="noon" tags="tt partone" position="1583,7842" size="100,100">You wish today could have been normal. On a normal day, around noon, you would sit around a table with your friends and laugh about normal things like a story about the conversations between morays or the weird customer you just witnessed or the way a cloud looked a little like a sitting cat (or something else according to Lucy; she wouldn&#39;t repeat it, though). And maybe those things aren&#39;t exactly normal the way a normal person would have defined it, and maybe those things aren&#39;t normal because they&#39;re so special to you, but damn it if you don&#39;t want things to just be &lt;i&gt;[[normal|renli rushes in]]&lt;/i&gt;.</tw-passagedata><tw-passagedata pid="157" name="renli rushes in" tags="tt partone" position="1583,7992" size="100,100">As that thought crosses your mind, though, a sight entirely abnormal crosses your path. Fairy floss-colored hair flowing behind her, Renli jumps off of some kind of vehicle that you quickly identify as one of the robots. Before you can question it, she books it to you, wrapping you in a tight hug. You can feel a bit of a pull as if she&#39;s trying to scoop you up, but you know she isn&#39;t capable of doing so.

|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Twos! You don&#39;t know how glad I am to see you.|
|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; You don&#39;t know how glad &lt;i&gt;I&lt;/i&gt;-... &lt;i&gt;(sniff)&lt;/i&gt; I...|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Are you okay? Here, take this!|

Renli, angel of angels, opens her hand to reveal [[a mauve apple.]]</tw-passagedata><tw-passagedata pid="158" name="a mauve apple." tags="tt partone" position="1583,8142" size="100,100">You take a bite and let out a happy sigh. While sweets like ice cream and cake that your friend Norm calls &quot;unhealthy&quot; are easily your favorite foods, everything Renli summons up is always good. They don&#39;t fill you up the same way, and something about the way you perceive them is a little different than using your tastebuds, but they definitely replenish your stamina much more than normal food.

|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Thank you so much. I really needed tha-|

Wait a minute, something&#39;s wrong. You [[look around|johns.]] frantically for the robots, still hoping for an explanation on what in the world happened and curious as to why you haven&#39;t been shot in the last minute or so.</tw-passagedata><tw-passagedata pid="159" name="johns." tags="tt partone" position="1583,8292" size="100,100">Somehow, the two robots in your vicinity are now glowing a light blue. Both are turned away from one another and from you, as if focused on something else. As your line of sight raises, you realize more and more of the ominous pale-red haze that surrounds you is flickering and turning the same shade.

|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Renli? [[What&#39;s happening?]]|</tw-passagedata><tw-passagedata pid="160" name="What&#39;s happening?" tags="tt partone" position="1583,8442" size="100,100">|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; A lot. All I can say is that his name is John, and he&#39;s our friend.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Alright!|

Right as the word leaves your mouth, you hear a scream and another sound you can only identify as a sword zooming through air. Your attention turns to the approaching figure, who you quickly recognize to be...

|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[Zane!]]|</tw-passagedata><tw-passagedata pid="161" name="Zane!" tags="tt partone" position="1583,8592" size="100,100">|&lt;img src=&quot;sprites/zane/angery.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; AGH?!|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Are you injured?|
|&lt;img src=&quot;sprites/zane/angery.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; BACK OFF! HOW DO I EVEN KNOW YOU&#39;RE REAL?|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Wha- how do &lt;i&gt;I&lt;/i&gt; even know I&#39;m real??? What if I&#39;m not? aaaaaaaa|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... never mind; you&#39;re the real Twos.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I&#39;m fine; how are you t-|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Wait hang on what the hell?|

Rather than gesturing toward the sky as you would have assumed, he points to your back. You look to the side, then at him, then down, then twist around...

[[Oh.|da tail]]</tw-passagedata><tw-passagedata pid="162" name="da tail" tags="tt partone" position="1583,8742" size="100,100">As much as you trust your friends, there are still some secrets you must keep from them. It&#39;s for your own safety, not to mention protecting others&#39; secrets that you are not entitled to reveal. And perhaps part of you fears what they will say when they learn.

|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh my gosh, I didn&#39;t even notice. Did they do this to you? Are you okay?|

Your mouth flaps noiselessly as you try to make up an excuse for the orange-and-white scales that cover your now-exposed tail. It&#39;s not much, but you know more will start showing soon if you have to keep fighting.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I can&#39;t... it&#39;s a long story, and I promise I&#39;ll tell you when I can. But I&#39;m okay. Please just trust me.|

Renli and Zane exchange a look.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; If she says she&#39;s okay, then she&#39;s okay.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Agreed.|

Your shoulders relax. Of course they would understand.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[Thank you.]]|</tw-passagedata><tw-passagedata pid="163" name="Thank you." tags="lucy partone" position="1583,8892" size="100,100">The stranger has gotten several hits in, as opposed to your singular hit. They&#39;re too fast; both you and Lulu just keep missing. Credit where it&#39;s due, though: at least they have enough of a conscience not to attack your dog outright. Or maybe they know enough about your epithet to know that it&#39;s easier to take you down than her. The latter option is just a little bit terrifying; you don&#39;t tell too many people about your epithet, much less how you and Lulu are connected - most people just assume &quot;dog&quot; means you can communicate with them.

So [[who|woaw!]] could possibly have this kind of hidden power and be trusted enough to know?</tw-passagedata><tw-passagedata pid="164" name="woaw!" tags="lucy partone" position="1583,9041" size="100,100">The light reflecting off your bat suddenly turns from red to blue, and you realize the fog around you has been making the same shift in color. The stranger falters, glancing up, and your gaze unintentionally follows.

The bright blue dots move toward one another, merging and multiplying and forming... a person? At the feet of the glowing man - which you can kind of see now that the lights aren&#39;t so blinding - are three distant figures you think might be Zane, Renli, and Twenty-Two.

The massive blue man moves slowly, raising his hand to point directly at the cloaked figure, who is now backing up. A deep voice booms through the area.

|&lt;img src=&quot;sprites/john/giant.png&quot; width=150px&gt;|&lt;b&gt;JOHN:&lt;/b&gt; [[Not. Friend.]]|</tw-passagedata><tw-passagedata pid="165" name="Not. Friend." tags="lucy partone" position="1583,9191" size="100,100">That distraction buys all the time Lulu needs to sneak up on the figure and tackle them down to the ground facefirst. They struggle and thrash, but not even their attempts to snake out can avoid the heavy paws of a Great Pyrenees. Lulu brings her head down and growls, drool dripping onto the hood, and finally the stranger stops.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Good girl.|

You kick the daggers away and crouch down in front of your assailant, grabbing their hood and pulling it away.

|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[Now, just who are you?]]|</tw-passagedata><tw-passagedata pid="166" name="Now, just who are you?" tags="lucy partone" position="1585,9339" size="100,100">She spits and gasps for air, tossing messy dark hair aside as she glares from behind round-framed glasses that sit askew on a freckled nose.

You know her. You see her grumpy face every day, always unenthusiastic about what your presence means but never truly displeased.

[[This is Rika.]]</tw-passagedata><tw-passagedata pid="167" name="This is Rika." tags="lucy partone" position="1542,9541" size="200,200">To you - and, honestly, to all your friends - Rika has always been a pillar of stability in Literacy. Though she is only a handful of years older than you, she is your most trusted adult outside of -

... outside of... what was it again? There was a city, and something bright, and...

You [[remember|remember: lucy]] something.</tw-passagedata><tw-passagedata pid="168" name="remember: lucy" tags="lucy partone flashback" position="1489,9804" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio memory1 play loop&gt;&gt;&lt;small&gt;[[no text effect version|remember: lucy ntev]]&lt;/small&gt;

@@.fade-in-out;Your epithet was discovered at a younger age than most. It makes sense; dogs &lt;i&gt;are&lt;/i&gt; particularly common in most households, so all it took was a couple of years before you could utter &quot;dog&quot; with full understanding of what it meant. You can&#39;t really remember life before Lulu came bounding in.

So it was you, your parents, and your dog in a cozy house in the suburbs of Hero. In your mind, the four of you chased each other around the sunny backyard without shoes.

[[Life was good.]]</tw-passagedata><tw-passagedata pid="169" name="Life was good." tags="lucy partone flashback" position="1489,9951" size="100,100">&lt;small&gt;[[no text effect version|life was good ntev]]&lt;/small&gt;

@@.fade-in-out;Then you started going to school. Because Lulu was part of your epithet and therefore part of your soul, a special exception was arranged to allow her to attend with you. It made you popular at first: everyone wanted to pet the dog, and the dog loved the attention.

There was a girl in a frilly blue dress. She was the mayor&#39;s daughter, though that didn&#39;t mean much to you then. You were eager to get her attention the same as anyone else. Even so, the first time you were driven to her home by a chauffeur, you finally understood what it was to be in the lap of luxury.

There was another girl, who always wore her hair in two pigtails. The mayor&#39;s daughter didn&#39;t like her and would do everything she could to make that girl&#39;s life miserable. She would hide her belongings, spread mean rumors, and make fun of her clothes - typical primary school bullying. You never liked it, so you quietly tried to help her out when your friend&#39;s back was turned.

Things came to a head near the end of the year. It was a blur - one second you were standing up to the mayor&#39;s daughter and telling her to back off, the next she was crying and running away from a growling Lulu.

You switched schools the next year. But that one experience was all you needed to understand the [[kind of power you wielded]] - not in your epithet, but in your inherent existence.</tw-passagedata><tw-passagedata pid="170" name="remember: lucy ntev" tags="lucy partone flashback" position="1689,9801" size="100,100">&lt;small&gt;[[text effect version|remember: lucy]]&lt;/small&gt;

Your epithet was discovered at a younger age than most. It makes sense; dogs &lt;i&gt;are&lt;/i&gt; particularly common in most households, so all it took was a couple of years before you could utter &quot;dog&quot; with full understanding of what it meant. You can&#39;t really remember life before Lulu came bounding in.

So it was you, your parents, and your dog in a cozy house in the suburbs of Blue York. In your mind, the four of you chased each other around the sunny backyard without shoes.

[[Life was good.|life was good ntev]]</tw-passagedata><tw-passagedata pid="171" name="life was good ntev" tags="lucy partone flashback" position="1689,9950" size="100,100">&lt;small&gt;[[text effect version|Life was good.]]&lt;/small&gt;

Then you started going to school. Because Lulu was part of your epithet and therefore part of your soul, a special exception was arranged to allow her to attend with you. It made you popular at first: everyone wanted to pet the dog, and the dog loved the attention.

There was a girl in a frilly blue dress. She was the mayor&#39;s daughter, though that didn&#39;t mean much to you then. You were eager to get her attention the same as anyone else. Even so, the first time you were driven to her home by a chauffeur, you finally understood what it was to be in the lap of luxury.

There was another girl, who always wore her hair in two pigtails. The mayor&#39;s daughter didn&#39;t like her and would do everything she could to make that girl&#39;s life miserable. She would hide her belongings, spread mean rumors, and make fun of her clothes - typical primary school bullying. You never liked it, so you quietly tried to help her out when your friend&#39;s back was turned.

Things came to a head near the end of the year. It was a blur - one second you were standing up to the mayor&#39;s daughter and telling her to back off, the next she was crying and running away from a growling Lulu.

You switched schools the next year. But that one experience was all you needed to understand the [[kind of power you wielded|kind of power you wielded ntev]] - not in your epithet, but in your inherent existence.</tw-passagedata><tw-passagedata pid="172" name="kind of power you wielded" tags="lucy partone flashback" position="1489,10094" size="100,100">&lt;small&gt;[[no text effect version|kind of power you wielded ntev]]&lt;/small&gt;

@@.fade-in-out;You became a champion of the meek. You kept a sharp eye out for harassment and unwarranted rudeness everywhere you went, expecting nothing but justice in return. Some teachers viewed you as a problem student, but others found you nothing but charming. More importantly, though, was the fact that you slowly amassed a following among the student body. Your friends, people who saw you as their hero, people who wanted to be like you - and people who feared you, as much as you wished they didn&#39;t.

With age, however, came a deeper understanding of society&#39;s inner workings. What started as secretly ensuring your friends got home safely turned into witnessing and preventing bad things from happening to strangers. You donned a mask, picked an outfit to never wear as a civilian, and de-escalated dangerous situations.

[[Vigilantes]] weren&#39;t uncommon, after all, especially not in Blue York - even if they were technically outlawed.</tw-passagedata><tw-passagedata pid="173" name="kind of power you wielded ntev" tags="lucy partone flashback" position="1692,10095" size="100,100">&lt;small&gt;[[text effect version|kind of power you wielded]]&lt;/small&gt;

You became a champion of the meek. You kept a sharp eye out for harassment and unwarranted rudeness everywhere you went, expecting nothing but justice in return. Some teachers viewed you as a problem student, but others found you nothing but charming. More importantly, though, was the fact that you slowly amassed a following among the student body. Your friends, people who saw you as their hero, people who wanted to be like you - and people who feared you, as much as you wished they didn&#39;t.

With age, however, came a deeper understanding of society&#39;s inner workings. What started as secretly ensuring your friends got home safely turned into witnessing and preventing bad things from happening to strangers. You donned a mask, picked an outfit to never wear as a civilian, and de-escalated dangerous situations.

[[Vigilantes|Vigilantes ntev]] weren&#39;t uncommon, after all, especially not in Blue York - even if they were technically outlawed.</tw-passagedata><tw-passagedata pid="174" name="Vigilantes" tags="lucy partone flashback" position="1489,10246" size="100,100">&lt;small&gt;[[no text effect version|Vigilantes ntev]]&lt;/small&gt;

@@.fade-in-out;With age, however, came a deeper understanding of society&#39;s inner workings. By the time you hit high school, you started to see the world a little differently. You went to history class and learned about the injustices committed throughout time. You walked through the halls and witnessed the harassment of other students. You sat on the bus and looked at the dilapidated streets where poverty and brutality reared rampant in the shadows of skyscrapers. You stared at the news, stories of gang violence and domestic abuse and all these things that seemed so akin and so alike to the girl who used to bully you what felt like a lifetime ago.

You called it hero work at first, though even then it was more vigilante work. You weren’t registered, weren’t prepared, weren’t anything. It was uneventful, for the most part; you sat atop rooftops and waited to hear a gunshot or sounds of violence before you and Lulu lept into action. You didn’t have a name, barely even had a costume. Just you and your gut instincts. Occasionally, you did good. You stopped a robbery once.

But mostly, you were bored. You broke up fights at school, talked louder, spoke louder, [[did more.]]</tw-passagedata><tw-passagedata pid="175" name="do the same." tags="lucy partone flashback" position="1493,10762" size="100,100">&lt;small&gt;[[no text effect version|do the same. ntev]]&lt;/small&gt;

@@.fade-in-out;Of course, there was that time you got injured when gang members - real gang members, not vigilantes with a bad rap - showed up. You were lucky enough to have been found by your biology teacher Mrs. Maynard, but you did have to tell her the truth. She only briefly chastised you for risking yourself, but otherwise accepted your explanation and didn&#39;t press further any of the following times you sought her out for aid.

And while you trusted she would never snitch, you left out that you were the &lt;i&gt;leader&lt;/i&gt; of your group. The less she knew, the safer she was. Still, you did appreciate the occasional energy bar or coffee that was left on your desk.

Mrs. Maynard was the only adult who ever knew your situation. You never told your parents anything; again, the less they knew, the safer they were. You fed them half-truths about an evening study group or staying at a friend&#39;s house. As long as your grades stayed up, they figured it would be best to leave you to your own devices.

And... it was good. You prevented numerous robberies and assaults, and you returned more stolen items than you could count on one hand. You even got rid of a few of the more threatening gang members. None of it was important enough for real heroes to bother with, you told yourself. Systemic change would follow in due time, but it wasn&#39;t for you to spearhead. You saw your work as mitigation, [[not a solution.]]</tw-passagedata><tw-passagedata pid="176" name="Diamond Dog." tags="lucy partone flashback" position="1492,11340" size="100,100">&lt;small&gt;[[no text effect version|Diamond Dog. ntev]]&lt;/small&gt;

@@.fade-in-out;But, Lucy, there&#39;s still one more thing.

Don&#39;t you remember?

Don&#39;t you remember [[who]] was the key witness?</tw-passagedata><tw-passagedata pid="177" name="who" tags="lucy partone flashback" position="1495,11493" size="100,100">&lt;small&gt;[[no text effect version|who ntev]]&lt;/small&gt;

@@.fade-in-out;You trusted her. ?p̷̛̯̩͒̔̀͜ɹ̴̛̬̙͊́͌ɐ̴̱̄̊̈́͝ǘ̸͙̟́ʎ̴̜̀ɐ̵̱̣͑̿̕W̵̙̙̣̐̓͌ͅ ̷̯̈̅͂̎˙̴̘̓̌̆̀s̵̱̙̋̀ɹ̶̪̝͂͌̕Ẃ̶̢̩̦̒ͅ.̶̘́ ̵̟͎͊̒́̄

She was - @@ @@.shadow;you trusted &lt;&lt;linkreplace &quot;Mrs. Maynard&quot;&gt;&gt;Rika Koizumi&lt;&lt;/linkreplace&gt;&gt;@@ @@.fade-in-out;and look where that got you.

[[Idiot.]]</tw-passagedata><tw-passagedata pid="178" name="Idiot." tags="lucy partone" position="1593,11669" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio bryyo play loop&gt;&gt;

Maybe she was just a victim of a system in play, the same as you. But it doesn&#39;t matter - she still betrayed you, and that&#39;s all you can process as pure &lt;i&gt;rage&lt;/i&gt; and &lt;i&gt;hurt&lt;/i&gt; course through your veins like needles of ice. It takes everything in you not to unleash every remembered attack, every furious fusion of dog and girl, of monster and-

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Lucy.]]|</tw-passagedata><tw-passagedata pid="179" name="Vigilantes ntev" tags="lucy partone flashback" position="1695,10243" size="100,100">&lt;small&gt;[[text effect version|Vigilantes]]&lt;/small&gt;

With age, however, came a deeper understanding of society&#39;s inner workings. By the time you hit high school, you started to see the world a little differently. You went to history class and learned about the injustices committed throughout time. You walked through the halls and witnessed the harassment of other students. You sat on the bus and looked at the dilapidated streets where poverty and brutality reared rampant in the shadows of skyscrapers. You stared at the news, stories of gang violence and domestic abuse and all these things that seemed so akin and so alike to the girl who used to bully you what felt like a lifetime ago.

You called it hero work at first, though even then it was more vigilante work. You weren’t registered, weren’t prepared, weren’t anything. It was uneventful, for the most part; you sat atop rooftops and waited to hear a gunshot or sounds of violence before you and Lulu lept into action. You didn’t have a name, barely even had a costume. Just you and your gut instincts. Occasionally, you did good. You stopped a robbery once.

But mostly, you were bored. You broke up fights at school, talked louder, spoke louder, [[did more.|did more. ntev]]</tw-passagedata><tw-passagedata pid="180" name="do the same. ntev" tags="lucy partone flashback" position="1696,10761" size="100,100">&lt;small&gt;[[text effect version|do the same.]]&lt;/small&gt;

Of course, there was that one time you got injured when gang members - real gang members, not vigilantes with a bad rap - showed up. You were lucky enough to have been found by your biology teacher Mrs. Maynard, but you did have to tell her the truth. She only briefly chastised you for risking yourself, but otherwise accepted your explanation and didn&#39;t press further any of the following times you sought her out for aid.

And while you trusted she would never snitch, you left out that you were the &lt;i&gt;leader&lt;/i&gt; of the Diamond Dogs. The less she knew, the safer she was. Still, you did appreciate the occasional energy bar or coffee that was left on your desk.

Mrs. Maynard was the only adult who ever knew your situation. You never told your parents anything; again, the less they knew, the safer they were. You fed them half-truths about an evening study group or staying at a friend&#39;s house. As long as your grades stayed up, they figured it would be best to leave you to your own devices.

And... it was good. You prevented numerous robberies and assaults, and you returned more stolen items than you could count on one hand. You even got rid of a few of the more threatening gang members. None of it was important enough for real heroes to bother with, you told yourself. Systemic change would follow in due time, but it wasn&#39;t for you to spearhead. You saw your work as mitigation, [[not a solution.|not a solution. ntev]]</tw-passagedata><tw-passagedata pid="181" name="Diamond Dog. ntev" tags="lucy partone flashback" position="1696,11340" size="100,100">&lt;small&gt;[[text effect version|Diamond Dog.]]&lt;/small&gt;

But, Lucy, there&#39;s still one more thing.

Don&#39;t you remember?

Don&#39;t you remember [[who]] was the key witness?</tw-passagedata><tw-passagedata pid="182" name="who ntev" tags="lucy partone flashback" position="1703,11492" size="100,100">&lt;small&gt;[[text effect version|who]]&lt;/small&gt;

You trusted her. ?p̷̛̯̩͒̔̀͜ɹ̴̛̬̙͊́͌ɐ̴̱̄̊̈́͝ǘ̸͙̟́ʎ̴̜̀ɐ̵̱̣͑̿̕W̵̙̙̣̐̓͌ͅ ̷̯̈̅͂̎˙̴̘̓̌̆̀s̵̱̙̋̀ɹ̶̪̝͂͌̕Ẃ̶̢̩̦̒ͅ.̶̘́ ̵̟͎͊̒́̄

She was - you trusted &lt;&lt;linkreplace &quot;Mrs. Maynard&quot;&gt;&gt;Rika Koizumi&lt;&lt;/linkreplace&gt;&gt; and look where that got you.

[[Idiot.]]</tw-passagedata><tw-passagedata pid="183" name="Lucy." tags="renli partone" position="1544,11823" size="200,200">You... don&#39;t fully comprehend everything that happens. One moment, you are staring up at John&#39;s massive form in utter bewilderment, and the next, you are back in Owen&#39;s dark and cramped office with two extra bodies.

One is easily identified as John thanks to his featureless form that casts a soft blue glow around the room. Instead of some hundreds of feet, he stands to about six-foot, the same as Zane.

The other is Rika, rolling around the ground in her strange cloak as she groans. Lucy clutches an oddly-transparent Lulu to her chest and stares at her, expression simultaneously vacant and enraged. She only snaps back to reality when Zane calls out her name, blinking and shaking her head as if to [[clear it.]]</tw-passagedata><tw-passagedata pid="184" name="clear it." tags="renli partone" position="1600,12080" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Lucy, are you alright?|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Why wouldn&#39;t I...|

A pregnant pause ensues.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; No. No, not really.|

She looks down and seems to only just register Lulu&#39;s current form.

|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Not the diamond - you&#39;re gonna give us - no, no, I can explain!|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Lucy, it&#39;s okay. Calm down. We&#39;re here for you.|

You reach out to [[touch her shoulder.]]</tw-passagedata><tw-passagedata pid="185" name="touch her shoulder." tags="renli partone" position="1600,12230" size="100,100">Before your brain fully processes what&#39;s happening, you draw back with a sharp cry.

|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Ah! That - are you okay?|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; ... It felt like my skin was melting.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; ... Yeah... It might be best if no one touches me for a while. I think I just need time. More importan-|

You hear the door swing open and some pairs of [[footsteps]] hurry up the stairs.</tw-passagedata><tw-passagedata pid="186" name="footsteps" tags="renli partone" position="1600,12380" size="100,100">|&lt;img src=&quot;sprites/owen/neutral.png&quot; width=150px&gt;|&lt;b&gt;OWEN:&lt;/b&gt; ... shit.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Owen?|
|&lt;img src=&quot;sprites/elanore/neutral.png&quot; width=150px&gt;|&lt;b&gt;ELANORE:&lt;/b&gt; Renli?|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Elanore?|
|&lt;img src=&quot;sprites/owen/neutral.png&quot; width=150px&gt;|&lt;b&gt;OWEN:&lt;/b&gt; Fucking shit! What&#39;s the- fuck - the...|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Owen... things didn&#39;t go as planned.|
|&lt;img src=&quot;sprites/owen/neutral.png&quot; width=150px&gt;|&lt;b&gt;OWEN:&lt;/b&gt; No shit! We gotta go. Fuck, the...|

Rika manages to make it to her feet right as Owen snaps his fingers, recognition passing over his face.

|&lt;img src=&quot;sprites/owen/neutral.png&quot; width=150px&gt;|&lt;b&gt;OWEN:&lt;/b&gt; [[Elanore Evermore.]]|</tw-passagedata><tw-passagedata pid="187" name="Elanore Evermore." tags="renli partone" position="1601,12530" size="100,100">Elanore collapses, but Owen is ready to catch her. He hoists her thin frame over his shoulder, turns on his heel, and rushes out the door. Without waiting for anyone else to make the call, you skip all the steps and jump right to the bottom of the stairs. If anyone here understands more about what&#39;s going on, it has to be him, right?

|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Owen, [[wait up!]]|</tw-passagedata><tw-passagedata pid="188" name="wait up!" tags="renli partone" position="1601,12680" size="100,100">Owen glances back at you briefly, fear and panic all you can read on his face, and you hate the way it pierces a lance of guilt through your abdomen. Then his gaze drifts to something behind you.

|&lt;img src=&quot;sprites/owen/neutral.png&quot; width=150px&gt;|&lt;b&gt;OWEN:&lt;/b&gt; The jig is up.|

Just as you reach out to grab him, [[he&#39;s gone.]]</tw-passagedata><tw-passagedata pid="189" name="he&#39;s gone." tags="renli partone" position="1601,12830" size="100,100">You turn to Rika, but Lucy is on her before you can even open your mouth.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; What the &lt;i&gt;hell&lt;/i&gt; is going on.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I can&#39;t - it&#39;s a lot more than I can explain qui-|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Don&#39;t give me that!|

She reaches out to grab Rika by the collar, then stops short, as if thinking better of it. You briefly recall the feeling on your hands when you patted her a few minutes back and shudder involuntarily.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Look. Let&#39;s just... let&#39;s just step outside, okay? There&#39;s a bigger fire to put out.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; You&#39;re distracting us. It won&#39;t work.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Please, I can&#39;t even run like this.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Stop fucking around.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I&#39;m not-!|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I said-|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Lucy.|lumcy my lv]]|</tw-passagedata><tw-passagedata pid="190" name="lumcy my lv" tags="renli partone" position="1601,12976" size="100,100">All eyes turn to Zane, who runs a hand through his silver curls.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; She isn&#39;t lying.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Funny. She&#39;s been lying for so long; why stop now?|

In spite of her words, Lucy relents. You figure Zane is also pushing some more of his epithet toward her. Regardless of how anyone may feel about him, they must all admit he knows how to navigate a wide variety of situations with ease - sometimes inadvertently doing quite a bit of good along the way.

You hurry down the stairs and back through the hallways of the radio tower. Thank goodness for straightforward architecture - [[the exit]] is close now.</tw-passagedata><tw-passagedata pid="191" name="the exit" tags="renli partone" position="1601,13130" size="100,100">The world is far, far brighter than you recall. The stinging sensation of your irises seizing up lasts just a moment longer than you expect, and then the sound hits you.

Several buildings around you, seemingly at random, are on fire. Screams ring out - at first you think they&#39;re out of fear, but quickly you realize they are war cries.

Rika was right. There is [[a bigger fire|Part Two]] to put out.</tw-passagedata><tw-passagedata pid="192" name="Part Two" tags="player parttwo" position="2140,194" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;set $partTwoSeen to true&gt;&gt;&lt;center&gt;&lt;p style=&quot;font-size:30px&quot;&gt;[[Part Two: Accompanied by Rain|rika flashback]]&lt;/p&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="193" name="part two starts fr" tags="parttwo tt" position="2266,733" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio norm play loop&gt;&gt;Literacy is burning, and with it your hope. You, Zane, Lucy, Renli, Rika, and John stand outside the radio tower, watching everything and nothing at the same time.

You can see two familiar figures quickly approaching your company, and you understand that now is your time to clear things up.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; So... I think I owe you all another explanation first.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; What could be more important than-|

She clams up when she sees what you&#39;re looking at. Their federal uniforms, despite being universally recognized, are a rare sight indeed.

For [[most]], anyway.</tw-passagedata><tw-passagedata pid="194" name="most" tags="tt parttwo" position="2311,975" size="100,100">|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Twos!|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Norm!|

You throw your arms around him and squeal.

|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Everyone, this is Norm. He&#39;s like my cool uncle.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Aha, well, we all worked together to raise you. Isn&#39;t that right, General Douglas?|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; ...|

You notice the way the general is staring stonily at Renli, who smiles and waves obliviously. Well, &lt;i&gt;you&lt;/i&gt; know she&#39;s way smarter than she acts, but you figure the general doesn&#39;t.

|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Anyway, no need for introductions on your part; we know all your names.|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Agent Norm. Let&#39;s do what we have to and get going.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Ehhh... I also have some questions for them, though.|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Norm...|

You put on your wateriest eyes and furrow your brows upward.

|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Can I pleaaase tell them [[everything?]]|</tw-passagedata><tw-passagedata pid="195" name="everything?" tags="tt parttwo" position="2312,1116" size="100,100">Norm and the general exchange looks. They seem to hold an intense discussion before the general nods silently.

|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; You can tell them what&#39;s important.|

You turn to your friends and smile broadly.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[I&#39;m actually a fish!]]|</tw-passagedata><tw-passagedata pid="196" name="I&#39;m actually a fish!" tags="tt parttwo" position="2312,1266" size="100,100">|&lt;img src=&quot;sprites/lucy/shock.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; What.|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; What.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh, that explains the tail!|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yeah! My true form is really really big, and there&#39;s a lot of orange and white. Also, &quot;Twenty-two&quot; is short for Case 22.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; We discovered she had an epithet, and after a lot of experimentation, we figured it wouldn&#39;t hurt to try to integrate her into society. Oh, by the way, my epithet is Normal.|

He gives your tail a big slap, and suddenly you&#39;re all back to [[normal.]]</tw-passagedata><tw-passagedata pid="197" name="normal." tags="tt parttwo" position="2313,1417" size="100,100">|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; If it weren&#39;t for the fact that Lucy and Renli are here right now, I would never believe any of that just happened.|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENY-TWO:&lt;/b&gt; Sorry I kept it from you for so long. I&#39;m usually not very good with secrets, but this one was really important.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; It&#39;s alright. Thanks for telling us, Twos.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Well, now that that&#39;s done with, we should head to the sheriff&#39;s office. You&#39;ll be safer there.|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Wait, I need to get my rat from my apartment!|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You... have a rat?|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Yeah.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Don&#39;t worry; we&#39;ll take care of that.|

The group starts gathering together, until the general holds up his hand.

|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Wait. [[She]] can&#39;t come with us.|</tw-passagedata><tw-passagedata pid="198" name="She" tags="tt parttwo" position="2313,1567" size="100,100">He points right at Lucy. Lulu growls at him.

|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Well...|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; She&#39;s dangerous.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; I meaaan...|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; &lt;i&gt;You&lt;/i&gt; know what &lt;i&gt;I&lt;/i&gt; mean.|

There&#39;s an uncomfortable pause as everyone looks at one another. You notice that Lucy doesn&#39;t protest, just cluthces Lulu tighter to [[herself.]]</tw-passagedata><tw-passagedata pid="199" name="herself." tags="tt parttwo" position="2313,1716" size="100,100">Zane steps toward Lucy and crosses his arms, forming a gap between himself and the agents.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You could at least make up a believable excuse. Lucy can be a pain in the neck, but she isn&#39;t &lt;i&gt;dangerous.&lt;/i&gt;|

Renli joins him, followed shortly by the ever-floating John.

|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; If Lucy isn&#39;t going, then I&#39;m not going.|

You give Norm an apologetic look and move to stand beside your friends.

|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; This puts us at an [[impasse.]]|</tw-passagedata><tw-passagedata pid="200" name="impasse." tags="tt parttwo" position="2313,1866" size="100,100">Or it would, if a distant boom didn&#39;t suddenly draw your attention.

|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Is that the toy store?|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Sure is!|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Dammit. Renli, Zane, come with me.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I hope you don&#39;t mind if John joins us.|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Who&#39;s-... ah.|

He wrinkles his face and curls his lip in disgust, but ultimately shrugs.

|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Norm, you watch the others. Do not let them out of your sight.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; [[Yessir!]]|</tw-passagedata><tw-passagedata pid="201" name="Yessir!" tags="tt parttwo" position="2313,2016" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dailylife play loop&gt;&gt;As soon as the general is gone, you yawn and stretch.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I&#39;m hungry. Let&#39;s go to Rika&#39;s.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Wh- my home?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; No, silly! That would be weird. I meant the corner store.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Are we even allowed to leave?|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; The general only said Norm had to keep an eye on us, so... yes!|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Yeah, that&#39;s true!|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; So what&#39;re we waiting for? [[Let&#39;s go!]]|</tw-passagedata><tw-passagedata pid="202" name="Let&#39;s go!" tags="tt parttwo" position="2313,2166" size="100,100">You cross back over the bridge, chattering excitedly beside Lucy. She still seems pretty gloomy, but she asks you lots of questions about your life as a fish. You hope the conversation cheers her up.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I don&#39;t remember too much of my life before the agency took me in, but then I traveled to a lot of places and met a lot of different creatures!|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Have you ever met an ocean sunfish?|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Unfortunately not! I&#39;m more of a freshwater girl. Maybe one day, though.|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Oh! Then is swimming in seawater bad for you? Man, I feel bad thinking about all those times we&#39;d hang out at the beach...|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Oh, no, don&#39;t worry! I can filter all that out. I appreciate you looking out for me, though.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Of course; that&#39;s what friends are for.|

Speaking of which, you wonder how your other friends are doing... But no time to ask: it&#39;s time for [[Rika&#39;s!]]</tw-passagedata><tw-passagedata pid="203" name="Rika&#39;s!" tags="tt parttwo" position="2262,2308" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio frenchquarter play loop&gt;&gt;You grab a baguette as soon as you enter the store and immediately chomp down on it. Norm does the same. Lucy, however, whirls on Rika. She&#39;s nowhere near as angry as she was before, but it&#39;s still very clear she&#39;s unhappy.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Now will you tell us the truth?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; If you think you and Twenty-two are ready to hear it.|

Lucy glances at you, and you nod.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[So?]]|</tw-passagedata><tw-passagedata pid="204" name="So?" tags="tt parttwo" position="2316,2554" size="100,100">|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Literacy is just a fancy prison. All of you are convicts. You, 22, Renli, Zane, practically everyone in town.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I&#39;m one of the few wardens, and Norm here has special permission to stick around.|

You blink and nibble thoughtfully on your bread. Lucy lowers her head and rubs her temples for a moment before she responds.

|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; ... ugh. That&#39;s what I thought.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I won&#39;t lie; you guys have done really bad things - at least, on paper. But they also wouldn&#39;t send you to [[Camelot|Camelot.sdf]] if they didn&#39;t have hard evidence.|

Wait - that name -</tw-passagedata><tw-passagedata pid="205" name="Camelot.sdf" tags="tt parttwo" position="2316,2701" size="100,100">|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Camelot?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; That&#39;s right.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So... if we&#39;re so terrible, why aren&#39;t you running for your life? I just beat you up, after all.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Because I need your help. Because even with all your memories back, you aren&#39;t trying to kill me.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; And... because there are worse things in Camelot than you, Lucy Lane.|

Lucy narrows her eyes and takes a deep breath.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[I...]]|</tw-passagedata><tw-passagedata pid="206" name="I..." tags="zane parttwo" position="2273,2852" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio faceoff play loop&gt;&gt;Several civilians are scattered around the floor of the toy store. Some lay unconscious or dead, while others cower and clutch their heads. You blanket Renli and General Douglas in blessings as you wander through, trying to evacuate as many people as possible without hurting yourselves.

Renli tried to heal them, too, at first. But Douglas grabbed her by the shoulders when she pulled a bunch of grapes out of the air and yelled at her, so you took the fruit instead.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; So. What do you think happened here?|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Billweeds.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Could a man so frail wreak such havoc?|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; His epithet is [[Sensitive]].|</tw-passagedata><tw-passagedata pid="207" name="not a solution." tags="lucy partone flashback" position="1491,10903" size="100,100">&lt;small&gt;[[no text effect version|not a solution. ntev]]&lt;/small&gt;

@@.fade-in-out;Until you were caught, anyway.

They came for you at school, you remember. Age sixteen and a half, Algebra II. You were half-asleep when a few costumed heroes kicked the door off its hinges and started shouting at everyone to stay calm. You were almost scared there was a real threat for a second, until a cop slipped behind you and placed eraser cuffs around your hands. And as they walked you out, you felt nothing except the eyes of the kids around you.

The charges were hard to shake. Multiple accounts of battery. Multiple accounts of assault. Multiple accounts of breaking and entering. Conspiracy to overthrow local government. Robbery. Threatening officers of the law. The charges kept going and going and you just felt as if you were in a dream. You knew what you had done - but you didn&#39;t know [[how they knew.]]</tw-passagedata><tw-passagedata pid="208" name="how they knew." tags="lucy partone flashback" position="1490,11032" size="100,100">&lt;small&gt;[[no text effect version|how they knew. ntev]]&lt;/small&gt;

@@.fade-in-out;And then they brought in your parents. Told them the truth you had so carefully curated and hid for years. Your mom was crying. You were ready for that, really; it was your dad that got to you. He didn’t want to meet your gaze. You thought he was disappointed - but... no, it wasn&#39;t disappointment.

He was scared.

In that moment, chained and cuffed and tired and scared, you were the most terrifying thing in the room to him. And that was the last time you really saw him [[up close.]]</tw-passagedata><tw-passagedata pid="209" name="up close." tags="lucy partone flashback" position="1493,11185" size="100,100">&lt;small&gt;[[no text effect version|up close. ntev]]&lt;/small&gt;

@@.fade-in-out;And you remember something else, Lucy. You remember why your dad was scared of you. What they told him in the reports, of what you did when you were down on the ropes. When you feel that trapped, when you tap into that endless fear and uncertainty and isolation and dissociation something happens to you. That pool of wellness that you share with Lulu, your dog and your epithet and your other half... it all snaps to you.

You feel it, that sudden burst of vitality, and then you see what it does to Lulu. Their fur shines a glistening white, before their form starts to change into something... low polyonal, for lack of a better term. A sheening, glistening, almost-textureless form in the shape of a dog, white and blue and nearly transparent but for all the infinite reflections and complexities within. Impenetrable, lighting-quick, and above all else invulnerable to even the forces of nature. A phantom, treating gravity and pressure and friction as suggestions, a ghost powerful enough to cut through the thickest steel like a thin butter. A form only maintainable for brief bursts, but a form terrifying enough to only need to be used once.

Lucy, you remember what they called it. What they called you.

[[Diamond Dog.]]</tw-passagedata><tw-passagedata pid="210" name="not a solution. ntev" tags="lucy partone flashback" position="1694,10901" size="100,100">&lt;small&gt;[[text effect version|not a solution.]]&lt;/small&gt;

Until you were caught, anyway.

They came for you at school, you remember. Age sixteen and a half, Algebra II. You were half-asleep when a few costumed heroes kicked the door off its hinges and started shouting at everyone to stay calm. You were almost scared there was a real threat for a second, until a cop slipped behind you and placed eraser cuffs around your hands. And as they walked you out, you felt nothing except the eyes of the kids around you.

The charges were hard to shake. Multiple accounts of battery. Multiple accounts of assault. Multiple accounts of breaking and entering. Conspiracy to overthrow local government. Robbery. Threatening officers of the law. The charges kept going and going and you just felt as if you were in a dream. You knew what you had done - but you didn&#39;t know [[how they knew.|how they knew. ntev]]</tw-passagedata><tw-passagedata pid="211" name="how they knew. ntev" tags="lucy partone flashback" position="1693,11030" size="100,100">&lt;small&gt;[[text effect version|how they knew.]]&lt;/small&gt;

@@.fade-in-out;And then they brought in your parents. Told them the truth you had so carefully curated and hid for years. Your mom was crying. You were ready for that, really; it was your dad that got to you. He didn’t want to meet your gaze. You thought he was disappointed - but... no, it wasn&#39;t disappointment.

He was scared.

In that moment, chained and cuffed and tired and scared, you were the most terrifying thing in the room to him. And that was the last time you really saw him [[up close.|up close. ntev]]</tw-passagedata><tw-passagedata pid="212" name="up close. ntev" tags="lucy partone flashback" position="1693,11180" size="100,100">&lt;small&gt;[[text effect version|up close.]]&lt;/small&gt;

And you remember something else, Lucy. You remember why your dad was scared of you. What they told him in the reports, of what you did when you were down on the ropes. When you feel that trapped, when you tap into that endless fear and uncertainty and isolation and dissociation something happens to you. That pool of wellness that you share with Lulu, your dog and your epithet and your other half... it all snaps to you.

You feel it, that sudden burst of vitality, and then you see what it does to Lulu. Their fur shines a glistening white, before their form starts to change into something... low polyonal, for lack of a better term. A sheening, glistening, almost-textureless form in the shape of a dog, white and blue and nearly transparent but for all the infinite reflections and complexities within. Impenetrable, lighting-quick, and above all else invulnerable to even the forces of nature. A phantom, treating gravity and pressure and friction as suggestions, a ghost powerful enough to cut through the thickest steel like a thin butter. A form only maintainable for brief bursts, but a form terrifying enough to only need to be used once.

Lucy, you remember what they called it. What they called you.

[[Diamond Dog.|Diamond Dog. ntev]]</tw-passagedata><tw-passagedata pid="213" name="Sensitive" tags="zane parttwo" position="2313,3079" size="100,100">Hm. There are quite a few uses you could imagine for such an epithet, and while hurting others isn&#39;t at the top of the list, you suppose it explains why everyone around seems so overwhelmed. It also means getting everyone out as soon as possible before you do your job is absolutely critical - their pain likely amplifies his, and vice versa, in some kind of terrible positive feedback loop.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I&#39;m curious, General, do you have an epithet?|
|&lt;img src=&quot;sprites/douglas/neutral.png&quot; width=150px&gt;|&lt;b&gt;DOUGLAS:&lt;/b&gt; Don&#39;t need one.|

That&#39;s about all he seems willing to divulge on the topic. You grit your teeth and head into the back. [[Mr. Billweeds]] himself is likely around here, after all.</tw-passagedata><tw-passagedata pid="214" name="Mr. Billweeds" tags="zane parttwo" position="2312,3221" size="100,100">You can barely see him at first, shivering under a bookshelf that has partly toppled into the next one. You crouch in front of him and speak in a soft and silky voice, offering a hand out to him as you pull a little extra goodness to wrap around him.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Mr. Billweeds, you are [[safe]] now.|</tw-passagedata><tw-passagedata pid="215" name="safe" tags="zane parttwo" position="2312,3372" size="100,100">You&#39;re suddenly aware of the fact that the whimpering you keep hearing is from him, not a broken machine or the fire.

|&lt;img src=&quot;sprites/tommy/panik.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; No, no, I didn&#39;t mean to - it&#39;s not really my fault - they didn&#39;t deserve - I&#39;m horrible, I don&#39;t - please, not this - I...|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Mr. Billweeds?|
|&lt;img src=&quot;sprites/tommy/panik.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; Hurt them... I didn&#39;t want to, I swear, but I know I did, and I - no, please, I can&#39;t -|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Tommy.|
|&lt;img src=&quot;sprites/tommy/panik.png&quot; width=150px&gt;|&lt;b&gt;TOMMY:&lt;/b&gt; I never meant to kill them.|

This last sentence penetrates even your layers and layers of blessings and resonates through your skull.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You are blabbering, sir. Let&#39;s get you-|
|&lt;img src=&quot;sprites/coper/neutral.png&quot; width=150px&gt;|&lt;b&gt;???:&lt;/b&gt; Now, now, dear, I can&#39;t have you leaving with him just yet.|

You whip around and glare at the [[intruder.]]</tw-passagedata><tw-passagedata pid="216" name="intruder." tags="zane parttwo" position="2314,3522" size="100,100">You think you&#39;ve seen this woman around town before, but it&#39;s hard to tell when her mascara is running dark streams all over her face. Given her uniform, though? This woman may be the nurse you spoke with yesterday.

She pulls a crossbow off her back and nocks the arrow, a malicious look in her bloodshot eyes. Renli is at your side in a moment&#39;s notice, already twirling some cherries in her hand. General Douglas arrives shortly thereafter.

|&lt;img src=&quot;sprites/nurse/coper.png&quot; width=150px&gt;|&lt;b&gt;????:&lt;/b&gt; So this is how it&#39;s going to be?|

She cackles, a gratingly unsettling sound that squeezes the air out of your lungs, but is interrupted by the glass above her breaking and [[someone]] falling through.</tw-passagedata><tw-passagedata pid="217" name="someone" tags="zane parttwo" position="2314,3671" size="100,100">She lands with her fist punching the ground, shortly followed by another person who throws dollar bills around like confetti.

Superheroes. You grit your teeth and smile.

There&#39;s only [[one way]] it could be worse.</tw-passagedata><tw-passagedata pid="218" name="mkay?" tags="zane parttwo" position="2314,3977" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hold it. What do you mean, you thought you&#39;d never see me again? I leave every summer.|
|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Are you joking?|

Behind those obnoxious shades, you think you spot a hint of sadness.

|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; I haven&#39;t seen you in five years. You&#39;ve been here in [[Camelot]], Zane.|</tw-passagedata><tw-passagedata pid="219" name="Camelot" tags="renli parttwo" position="2314,4127" size="100,100">Zane looks... astonished, to say the least, at all these revelations. Not to say that you aren&#39;t (it explains a lot of things, like his general disdain toward superheroes and especially toward Cool Girl), but you can see the world as he constructed it in his mind falling apart before him.

|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; So... then... &lt;i&gt;everyone?&lt;/i&gt;|
|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Uh, yeah, everyone except the wardens - you know, like, whatsherface with the glasses - is some kind of hardened criminal. You included, &lt;i&gt;big bro!&lt;/i&gt;|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Even Twos? Even - even &lt;i&gt;Mason?&lt;/i&gt;|
|&lt;img src=&quot;sprites/ilia/neutral.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; I dunno who Twos is, but Pendragon was a huuuge superhero for a while. Before he went rogue, anyway. Man, they really kept you out of the loop!|

Before anyone can say anything more, the nurse-slash-villain from earlier suddenly looms behind Ilia, grabbing her in a chokehold.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; HEY!|

He breaks out of his train of thought and powers up, pulling everything in and leaving you winded by the sudden [[sensitivity]] that comes on.</tw-passagedata><tw-passagedata pid="220" name="sensitivity" tags="renli parttwo" position="2315,4274" size="100,100">Ilia&#39;s teammate (Mint Condition, if you remember correctly) sends dollar bills flying at the woman. You eye them; if you didn&#39;t know they were very sharp and very not real, you would probably be grabbing him and chastising him for waste. Most of them miss, and the handful of marks that are left quickly seal up, but she does release Ilia and turns to focus on blocking the hits from General Douglas&#39; cane.

Zane now has a massive sword of light in his hands that&#39;s a little hard to look at directly, although you can tell it is far narrower and more elegant than Ilia&#39;s. With his power, he should be able to take the woman down in just [[one blow.]]</tw-passagedata><tw-passagedata pid="221" name="one blow." tags="renli parttwo" position="2315,4424" size="100,100">He bounces back with the same force he charged with, flipping backward and just barely landing on his feet. You&#39;re about to cheer when you realize the cut is hardly bigger than the little ones Richie is making.

|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Heh, bit off more than you could chew, Za-?|

John tugs you to the side, and you can only assume what happened based on the aftermath. An arrow embeds itself in the wall where you were just standing, taking off a large chunk of your fluffy hair. It must have flown right past Ilia, because you can make out a few strands of silver drifting down in the moonlight.

|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Oh, [[fuck off.]]|</tw-passagedata><tw-passagedata pid="222" name="fuck off." tags="renli parttwo" position="2315,4574" size="100,100">Six luminescent wings burst out her back, propelling her into the air so she can drop down on the woman. She wields her sword like it weighs nothing, yet her blows are clearly doing more than anything else has - even if it still seems to be fairly little.

Something about the attack upsets John as well. Wordlessly, he flies up and begins charging a beam of his own, red and full of rage.

You are, in all ways, completely out of your league.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hey, Renli?|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Yes?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Do you want to leave?|

You feel a little bad about leaving John behind, but it&#39;s clear he&#39;ll be fine.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[Yes.]]|</tw-passagedata><tw-passagedata pid="223" name="Yes." tags="lucy parttwo" position="2270,4716" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio assassins play loop&gt;&gt;Little Lucile Locks kicks down the door before you can formulate a proper response to Rika&#39;s request. Following close behind is her friend Ralphie, a round little boy possibly a year or two younger than the Locks girl.

|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Big Lu!|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Lil&#39; Lu!|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; I didn&#39;t know you were so fuckin&#39; cool!|

You have &lt;i&gt;never&lt;/i&gt; heard her curse so easily.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hey, watch your language!|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; No!|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Eugh...|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Oh, right, this one&#39;s for [[you!]]|</tw-passagedata><tw-passagedata pid="224" name="you!" tags="lucy parttwo" position="2318,4960" size="100,100">She reveals a knife and charges at Rika, an awful giggle trailing after her. The bespectacled woman barely manages to block and knock the knife aside, then trips Lucille and tackles her. The child, however, flips them around and knees Rika in the back.

As this happens, Ralphie picks up the abandoned knife and points it at Twos.

|&lt;img src=&quot;sprites/ralphie/angry.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; I&#39;m gonna stab you!|
|&lt;img src=&quot;sprites/22/sweatdrop.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Wh- please don&#39;t?|
|&lt;img src=&quot;sprites/ralphie/angry.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Too bad. I&#39;m gonna do it!|
|&lt;img src=&quot;sprites/22/angry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; No!!! That&#39;s gonna hurt!|
|&lt;img src=&quot;sprites/ralphie/angry.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Exactly!|

This is going nowhere.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY: Hey, hey, Ralphie, look at Lulu.|

He obliges, and then his eyes glaze over.

|&lt;img src=&quot;sprites/ralphie/dazed.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Good puppy...|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; That&#39;s right. Now, if you put the knife down, you can even pet her.|
|&lt;img src=&quot;sprites/ralphie/dazed.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; [[Knife down...]]|</tw-passagedata><tw-passagedata pid="225" name="Knife down..." tags="lucy parttwo" position="2317,5106" size="100,100">Twos makes the mistake of reaching for the knife right as he starts moving toward you, and he snaps out of his daze.

|&lt;img src=&quot;sprites/ralphie/angry.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Hey! Stay there!|

Twos freezes as he glares at her for a little longer than necessary. Sweat trickles down the back of your neck.

|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Hey, you know, this ki-|
|&lt;img src=&quot;sprites/ralphie/angry.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Shut up!|

You lock eyes with Norm, who shuts his mouth and shrugs at you. You&#39;re ready to use force to get his attention again, but then he turns back to Lulu as his expression goes empty again.

Finally, finally, his hand touches [[Lulu.]]</tw-passagedata><tw-passagedata pid="226" name="Lulu." tags="lucy parttwo" position="2318,5251" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio dog play loop&gt;&gt;His hand and his lower arm &lt;i&gt;peel&lt;/i&gt;. There isn&#39;t really a better way to word it, especially when it comes away so cleanly and evenly.

And with that, you realize you are safe.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Hey... I just realized he has an epithet. I&#39;m not sure what it is, but we have to do what he says.|

In that case, she seems to have broken free - or maybe it&#39;s because you just broke his concentration and sapped away nearly all of his stamina.

|&lt;img src=&quot;sprites/ralphie/cringe.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; Eww, you make it sound so [[cringe.]]|</tw-passagedata><tw-passagedata pid="227" name="cringe." tags="lucy parttwo" position="2318,5394" size="100,100">You pat his head, knowing he can&#39;t really harm you anymore. You&#39;re also not sure if he intended to in the first place.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; No, it&#39;s actually pretty cool.|
|&lt;img src=&quot;sprites/ralphie/angy.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; That&#39;s right!|

But you can&#39;t let his ego get too inflated at this age.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; But you&#39;re a little cringe.|
|&lt;img src=&quot;sprites/ralphie/cringe.png&quot; width=150px&gt;|&lt;b&gt;RALPHIE:&lt;/b&gt; I&#39;m a little [[cringe...]]|</tw-passagedata><tw-passagedata pid="228" name="cringe..." tags="lucy parttwo" position="2318,5543" size="100,100">Rika abruptly goes flying across the room and slams into the wall. She doesn&#39;t bother to get up. After a few moments, Lucile dusts her hands off and hops to her feet in one swift motion.

|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Whew! What a good workout.|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; So, how about it, Big Lu?|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; How about what?|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILE:&lt;/b&gt; Well, everything&#39;s going to shit. Camelot&#39;s totally going down either way, sooo... Wanna help me [[break out?]]|</tw-passagedata><tw-passagedata pid="229" name="break out?" tags="lucy parttwo" position="2318,5694" size="100,100">You look over to Rika. She&#39;s bruised and battered, but conscious. Her eyes meet yours, and she sort of gives a half-shrug. She can&#39;t blame you for whatever decision you&#39;ll make.

And Twos... she just looks at you. You recall that she chose you over safety, but of course she&#39;ll want to be with Norm and Rika. Your heart would break if you hurt her like that.

What about Renli and Zane? You don&#39;t think they&#39;d have a problem either way. If this place is really a prison, surely they won&#39;t mind being on the lam too much.

You know [[your answer.]]</tw-passagedata><tw-passagedata pid="230" name="your answer." tags="lucy parttwo" position="2318,5842" size="100,100">Part of you can&#39;t believe you&#39;re doing this after what Rika did not too long ago, but you know it&#39;s the right decision.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Language. And...|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; No. I have some things to do.|
|&lt;img src=&quot;sprites/lucile/doom.png&quot; width=150px&gt;|&lt;b&gt;LUCILLE:&lt;/b&gt; Aww, that&#39;s sus! Whatever, your loss. Seeya!|

She twists away from Norm&#39;s grasp and narrowly dodges one last needle thrown at her before she skips [[out.]]</tw-passagedata><tw-passagedata pid="231" name="out." tags="parttwo renli" position="2267,5984" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio radiotower play loop&gt;&gt;You and Zane are greeted by the wonderful sight of absolutely no one at the bottom of the radio station. Through the smoke, you can sort of make out what you think are some superheroes and probably-former-citizens fighting on what seems to be the remains of the bridge to the east.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Great. Were they not told to stay put?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Maybe they got bored and went inside? You know how Lucy and Twos are.|

You can tell based on his grimace that he doubts it, but it seems he figures it won&#39;t hurt to scour the station&#39;s [[interior]].</tw-passagedata><tw-passagedata pid="232" name="interior" tags="parttwo renli" position="2328,6231" size="100,100">For the most part, everything is exactly as it was an hour ago - dark, disorganized, and overall rather drab. But when you reach December&#39;s floor, it takes you no time to realize something has happened. The messy tables have been overturned, scattering papers and utensils across the floor. One lightbulb flickers ominously, its light glinting off the remains of its shattered neighbor.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[December?]]|</tw-passagedata><tw-passagedata pid="233" name="December?" tags="parttwo renli" position="2328,6383" size="100,100">A shambling mound emerges from beneath a desk that has collapsed inward from some kind of overhead impact. You&#39;re honestly too amazed she managed to hide there of all places to question why she would choose such a strange lean-to for protection.

|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Haha, Z, my guy! And Ren-ren, you too. Back so soon, huh?|

Though she tries her best to sound upbeat, it&#39;s obvious she is, as Lucy would put it, &quot;going through it.&quot;

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Have you seen Lucy or Twos?|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Not since you were all here. But... I did see something else. I can... I can tell you guys, right?|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; You can tell us anything, December.|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; I... I saw... I think I saw old memories of mine. Hey, Z, Ren-ren... did you know that this place... is...?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Is what?|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; This is a prison.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Yes, we went over this half an hour ago.|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Get it [[together,]] December.|</tw-passagedata><tw-passagedata pid="234" name="nausea." tags="zane prologue" position="641,10118" size="100,100">|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I thought we already finished investigating? It looks like he isn&#39;t here.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Unless he&#39;s playing hide-and-seek...|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; You know... that might not be all that far off for once.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; He&#39;s pretty tall, though. I don&#39;t think he could hide very easily, even if it&#39;s all a mess.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; True. Plus, we can see the floor now, and there aren&#39;t really a lot of other places to hide here.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; My head hurts. Can we please just [[leave?|head back to Dunk’s.]]|</tw-passagedata><tw-passagedata pid="235" name="together," tags="parttwo renli" position="2328,6532" size="100,100">While you feel sorry for December, as she&#39;s dealing with the consequences of her past only a bit better than Tommy was, you have much bigger fish to fry. Or - maybe not fry. You should probably rework some common idioms, knowing what you now know about Twos.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I suggest you head to the police department. You should be safe there.|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Is that where you&#39;re going?|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; No.|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; ... Can you bring me?|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Miss December, you are hardly an incapable woman. You can head there yourself.|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Please?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; You know, we should check the French Quarter next. And since the bridge is a bit occupied, we&#39;ll have to go around, won&#39;t we?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[... Fair enough.]]|</tw-passagedata><tw-passagedata pid="236" name="... Fair enough." tags="parttwo renli" position="2328,6683" size="100,100">|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Thank you so much. Let me just... I need to pack...|

With a glazed look in her eyes, she starts grabbing at the air around her, occasionally swiveling her upper body a bit.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hello?|
|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Need to pack... get out...|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Well.|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I... don&#39;t think we&#39;re getting through.|

December suddenly stops and looks right at you, as if she didn&#39;t notice you there before.

|&lt;img src=&quot;sprites/december/spaced.png&quot; width=150px&gt;|&lt;b&gt;DECEMBER:&lt;/b&gt; Ren-ren, Z! I&#39;m so glad to see you. I-I remembered something...|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Renli. Do you think she&#39;ll be safer here?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Considering no one has targeted the tower yet, I think so.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Then our best course of action is to leave her be.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Shall we head to the [[French Quarter]], then?|</tw-passagedata><tw-passagedata pid="237" name="French Quarter" tags="parttwo tt" position="2279,6822" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio frenchquarter play loop&gt;&gt;Norm patches up Ralphie in the corner at the opposite end of the room as yourself, joking around with the little rascal and managing to get a few laughs out of him. You nervously twirl your hair between your fingers, trying to make your existence draw as little attention as possible. After all, you sit right between two very powerful Inscribed who could not more clearly be stewing in [[their own thoughts.]]</tw-passagedata><tw-passagedata pid="238" name="speak." tags="parttwo tt" position="2337,7227" size="100,100">Lucy begins with your search for Mason. You fill in a few details, but you let her call the shots on how much to say. Rika listens carefully, silent and face unchanging the entire time. In the end, she tells her about everything - including the strange woman from the ocean.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Shit.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; What is it?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; She&#39;s further along than we thought. Let&#39;s - we need to go to Mason&#39;s.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Aren&#39;t we forgetting something?|

She gestures toward Rika&#39;s wounds - most notably, the cut on her upper arm that she&#39;s very poorly attempting to conceal.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Doesn&#39;t matter. If things are bad enough, you&#39;ll want me there.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Then... Norm?|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Well, as much as I&#39;d love to help out, I don&#39;t think Ralphie&#39;s ready to get walking just yet. I&#39;ll meet up with you later, okay?|

You run over to give Norm a hug, Ralphie a nervous nod, and then hurry to the door.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So, why Mason&#39;s? Do you think [[something]] happened with him?|</tw-passagedata><tw-passagedata pid="239" name="their own thoughts." tags="parttwo tt" position="2336,7078" size="100,100">|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; ... Thank you.|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Just because I&#39;m willing to work with you doesn&#39;t mean I forgive you.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; That&#39;s fine; I understand. But I &lt;i&gt;am&lt;/i&gt; going to need to to tell me everything you know.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; ...|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; It&#39;ll let me know how much I need to fill in.|

Lucy takes a deep breath, and you realize her shoulders are shaking a bit. You reach out to give her a pat, locking eyes momentarily before she begins to [[speak.]]</tw-passagedata><tw-passagedata pid="240" name="something" tags="parttwo tt" position="2337,7378" size="100,100">|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Very likely, yes.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I mean, it&#39;s just Mason. What&#39;s he gonna do, challenge everyone in town to a rap battle?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No. He&#39;s - ugh. I hate to say this about... well, a friend. But...|

It only takes a minute to make it to the store. The door has been torn off its hinges and thrown across the street, and one window is smashed in. You look to Rika, who quickly moves toward the back room, lips pressed into a firm line.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Mason is incredibly dangerous. He is - or, was - [[the second-most powerful Inscribed in the world.]]|</tw-passagedata><tw-passagedata pid="241" name="the second-most powerful Inscribed in the world." tags="parttwo tt" position="2337,7528" size="100,100">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio comicstore play loop&gt;&gt;&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; He... &lt;i&gt;what?&lt;/i&gt;|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I know it sounds impossible. But his epithet allows him to, effectively, counter any other epithet.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; And I&#39;m guessing he&#39;s... you know...?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; An inmate? Yes. And if we aren&#39;t too late, we&#39;re going to need Duncan&#39;s help.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Are you sure? The two of us could be pretty powerful together.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yes. Duncan is the only one who might stand a chance against him.|

She touches an empty space on the wall, and suddenly you realize [[the sword is missing.]]</tw-passagedata><tw-passagedata pid="242" name="the sword is missing." tags="parttwo tt" position="2337,7679" size="100,100">The sword isn&#39;t the only thing, either. These revelations have rattled you to the point where you barely register that there&#39;s also a hole in the wall, just large enough for someone to squeeze through.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; This... isn&#39;t right.|

Without consulting you or Lucy, she slips into the darkness.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Welp, guess we only have one choice.|

[[You follow.]]</tw-passagedata><tw-passagedata pid="243" name="You follow." tags="parttwo zane" position="2293,7823" size="200,200">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio oceansfx volume 0.2 play loop&gt;&gt;&lt;&lt;audio beautyflow play loop&gt;&gt;&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You know... with everything going on, we haven&#39;t discussed what will happen afterward.|
||&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m unsure whether we&#39;ll even make it out of here.|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... Hearing that from you of all people is offputting, to say the least.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m just kidding! I know we&#39;ll be fine in the end.|

You and Renli are on your way to the French Quarter in hopes of locating 22, Lucy, Rika, and Norm. Although the two of you will probably be fine on your own, there is clearly a great deal at play that you don&#39;t understand (or can&#39;t remember, apparently). So, while, you can&#39;t quite trust him just yet, Norm is your best bet at staying safe.

Besides, as much as you hate to admit it, you&#39;re worried about 22 and Lucy. Twos seemed to be handling the news relatively well, but whatever Lucy remembered during the fight had a negative effect on her. You can only hope that [[she won&#39;t lash out too much.]]</tw-passagedata><tw-passagedata pid="244" name="she won&#39;t lash out too much." tags="zane parttwo" position="2344,8078" size="100,100">|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Hey, look! Is that Duncan... and Mason?|

You squint in the direction she points. Mere meters away from the docks, the blond stands atop a column of billowing water, fists resting on his hips in some kind of power pose. Across from him, perched on a pillar of light with a massive sword slung over his shoulders, is everyone&#39;s favorite comic store owner. You recognize the sword as the one at the back of the store - the same one Twos very nearly attempted to steal. If you strain your ears, you think you can hear them shouting about rapscallions.

Just as you recall Ilia mentioning Mason was once a superhero before becoming a criminal worthy of Camelot, Renli hurries over to them, waving and calling out their names.

A clear death sentence. [[You follow reluctantly.|gimme monei]]</tw-passagedata><tw-passagedata pid="245" name="gimme monei" tags="zane parttwo" position="2344,8229" size="100,100">|&lt;img src=&quot;sprites/mason/smile.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Aw, hey guys, what&#39;s the biz!|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Renli, Zane! Haven&#39;t seen you in a while.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; So much! So much has been happening. Looks like you two are about to duel?|
|&lt;img src=&quot;sprites/zane/angery.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; &lt;i&gt;Renli no you can&#39;t just say that you&#39;re suppposed to de-escalate the-&lt;/i&gt;|
|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; That&#39;s right, kiddo!|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; You should run along before shit goes sideways.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Aww, so sweet of you to worry about us.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; But I actually came here for business purposes. Duncan?|
|&lt;img src=&quot;sprites/duncan/angry.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Huh?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I punched Mason, so [[you owe me $20!]]|</tw-passagedata><tw-passagedata pid="246" name="you owe me $20!" tags="zane parttwo" position="2344,8378" size="100,100">&lt;&lt;audio beautyflow stop&gt;&gt;She&#39;s endangering the two of you for twenty dollars.

You want to vomit.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Oh, yeah! Sure thing. Just go to my shop and take it from the register. It&#39;s unlocked; I trust you.|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; No. I want my money now.|

You feel like you&#39;re losing your mind.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; It&#39;s - it&#39;s not that far, kid! You can just walk in and take the money. Heck, take 30 for your trouble.|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; No. Give me what I&#39;m owed.|

He sighs. The water sweeps him over to the docks where you stand as he digs through his pockets for his wallet.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Uh... I only have $15. Can you get the rest from the register? Please?|
|&lt;img src=&quot;sprites/renli/ominous.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[No.]]|</tw-passagedata><tw-passagedata pid="247" name="No." tags="zane parttwo" position="2344,8528" size="100,100">Duncan scratches his head, and you think you see worry flash in his eyes. You have never known this man to show any fear for his own safety, and yet your spacey, smiley, five-foot-nine, pink-haired friend is making him consider giving up a fight that will probably prevent the end of the world as you know it.

For an extra five bucks.

He flies back over to Mason with an uncharacteristically serious expression.

|&lt;img src=&quot;sprites/duncan/angry.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Shucks... Mason, can I get a little help here?|
|&lt;img src=&quot;sprites/mason/surprised.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Uh, yeah, [[sure thing,]] dude!|</tw-passagedata><tw-passagedata pid="248" name="sure thing," tags="zane parttwo" position="2346,8678" size="100,100">The greaser approaches in a similar manner as the lifeguard and dumps his wallet out in his hand. Four ones and a ton of coins spill out - he hands the bills right over to Renli and starts counting the coins. The process is exceedingly slow, especially when he has to stop to check what type of coin half of them are. And the display is shocking, considering his occupation. No one speaks for fear of messing up his count.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Here you go! Exactly 100 cents.|

He carefully drops the coins in Renli&#39;s cupped hands and waits for her approval. She looks at them and makes quick calculations (at least, you assume she does; you&#39;ve always known her to be strict about exact cents), then pockets the money with [[a smile.]]</tw-passagedata><tw-passagedata pid="249" name="dragging her out of there." tags="zane parttwo" position="2346,8952" size="100,100">|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Why did you have to pull me away like that?|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Are you aware of how dangerous that situation was? We&#39;re lucky we managed to leave at all!|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Well, yes, I&#39;m not dumb. But sometimes, all it takes is a bit of relief to make the tension less angry.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Also, I needed my money.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You risked our lives for twenty dollars.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; If that&#39;s how you see it.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; &lt;i&gt;I&lt;/i&gt; could have given you twenty dollars.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Nope! You wouldn&#39;t have, because you didn&#39;t owe me anything.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Heh. Fair enough.|

You shield your eyes from the sun and continue northwest. Whatever happens down by the docks... well, you have a feeling it might have a better outcome than you had [[previously assumed.]]</tw-passagedata><tw-passagedata pid="250" name="did more." tags="lucy partone" position="1491,10374" size="100,100">&lt;small&gt;[[no text effect version|did more. ntev]]&lt;/small&gt;

@@.fade-in-out;It didn’t change. More bullying more violence more crime. You didn&#39;t really have strong political views before, but maybe now you were checking the channels regularly. Maybe you weren’t fixing the real systemic issues, but hell, did it feel so &lt;i&gt;useless&lt;/i&gt; to just sit by and do nothing, so you did what you could.

And people started listening. You were good, you fought well, you worked discreetly. People knew you, even if they didn’t know your face or your name. And people found you, they stuck by you, and one day you woke up and there was a small company of minor rogues and former petty criminals and just plain old concerned citizens ready and willing to fight by your side in your campaign against... you weren’t sure what, exactly. But you knew that the government wasn’t fixing it, the local heroes weren’t fixing it, so maybe you had to.

It’s so insidious how lies like that stick. They sit and settle and eventually fester into poisons so tightly woven they’re near impossible to [[get out.]]</tw-passagedata><tw-passagedata pid="251" name="almost normal." tags="lucy partone" position="1492,10636" size="100,100">&lt;small&gt;[[no text effect version|almost normal. ntev]]&lt;/small&gt;

@@.fade-in-out;Unfortunately, the occasional screw-up or misconstrued rumor and the general mistrust of vigilantes led to a less-than-stellar reputation. It reached the point where you were often painted as a colorless, territory-less gang. Not that you minded, as long as you helped more than you hurt. While bounties did pile up, no one would bother with the small fry - infamous or not - when there was an entire city full of more lucrative options.

After all, it wasn&#39;t about the fame or being a hero, although your immense proficiency with your epithet would have made you a decent candidate for any of the youth teams if you had shown up for any of the tryouts. No, you did your best to stay out of anything too dangerous or high-profile and emphasized that the others [[do the same.]]</tw-passagedata><tw-passagedata pid="252" name="did more. ntev" tags="lucy partone" position="1692,10377" size="100,100">&lt;small&gt;[[text effect version|did more.]]&lt;/small&gt;

It didn’t change. More bullying more violence more crime. You didn&#39;t really have strong political views before, but maybe now you were checking the channels regularly. Maybe you weren’t fixing the real systemic issues, but hell, did it feel so &lt;i&gt;useless&lt;/i&gt; to just sit by and do nothing, so you did what you could.

And people started listening. You were good, you fought well, you worked discreetly. People knew you, even if they didn’t know your face or your name. And people found you, they stuck by you, and one day you woke up and there was a small company of minor rogues and former petty criminals and just plain old concerned citizens ready and willing to fight by your side in your campaign against... you weren’t sure what, exactly. But you knew that the government wasn’t fixing it, the local heroes weren’t fixing it, so maybe you had to.

It’s so insidious how lies like that stick. They sit and settle and eventually fester into poisons so tightly woven they’re near impossible to [[get out.|get out. ntev]]</tw-passagedata><tw-passagedata pid="253" name="almost normal. ntev" tags="lucy partone" position="1697,10635" size="100,100">&lt;small&gt;[[no text effect version|almost normal.]]&lt;/small&gt;

Unfortunately, the occasional screw-up or misconstrued rumor and the general mistrust of vigilantes led to a less-than-stellar reputation. It reached the point where you were often painted as a colorless, territory-less gang. Not that you minded, as long as you helped more than you hurt. While bounties did pile up, no one would bother with the small fry - infamous or not - when there was an entire city full of more lucrative options.

After all, it wasn&#39;t about the fame or being a hero, although your immense proficiency with your epithet would have made you a decent candidate for any of the youth teams if you had shown up for any of the tryouts. No, you did your best to stay out of anything too dangerous or high-profile and emphasized that the others [[do the same.|do the same. ntev]]</tw-passagedata><tw-passagedata pid="254" name="get out." tags="lucy partone" position="1492,10501" size="100,100">&lt;small&gt;[[no text effect version|get out. ntev]]&lt;/small&gt;

@@.fade-in-out;And Lucy, you remember things got more serious. The friends you made doing this, they really weren&#39;t the best for you. You were the brawns of any operation; it was hard to beat how strong your epithet was, but you needed brains. The people around you had plans. Plans for how cities ought to be run, plans for how life ought to be. Plans that necessitated months of coordination, long sleepless nights of planning and practice. Some days you wouldn’t even come home from school, just straight to the hideout for more schemes.

You did some bad things, too. Minor things, petty robbery, minor theft, some arson, some looting. Things that, at the time, you justified to yourself. Necessary evils to make a safer world where young girls didn’t have to wake up every morning dreading going back to school or walking down the street.

You didn’t really think you were someone who thought about necessary evils. You felt normal. You still hung out with your friends - sometimes, when you could. You had a social life. You were almost sixteen, and you still felt almost sixteen. When you were out of costume and in the comfort of your own home, you felt [[almost normal.]]</tw-passagedata><tw-passagedata pid="255" name="get out. ntev" tags="lucy partone" position="1693,10503" size="100,100">&lt;small&gt;[[text effect version|get out.]]&lt;/small&gt;

And Lucy, you remember things got more serious. The friends you made doing this, they really weren&#39;t the best for you. You were the brawns of any operation; it was hard to beat how strong your epithet was, but you needed brains. The people around you had plans. Plans for how cities ought to be run, plans for how life ought to be. Plans that necessitated months of coordination, long sleepless nights of planning and practice. Some days you wouldn’t even come home from school, just straight to the hideout for more schemes.

You did some bad things, too. Minor things, petty robbery, minor theft, some arson, some looting. Things that, at the time, you justified to yourself. Necessary evils to make a safer world where young girls didn’t have to wake up every morning dreading going back to school or walking down the street.

You didn’t really think you were someone who thought about necessary evils. You felt normal. You still hung out with your friends - sometimes, when you could. You had a social life. You were almost sixteen, and you still felt almost sixteen. When you were out of costume and in the comfort of your own home, you felt [[almost normal. ntev]]</tw-passagedata><tw-passagedata pid="256" name="previously assumed." tags="zane parttwo" position="2348,9085" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio frenchquarter play loop&gt;&gt;You pass through the doors of the French Quarter half-expecting to see Lucy and Rika locked in fisticuffs, but only Norm and a heavily-bandaged Ralphie greet you.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Where is everyone?|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Twos, Rika, and Lucy went on over to the comics store. How&#39;d you find us, anyway?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; With Twos in the group, we figured she would want to come here.|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Haha, that&#39;s right! She always goes after what&#39;s in her heart.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; In my opinion, it&#39;s her most admirable trait!|

Enough of that. If you wanted to hear Renli and Twos&#39; dad gushing over Twenty-Two, you would simply place them all in the same room and watch. You do, however, have [[a question.]]</tw-passagedata><tw-passagedata pid="257" name="rika flashback" tags="rika parttwo" position="2260,310" size="200,200">&lt;&lt;audio missingyou play loop&gt;&gt;Rika Koizumi, you are twelve years old, and your world has just ended. A queen is dead, and all you have worked for - all you have worshipped - is gone. Even those who might admonish you for your failure are gone. You are a shame to your family, a blackened stain upon an extensive line of those who protected gods and kings and queens from the shadows. You have lost [[everything.]]</tw-passagedata><tw-passagedata pid="258" name="life is a blur." tags="rika parttwo" position="2323,554" size="100,100">Now you&#39;re twenty years old, and life has circled you back into the very same drain from which you began. You take to protect, keeping others safe with your own life on the line. Your work is quiet and never on display - not that it makes a difference; you would never want that kind of [[attention]], anyhow.</tw-passagedata><tw-passagedata pid="259" name="a smile." tags="zane parttwo" position="2348,8815" size="100,100">|&lt;&lt;audio itemgetsfx play&gt;&gt;&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Thanks, guys! I knew I could count on you.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Yep, yep. Now, scurry on out!|

You don&#39;t wait to follow his advice this time, grabbing Renli by the wrist and [[dragging her out of there.]]</tw-passagedata><tw-passagedata pid="260" name="a question." tags="zane parttwo" position="2348,9234" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; In any case, what happened here?|
|&lt;img src=&quot;sprites/norm/neutral.png&quot; width=150px&gt;|&lt;b&gt;NORM:&lt;/b&gt; Oh, right. Lucile broke in, knocked out Rika, asked your friend with the dog to join her, and left. Ralphie here tried to help Lucile in the fight, but... well, you can see how that went!|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; How unfortunate. I hope you feel well soon, Ralphie.|

You give her a moment to offer him some food to accelerate his healing process. When she doesn&#39;t, it occurs to you that &lt;i&gt;Ralphie assisting Lucile&lt;/i&gt; likely meant he harmed Twos or Lucy - and in Renli&#39;s books, well, such behavior is simply unacceptable.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Lovely seeing you, Mr. Norm. We&#39;re [[off to the comic store.]]|</tw-passagedata><tw-passagedata pid="261" name="off to the comic store." tags="parttwo lucy" position="2348,9382" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio comicstore play loop&gt;&gt;As you warily progress through the tight walls of the tunnel that you&#39;re pretty sure has brought you underground at this point, Rika&#39;s steps slow more and more. Eventually, you feel like you&#39;re dragging your feet as her harsh breaths echo in the darkness ahead.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Rika, is everything okay?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Huh? Yeah... why?|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; We&#39;re moving really slowly. You think there&#39;s danger up ahead?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Oh... uh, sure. Yeah, we could get ambushed at any moment.|

[[You don&#39;t believe her for a second.]]</tw-passagedata><tw-passagedata pid="262" name="You don&#39;t believe her for a second." tags="lucy parttwo" position="2348,9532" size="100,100">You heft her arm over your shoulder so you support most of her weight and start speeding down the poorly-lit hall, ignoring her protests. While there are little hidey nooks throughout the tunnel, you figure you&#39;ll be able to take on whatever comes at you, even with a heavily-injured Rika. You&#39;ve got Lulu and doglike vision, after all. And Twos, despite her naivete, isn&#39;t unwilling to fight.

Plus... [[you aren&#39;t alone.]]</tw-passagedata><tw-passagedata pid="263" name="you aren&#39;t alone." tags="lucy parttwo" position="2348,9682" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;A soccer-themed superhero and a helmeted agent in all black emerge as you skid to a stop. The hero&#39;s tight uniform shows his immense shape, and the easy grin that blooms across the bronze of his face exudes an aura of genuine confidence. Sweat trickles down the back of your neck - you might actually be outclassed here. He cracks his neck and offers a sheepish smile, opening his mouth to drawl-

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hey, Lucy! Twos!|

You turn, your anxiety melting at the sight of Zane and Renli booking it toward you. You sit the semi-conscious Rika up against a wall and raise your fist for a bump as Twos throws her arms wide open for a hug.

|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Why in the world did you leave the radio station?!|

Even Renli looks a little miffed, and you realize you have [[a bit of explaining to do.]]</tw-passagedata><tw-passagedata pid="264" name="a bit of explaining to do." tags="lucy parttwo" position="2348,9831" size="100,100">|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Oh... I got hungry!|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; So you went to the French Quarter, and then you came here?|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Yep!|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Why.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Rika led us here after Lucile attacked us. Which also happened, by the way. Oh, and Mason is apparently super powerful, so keep an eye out for him.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Great to know, except we already saw him. What is Rika doing with you, anyhow?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Dying, right now.|

At that, Renli makes a plucking motion above her head. That spot happens to be above Zane&#39;s head as well, however, and she ends up rolling a potato over the back of his head before losing her grip. It lands on 22&#39;s head, and she flinches before just barely catching it.

|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;HERO:&lt;/b&gt; Identify yourselves this inst-|
|&lt;img src=&quot;sprites/other/4angry.png&quot; width=150px&gt;|&lt;b&gt;L/R/Z/22:&lt;/b&gt; [[Shut up!]]|</tw-passagedata><tw-passagedata pid="265" name="Shut up!" tags="lucy parttwo" position="2348,9982" size="100,100">|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; We&#39;re having a &lt;i&gt;moment&lt;/i&gt;, if that wasn&#39;t obvious. Why don&#39;t you identify yourselves first, if you&#39;re going to be good hosts?|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;HERO:&lt;/b&gt; I&#39;m surprised you guys didn&#39;t know who I was right away. How long have you been in here?|

As they speak, Twos takes a big bite and smiles happily. While eating raw potatoes isn&#39;t really in your books as enjoyable, Renli&#39;s potatoes are [[something else entirely.]]</tw-passagedata><tw-passagedata pid="266" name="something else entirely." tags="lucy parttwo" position="2348,10132" size="100,100">You hear a crackling sound just before the agent begins speaking.

|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; You shouldn&#39;t give up that kind of information, anyway.|

Still ignoring what&#39;s going on and focusing on what you assume to be healing Rika, Renli pulls a pumpkin into her arms and tries to toss it on the ground. In a flash, the agent moves across the room to grab her by the midsection.

|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Stop that!|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Whoopsie, I&#39;m such a klutz!|

Genius of geniuses, Renli twists around and lets the pumpkin [[fall to the ground.]]</tw-passagedata><tw-passagedata pid="267" name="fall to the ground." tags="lucy parttwo" position="2348,10282" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio stolasspeaks play loop&gt;&gt;The pumpkin doesn&#39;t make it. It&#39;s like the ground around the athlete-hero swirls and moves around to let him grab it, then undoes itself to let him zoom back to his original spot.

|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Stop! We aren&#39;t here for violence. Identify yourselves first.|

You share a look with Zane. It shouldn&#39;t hurt too much to listen, at least for a bit, right?

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Lucy.|

The agent presses her hand to the side of her helmet and jumps a little, as if hearing something shocking.

|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Lucy Lane?|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Depends. Are you a cop?|
|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Uh... no. Not really.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Good enough. Yeah, I&#39;m Lucy Lane.|
|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Epithet: Dog?|

It&#39;s probably smarter not to let her know, but you figure there&#39;s no point in lying.

|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Mm.|
|&lt;img src=&quot;sprites/margaret/helmet.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; I see. [[Next?]]|</tw-passagedata><tw-passagedata pid="268" name="one way" tags="zane parttwo" position="2314,3825" size="100,100">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio ilia play loop&gt;&gt;&lt;img src=&quot;sprites/richie/neutral.png&quot; width=150px&gt;|&lt;b&gt;RICHIE:&lt;/b&gt; Ayy, right on time!|
|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Well, of course. Who do you think I am?|

You start to move away, but it&#39;s too late. The white-haired Ilia locks eyes with you and grins, waving her excessively-large sword in the air like it weighs nothing. Which it probably doesn&#39;t; it&#39;s made of light.

|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Hey, stranger. Never thought I&#39;d see you again.|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Hmph.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; ... Who is this?|
|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; The worst person I&#39;ve ever had the misfortune of knowing.|
|&lt;img src=&quot;sprites/ilia/happy.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Aww, sorry my brother&#39;s an asshole. I&#39;m Ilia!|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m Renli. It&#39;s a plea-|
|&lt;img src=&quot;sprites/ilia/smug.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; Haha, that&#39;s great. Stay outta the way, [[mkay?]]|</tw-passagedata><tw-passagedata pid="269" name="Next?" tags="lucy parttwo" position="2348,10432" size="100,100">|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Zane Ansovino Ivo Hikaru di Leggieri, at your service. Zane, for short.|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Zane... Yeah, &lt;i&gt;Zane?&lt;/i&gt; ... What does &quot;Bless&quot; mean?|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; It means-|

She impatiently waves a hand in his direction.

|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Sheesh. Okay. Roger that.|

She&#39;s definitely speaking into a headset, although it seems Luciano - who shifts his weight from side to side awkwardly - isn&#39;t getting the same information. And despite her earlier authoritative confidence, she already seems far more [[hesitant]] about having even encountered your group.</tw-passagedata><tw-passagedata pid="270" name="ponder" tags="lucy parttwo" position="2350,10733" size="100,100">|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Harvest?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Yes.|

It&#39;s the first time you&#39;ve actually heard Renli&#39;s epithet. Similar to Twos, you suppose it makes sense - she has a pretty plentiful bounty she harvests out of thin air. But you can now see the agent is &lt;i&gt;trembling&lt;/i&gt; in spite of her perfect posture.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; With that out of the way... Wanna tell us [[who you are?]]|</tw-passagedata><tw-passagedata pid="271" name="hesitant" tags="lucy parttwo" position="2349,10584" size="100,100">|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; And what about-|
|&lt;img src=&quot;sprites/22/starry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Subject 22, or Twos! Epithet: Lake!|

Huh. Up until a few hours ago when she revealed her true identity, you&#39;d never really been sure whether she was an Inscribed or a Mundie. You suppose &quot;lake&quot; makes sense, considering she&#39;s a giant fish-thing.

|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; Twenty-Two? She said - yeah, you heard that. ... Uh, alright. That&#39;s... Okay. I will. And last...|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Renli.|

There&#39;s a pause, silence reverberating through the tunnels for a moment as if the agent needs to [[ponder]] whatever she&#39;s been told.</tw-passagedata><tw-passagedata pid="272" name="who you are?" tags="lucy parttwo" position="2350,10883" size="100,100">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;AGENT:&lt;/b&gt; ... Permission granted. You may call me Margaret.|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;HERO:&lt;/b&gt; Heyo, I&#39;m Luciano. Or, uh, Playmaker, from Renewed Spring. Nice to meetcha!|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; You have to stop doing that.|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; Yeah, yeah, I know. It&#39;s just - everyone knows, y&#39;know? Oh, speaking of - Zane, you said you were a Leggieri?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; A di Leggieri, but yes, continue.|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; You know Ilia? Cool Girl?|

The air grows colder.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Unfortunately, she is my sister.|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Wait, you have a sister? Why didn&#39;t you ever tell us about her?|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... I have my reasons.|

Renli sidles up to you and cups her mouth, whispering into your ear.

|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; She&#39;s just like Zane - very cool, but also a dick!|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; That [[checks out.]]|</tw-passagedata><tw-passagedata pid="273" name="checks out." tags="lucy parttwo" position="2350,11033" size="100,100">You vaguely perceive a silhouette dash between columns to get closer. It has big animal ears atop its head and a bushy tail, you think, but it&#39;s hard to tell.

|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;HERO:&lt;/b&gt; And I&#39;m Fiona Fillhouse!|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; VIXXIE.|
|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; Oh, oh! Sorry! I meant Vixxie! Gosh, are we really still doing the codename thing?|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I swear to... I meant you were supposed to stay in hiding.|
|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; Well, so-rry I don&#39;t have an epithet like-|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; VIXXIE.|

Vixxie - or Fiona - slinks back into the shadows, and Margaret [[clears her throat.|sapphics clear their throats a lot]]</tw-passagedata><tw-passagedata pid="274" name="sapphics clear their throats a lot" tags="lucy parttwo" position="2350,11183" size="100,100">|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... Excuse me.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Speaking of epithets, it would be greatly appreciated if you could toss that pumpkin toward Rika. You can let it land on the ground; it&#39;ll heal you, too!|

Luciano looks almost convinced for a moment, but Margaret throws her arm out.

|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Apologies, but we cannot do that. We have no guarantee that you speak the truth. Unless...|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Unless...?|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Um. Unless. You come with us.|

All four of you look to Rika and her wounds. She&#39;s barely conscious as it is; it won&#39;t be worth it to keep pushing past your limits. Even if you still feel a sense of betrayal, you also know she never truly meant to harm any of you.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; ... Fine. But you have-|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; [[No.|THE TEA]]|</tw-passagedata><tw-passagedata pid="275" name="THE TEA" tags="lucy parttwo" position="2350,11333" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio extenttea play loop&gt;&gt;Rika coughs and wipes her mouth on her torn sleeve, then adjusts her glasses to stare directly at Margaret.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Put me on speaker.|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I - you already are.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I have reason to believe Margaret is an Extent.|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; As if anyone would just listen to that.|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; What&#39;s, uh... what&#39;s a - that?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; That&#39;s... classified. Luciano - that&#39;s your name, right? - if you check her back, she has an E tattooed on it.|

Margaret stiffens, silent, as Luciano [[raises a brow.]]</tw-passagedata><tw-passagedata pid="276" name="raises a brow." tags="lucy parttwo" position="2350,11483" size="100,100">|&lt;img src=&quot;sprites/luciano/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; I&#39;m... I don&#39;t think I&#39;m really qualified to, uh, check.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; That&#39;s fine. But I want you to know that the only reason Margaret is here is to do some cleanup work for her Overseer. And that&#39;s because Renewed Spring isn&#39;t good enough to be trusted with seeing their task through, as far as they&#39;re concerned.|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; You... Who &lt;i&gt;are&lt;/i&gt; you?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No one you need to bother yourself with. Tell me, am I right or am I right?|
|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... Yes. I was sent to help. And frankly? [[You&#39;re a threat.]]|</tw-passagedata><tw-passagedata pid="277" name="You&#39;re a threat." tags="parttwo lucy" position="2350,11633" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio renewedspring play loop&gt;&gt;Margaret drops into a battle stance and whips out a baton as a blur of black and orange falls in behind her. Meanwhile, Luciano tosses the pumpkin toward the blur as he swirls the ground around him, moving Rika toward their side of the room. Annoying, but also considerate in a way.

This encounter was probably meant to be an ambush, but it&#39;s not like any of you were unaware that a fight was inevitable. As such, aside from those short movements, they don&#39;t get much of a drop on you at all.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Lulu, [[let&#39;s roll.]]|</tw-passagedata><tw-passagedata pid="278" name="let&#39;s roll." tags="zane parttwo" position="2350,11783" size="100,100">You&#39;ve been subtly gathering blessings from the moment you laid eyes on the agent. It was subconscious at first; any amount of discomfort makes you pull the good around you like a comforting blanket. But when your epithet and your sister are brought up in conversation, you know you won&#39;t be leaving without exchanging at least a few blows, particularly with this Luciano fellow. You don&#39;t like to remember her as it is - it tickles your brain, upsets you in a way you just don&#39;t want to think about.

So now, you go all-out. You throw your arms to the sides, hands outstretched to meet and &lt;i&gt;pull in&lt;/i&gt; everything &lt;i&gt;blessed&lt;/i&gt; in the area. Your heels leave the cement floor, and then your toes, and now you&#39;re floating several inches in the air as [[a strong glow]] emanates from your body.</tw-passagedata><tw-passagedata pid="279" name="a strong glow" tags="zane parttwo" position="2350,11933" size="100,100">Your spot in the back is perfect for charging up and for watching the battlefield at the same time. It&#39;s unlikely any of your foes can reach you quickly like this; you already have enough power stored up that you should be able to blind them easily.

Besides, Lucy&#39;s current bestial form probably has you completely covered. It&#39;s like Lulu&#39;s earlier diamondlike material is occupying the same space as Lucy&#39;s body, making them both very large and very difficult to focus on.

[[Citizen Canine,]] you think to yourself, right as you catch sight of a katana.</tw-passagedata><tw-passagedata pid="280" name="Citizen Canine," tags="zane parttwo" position="2350,12083" size="100,100">Fiona - Vixxie - whatever - is in and out like a flash. Thankfully, it seems like it did nothing to Lucy... but you&#39;re not sure you&#39;ll be able to say the same thing for yourself, if she somehow gets to you. Which, with her speed, might be possible. You&#39;ll need [[something else]] to slow her down.</tw-passagedata><tw-passagedata pid="281" name="something else" tags="zane parttwo" position="2350,12233" size="100,100">Twenty-two has the same idea as you. You&#39;re not sure exactly what her epithet is meant to do, but you know she&#39;s a strong fighter and has good instincts. She manages to triangulate Vixxie&#39;s path and gets close enough to throw a punch that looks like it will &lt;i&gt;hurt&lt;/i&gt;.

The hero just barely dodges and breaks into a run, and you swear you hear her &lt;i&gt;giggling&lt;/i&gt; as she swings that damned sword around. Twos ducks and spins away, but moments later you see a line of red seep from her forearm.

That&#39;s it. She&#39;s going to get it this time. But [[what,]] exactly?</tw-passagedata><tw-passagedata pid="282" name="what," tags="zane parttwo" position="2350,12383" size="100,100">On the opposite side of the tunnel, Margaret swings her baton at Renli, the weapon briefly crackling with electricity as it smacks into her side. In a terrifying show of her endurance, she only smiles and tosses a few orange berries into the agent&#39;s face. They explode instantly, and she hurries away relatively unscathed. She even manages to jump just in time to avoid another slice of Vixxie&#39;s katana - how the hell did she get there so fast?

And then it hits you. [[Renli is a genius.]]</tw-passagedata><tw-passagedata pid="283" name="Renli is a genius." tags="zane parttwo" position="2350,12533" size="100,100">You consider what you have stored up so far and set aside a small portion to use. It won&#39;t deal a ton of damage, but if things go the way you&#39;re expecting, it will do exactly what you need it to.

You see Luciano raise his hands right before a shimmery mass descends upon him, snarling and snapping its teeth. He struggles, thrashing his head side to side, but it&#39;s clear he can&#39;t even get his arms up. Good for Lucy. And perfect for you - Vixxie will be [[right there]] in a moment.</tw-passagedata><tw-passagedata pid="284" name="right there" tags="zane parttwo" position="2350,12683" size="100,100">You send a beam out that glances - no, clips &lt;i&gt;through&lt;/i&gt; Lucy-Lulu, and smashes into the wall above them. A web of cracks blooms there, but it doesn&#39;t concern you in the slightest. Instead, you focus slightly to the right, where a redheaded girl in a black-and-orange leotard stumbles backward, one arm covering her face as the other continues to cradle the pumpkin.

|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; What was that?!|

She lifts her hands away just a bit to squint at you, and you send another beam out in response.

|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; IS THAT A FLASHLIGHT?|
|&lt;img src=&quot;sprites/zane/smug-glow.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Whatever]] helps you sleep at night.|</tw-passagedata><tw-passagedata pid="285" name="Whatever" tags="zane parttwo" position="2350,12833" size="100,100">With one teammate fully pinned and another incapacitated for the time being, only one course of action can be considered for Margaret. She bounds on over to them, baton in hand and eager for blood.

|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Eat my shorts.|

The stick slams into Lucy several times, who flinches but doesn&#39;t let Luciano go.

|&lt;img src=&quot;sprites/lucy/citizencanine.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[I&#39;d prefer not to.]]|</tw-passagedata><tw-passagedata pid="286" name="I&#39;d prefer not to." tags="zane parttwo" position="2350,12983" size="100,100">Margaret jumps up, raising the weapon over her head, and lets the electric current run through as if in warning. Her form reminds you of a lion rampant, if a lion could wear a helmet. You could probably take advantage of this opening - but there&#39;s something else coming, you think; they don&#39;t need your help just yet.

After all, on the other side of the room, Renli pulls out a neon pink lime. Her smirk grows ever wider, and suddenly she&#39;s moving [[twice as fast]] as before.</tw-passagedata><tw-passagedata pid="287" name="twice as fast" tags="zane parttwo" position="2350,13134" size="100,100">The baton comes crashing down on 22&#39;s shoulder. She lets out a horrible scream as electricity courses through her. Her limbs flail as tears trail down her face, but you can tell she&#39;s still trying her hardest to hold on and push Margaret away. Even you want to shed a tear at the pitiful display.

Not just because it&#39;s pitiful, though. It makes you [[angry.]]</tw-passagedata><tw-passagedata pid="288" name="angry." tags="zane parttwo" position="2350,13283" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio bless play loop&gt;&gt;You&#39;re not the only one feeling something strong. She&#39;s still blinking rapidly, but Fiona seems to catch sight of the horror and just stands there, slackjawed. Margaret herself seems to realize it&#39;s too much, too, and drops the baton as if she were the one being shocked. Twenty-Two takes advantage of the moment to really give her a good shove away.

Which is exactly enough time for Renli to pull out her fruit-grabber (you have no idea how she&#39;s been keeping it on herself all this time, but you&#39;re not about to question it now). She twirls it around in the air, and suddenly a massive blade expands from the side. With quick flourishes, she slices Fiona several times, then grabs her in a spin and tosses her to barrel [[straight into Margaret.]]</tw-passagedata><tw-passagedata pid="289" name="straight into Margaret." tags="zane parttwo" position="2350,13432" size="100,100">The pumpkin falls from Fiona&#39;s hands, and Twos manages to grab ahold of it. She scurries away, unseen, and dunks it onto the ground beside Rika. Good tank-monster-girl. With the two of them no longer in critical conditions, [[Twos faceplants.]]</tw-passagedata><tw-passagedata pid="290" name="don&#39;t get hit." tags="zane parttwo" position="2350,13865" size="100,100">Margaret braces her elbows against the ground as her legs shoot up - and straight into Fiona&#39;s chin. Fiona flies back against the wall, head making a terrible bonking sound against the cement, and staggers vaguely in Lucy&#39;s direction.

Renli smiles and stares Margaret down with widened eyes. You won&#39;t be needed here - it&#39;s time for you to bust your moves.

|&lt;img src=&quot;sprites/zane/smug-glow.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Lucy. [[Move.]]|</tw-passagedata><tw-passagedata pid="291" name="Twos faceplants." tags="zane parttwo" position="2349,13575" size="100,100">At this point, Luciano is barely holding on but somehow still fighting. Lucy&#39;s claws dig into him, refusing to give in. You recall the way he looked at you - it may just be your anger and imagination, but you think he &lt;i&gt;sneered&lt;/i&gt; when those two short syllables fell off his tongue.

You think your final blast will be [[just for him.]]</tw-passagedata><tw-passagedata pid="292" name="just for him." tags="zane parttwo" position="2349,13722" size="100,100">Margaret shoves the dazed Fiona away from her and whirls on Renli. She drops into a crouch, palms on the ground - perhaps to use her full weight as leverage, or perhaps for a huge jump?

|&lt;img src=&quot;sprites/margaret/agent.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Whatever you do, Vixxie, [[don&#39;t get hit.]]|</tw-passagedata><tw-passagedata pid="293" name="Move." tags="zane parttwo" position="2306,14008" size="200,200">It&#39;s been a long time coming. Sugar and spice and everything nice; rage and dogwood and everything good. Your blood tingles with power as a laugh involuntarily escapes you - oh, it&#39;s been &lt;i&gt;such&lt;/i&gt; a long time since you were last able to take in and let loose like this. You pack all the &lt;i&gt;good&lt;/i&gt; together with your frustration and anger, pressing and compacting until there is nowhere else to go but straight to your target.

[[Bless this poor man&#39;s soul.]]</tw-passagedata><tw-passagedata pid="294" name="everything you wanted to forget." tags="zane parttwo flashback" position="2253,14368" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio memory2 play loop&gt;&gt;&lt;small&gt;[[no text effect version|everything you wanted to forget. ntev]]&lt;/small&gt;

@@.fade-in-out;Your entire life, you held a vague distaste for everyone around you. All they ever did was fawn over you and spoil you, aside from the handful who sensed something off and did their best to avoid you at all times.

Such behaviors were a mere side effect to your epithet, of course. You never saw any reason to disclose the details, as you felt it was obvious from the way the other kids ran from you, the way the adults flocked to you. The way you were always the good child and Ilia was always the dumb one who could never quite get things right.

It was the very nature of your power, to suck all the good things out of the air to become something precious and wonderful, and you assumed that was simply [[the way the world worked.]]</tw-passagedata><tw-passagedata pid="295" name="everything you wanted to forget. ntev" tags="zane parttwo flashback" position="2427,14368" size="100,100">&lt;small&gt;[[text effect version|everything you wanted to forget.]]&lt;/small&gt;

Your entire life, you held a vague distaste for everyone around you. All they ever did was fawn over you and spoil you, aside from the handful who sensed something off and did their best to avoid you at all times.

Such behaviors were a mere side effect to your epithet, of course. You never saw any reason to disclose the details, as you felt it was obvious from the way the other kids ran from you, the way the adults flocked to you. The way you were always the good child and Ilia was always the dumb one who could never quite get things right.

It was the very nature of your power, to suck all the good things out of the air to become something precious and wonderful, and you assumed that was simply [[the way the world worked.||the way the world worked. ntev]]</tw-passagedata><tw-passagedata pid="296" name="the way the world worked." tags="zane parttwo flashback" position="2253,14518" size="100,100">&lt;small&gt;[[no text effect version|the way the world worked. ntev]]&lt;/small&gt;

@@.fade-in-out;With one exception. Auntie Verona didn’t work like that. She didn’t look at you like some demon to be feared, or a golden calf to be milked, or a vase to be sat on a shelf. She looked at you like... well, like a little nephew. Like a child. She took care of you, she cared for you, she talked to you about your feelings and about your days at the numerous prep schools you cycled through. Verona rarely judged, and in time the other adults in the family came to know her as [[the only one]] who could control your temper tantrums.</tw-passagedata><tw-passagedata pid="297" name="the only one" tags="zane parttwo flashback" position="2255,14668" size="100,100">&lt;small&gt;[[no text effect version|the only one ntev]]&lt;/small&gt;

@@.fade-in-out;Maybe she always knew. Thinking back on it, she probably did. But she never told a single soul. Maybe if she did, she would still be alive today.

Maybe [[if it weren&#39;t for you,]] she would still be around.</tw-passagedata><tw-passagedata pid="298" name="the way the world worked. ntev" tags="zane parttwo flashback" position="2425,14518" size="100,100">&lt;small&gt;[[text effect version|the way the world worked.]]&lt;/small&gt;

With one exception. Auntie Verona didn’t work like that. She didn’t look at you like some demon to be feared, or a golden calf to be milked, or a vase to be sat on a shelf. She looked at you like... well, like a little nephew. Like a child. She took care of you, she cared for you, she talked to you about your feelings and about your days at the numerous prep schools you cycled through. Verona rarely judged, and in time the other adults in the family came to know her as [[the only one|the only one ntev]] who could control your temper tantrums.</tw-passagedata><tw-passagedata pid="299" name="the only one ntev" tags="zane parttwo flashback" position="2426,14665" size="100,100">&lt;small&gt;[[text effect version|the only one]]&lt;/small&gt;

Maybe she always knew. Thinking back on it, she probably did. But she never told a single soul. Maybe if she did, she would still be alive today.

Maybe [[if it weren&#39;t for you,|if it weren&#39;t for you, ntev]] she would still be around.</tw-passagedata><tw-passagedata pid="300" name="if it weren&#39;t for you," tags="zane parttwo" position="2253,14824" size="100,100">&lt;small&gt;[[no text effect version|if it weren&#39;t for you, ntev]]&lt;/small&gt;

@@.fade-in-out;You didn’t see it when it happened. You didn&#39;t hear about it right away. You weren&#39;t even notified through family. No, you heard about it through a servant.

One day, in her own estate, she had fallen off a ladder in the library. When the doctors came to her, she was long dead. Long dead, because as they found in the autopsy, it was through sheer miracle she hadn’t passed away earlier. The chronic diseases and signs of accelerated aging they discovered within her body should have killed her a long, long time ago. It was as if sickness itself had been her own neighbor and paid her due visit every morning, every afternoon, and every night for [[ten long years.]]</tw-passagedata><tw-passagedata pid="301" name="if it weren&#39;t for you, ntev" tags="zane parttwo flashback" position="2426,14821" size="100,100">&lt;small&gt;[[text effect version|if it weren&#39;t for you,]]&lt;/small&gt;

You didn’t see it when it happened. You didn&#39;t hear about it right away. You weren&#39;t even notified through family. No, you heard about it through a servant.

One day, in her own estate, she had fallen off a ladder in the library. When the doctors came to her, she was long dead. Long dead, because as they found in the autopsy, it was through sheer miracle she hadn’t passed away earlier. The chronic diseases and signs of accelerated aging they discovered within her body should have killed her a long, long time ago. It was as if sickness itself had been her own neighbor and paid her due visit every morning, every afternoon, and every night for [[ten long years.|ten long years. ntev]]</tw-passagedata><tw-passagedata pid="302" name="it is lost to loss." tags="zane parttwo flashback" position="2251,15115" size="100,100">&lt;small&gt;[[no text effect version|it is lost to loss. ntev]]&lt;/small&gt;

@@.fade-in-out;Zane, it took you a few more years before you came to terms with what you had unintentionally done to your own aunt. It took a few more before you even admitted it aloud. By that time, you had fully isolated yourself and carefully crafted your image into something feared, something distasteful, something no one would want to consume. Your tutors resigned. Your servants merely bowed and obeyed. Your parents sent money to celebrate your achievements but never showed their faces.

Ilia was the only one who remained unaffected. Ironic as it was, you knew your mutual cold shoulders and frequent arguments were real. She was the only constant left in your life, the only thing you could count on with Auntie Verona gone.

And she was the only one to whom you could spill [[your truths.]]</tw-passagedata><tw-passagedata pid="303" name="it is lost to loss. ntev" tags="zane parttwo flashback" position="2428,15118" size="100,100">&lt;small&gt;[[text effect version|it is lost to loss.]]&lt;/small&gt;

Zane, it took you a few more years before you came to terms with what you had unintentionally done to your own aunt. It took a few more before you even admitted it aloud. By that time, you had fully isolated yourself and carefully crafted your image into something feared, something distasteful, something no one would want to consume. Your tutors resigned. Your servants merely bowed and obeyed. Your parents sent money to celebrate your achievements but never showed their faces.

Ilia was the only one who remained unaffected. Ironic as it was, you knew your mutual cold shoulders and frequent arguments were real. She was the only constant left in your life, the only thing you could count on with Auntie Verona gone.

And she was the only one to whom you could spill [[your truths.|your truths. ntev]]</tw-passagedata><tw-passagedata pid="304" name="your truths." tags="zane parttwo flashback" position="2251,15265" size="100,100">&lt;small&gt;[[no text effect version|your truths. ntev]]&lt;/small&gt;

@@.fade-in-out;It was something small. Something stupid, almost as stupid as Ilia. Stupid - no, she was never stupid. She was performing well in school now, but you still outshone her in every way. That was all it was, all it ever was. She was never stupid. You never should have called her that. No one should have.

You think she was trying to get through to you. As much as you hated her, as much as she hated you, there was no real truth to it. Nothing substantial actually held you just outside one another&#39;s reach aside from caution. Despite all the yelling, she was trying to suggest you talk to someone - that it had worked when Auntie Verona was around, and that maybe things would be better had Auntie Verona [[still been around.]]</tw-passagedata><tw-passagedata pid="305" name="your truths. ntev" tags="zane parttwo flashback" position="2425,15265" size="100,100">&lt;small&gt;[[text effect version|your truths.]]&lt;/small&gt;

It was something small. Something stupid, almost as stupid as Ilia. Stupid - no, she was never stupid. She was performing well in school now, but you still outshone her in every way. That was all it was, all it ever was. She was never stupid. You never should have called her that. No one should have.

You think she was trying to get through to you. As much as you hated her, as much as she hated you, there was no real truth to it. Nothing substantial actually held you just outside one another&#39;s reach aside from caution. Despite all the yelling, she was trying to suggest you talk to someone - that it had worked when Auntie Verona was around, and that maybe things would be better had Auntie Verona [[still been around.|still been around. ntev]]</tw-passagedata><tw-passagedata pid="306" name="still been around." tags="zane parttwo flashback" position="2250,15418" size="100,100">&lt;small&gt;[[no text effect version|still been around. ntev]]&lt;/small&gt;

@@.fade-in-out;If she had still been around. Funny.

&lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;[[If you hadn&#39;t killed her.]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="307" name="still been around. ntev" tags="zane parttwo flashback" position="2426,15419" size="100,100">&lt;small&gt;[[text effect version|still been around.]]&lt;/small&gt;

If she had still been around. Funny.

&lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;If you hadn&#39;t killed her.&lt;&lt;/linkreplace&gt;&gt; &lt;&lt;linkreplace &quot;If she had still been around.&quot;&gt;&gt;[[If you hadn&#39;t killed her.|If you hadn&#39;t killed her. ntev]]&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="308" name="If you hadn&#39;t killed her." tags="zane parttwo flashback" position="2251,15566" size="100,100">&lt;small&gt;[[no text effect version|If you hadn&#39;t killed her. ntev]]&lt;/small&gt;

@@.fade-in-out;The moment those words left your mouth, you regretted it. You tried to turn and leave as she demanded you explain, but suddenly wings of light sprouted from her back as she repeated herself.

Zane, you discovered two things in that moment. One, that you weren&#39;t the only Inscribed di Leggieri child of the main branch. And two, that you could not look away from the &lt;i&gt;[[awesome]]&lt;/i&gt; display before you.</tw-passagedata><tw-passagedata pid="309" name="If you hadn&#39;t killed her. ntev" tags="zane parttwo flashback" position="2426,15567" size="100,100">&lt;small&gt;[[text effect version|If you hadn&#39;t killed her.]]&lt;/small&gt;

The moment those words left your mouth, you regretted it. You tried to turn and leave as she demanded you explain, but suddenly wings of light sprouted from her back as she repeated herself.

Zane, you discovered two things in that moment. One, that you weren&#39;t the only Inscribed di Leggieri child of the main branch. And two, that you could not look away from the &lt;i&gt;[[awesome|awesome ntev]]&lt;/i&gt; display before you.</tw-passagedata><tw-passagedata pid="310" name="awesome" tags="zane parttwo flashback" position="2252,15725" size="100,100">&lt;small&gt;[[no text effect version|awesome ntev]]&lt;/small&gt;

@@.fade-in-out;You broke down. For the first and only time in your life, you cried genuine tears as you confessed everything. Your epithet, its effects on your peers, your tutors, your servants, and ultimately its effects on Verona. You talked and talked through your sobs for what felt like hours as she stood silently and stared. You begged her to help you, to get you help, to find a place where you could learn to control your epithet so you wouldn’t hurt her, wouldn&#39;t hurt anyone ever again like you hurt Auntie Verona. And when you had no more words left to croak, she nodded and left.

And when she returned, she [[returned]] with police.

&lt;small&gt;(̶̨̰͖̬͚̰̥͎˙̵̬̼͈̪̮̦̳̰̯͘͞͝ɹ̶̤͉̬͎͓̭͎̪͎͉̫͚̰̺̼͖͘͘͢ǝ̳̪̰̣̗͇̫̭̺̥̟͉̞̣̕͝ƃ̵҉̧͔͉̻̙͈͙̝̖͕u̵͇̳̪̠̹͔̰͓̣̮̟͡͝o̶͓̖̺̬̯̗̹͖̝̰̯̟̞̱̘͙͖̤͘͝l҉̧҉̳͔̬͔̱̦̺̬̼͔̣ͅ ̴̬̳͕͚̰͈͕͇̮̫̰͕͢͡͠͠ͅʎ͚̬͕̹͎̦̳̜̹͙̘͍͕̩̞̕u͏̴̛̣̲͓͚̩̥͉͖̩̭̹̮̙ɐ͉͙̰͖̲̟̮̣̰̹̦̟͈̀̕͢ ̶̬̻̜̜͕̖͈̹͈͖͉̫̭̘͚͙͚͙̙͘͢ɹ̛̛̥͖͙̮̱̪̜̱̖̤̲̬̮̦̟̥̞ǝ̡̨͏̴͖̹͓̱̩̖̹̜̖̳̝͎͡ɥ̧̡̫̩̖̖̻̤͍͓̘̖͙͈̗̺͚ͅ ̵̨̙̠̮̣͍̜͈̥̟̹͓͙̮̠̖̦͢͞ʇ͏͏͔͖͔͕̜͖̪̼͉͇̕s̶̢̻̖̲̟̥͇͍̣̗͍̟͍̠̱̲͢͠ͅụ̢̥̙̦̮͢ᴉ̸͜҉̤͙̜̜̰͉͎̳̩̣͖̯́͢ɐ̡̡̧̦̯̞̬͈̻̯͔̝̙͚̞͈̫͜͞ƃ̙͍̖̭́̕ͅͅɐ̛͞͝͏͚̪̣̲͔͕͇̠̫̯͇̝͈̫͓ ͏̷̴͈̝͚̳̯̼̟͎̬͇͙̼̰͈̖͚̘̥̕͟ͅʇ̢͝͏͎̲͙̭͘ᴉ̨͢҉̠̟̦̫̲̱͜ ̴̙̟͚̱̪̭̟ͅp̴̺̰̹̥͇͔̗̭̖̞̥͕͜ͅl̸̢̧̛͔̭͖͚̤͕͚͖̣̖͟ͅǫ̶̵̴͕̝͎̞̣̥̘͙̜̣͕̤͈͈̙̣̬͢ͅɥ̕҉̧͈̗̘̞̣̙̘ͅ ̨̤̝̠̥͈͘̕͡ʇ̶͘͢͠͏̯͈̫̗̬͖̼̟͍̬̠̳,̸̕͡͏҉͓͓̬͚ų̵̛̱̜̫̟͓͈̼̠̟̻̮͜͠p͞͏̠̦̩͎̦̬̪̺̖̬̜̥̺̪̭͍l̡͉̫̗͚̻̼͈̰̼͉̫͈̘͈͢n̢̲̻̗͔̣̬͈̦̝̭̥̝̥̘͘̕͡o̡͠͏̴̙̺̗̘͚̤͇̹͙̖̱̯͢ɥ̨̺̻̞͈͕̜͡s̨͇͎͙̣̣͍̰̜͕̬̀ ̸҉͔̥͓͈͚̼͟ņ̴̸̖͖̺̣̱̜̫̰͘ͅo̷̸̡͉̩̹̠͓͟͠ʎ҉̷̀҉̵͙̺̼̪͙̲͈̞̠̺͖̝͖͓͖ ̶̢͙̫̻̻̬̲̠͚͈̬͍͞ǫ̛̪̺̭͉̟͉͔̣͓̩̟̰͍̰̜͍́͘ś̯͚͙̩̭̲̮͚͖̬̠̬͕̬̻̩́͝͠ ̷̖̣̪͔̝̻͍͙̜̟̠̯͡&#39;͈̲̲̳͖͈͍̗͉͓͖͢ʇ̢̼̭̠͚͓̞̱̝͖͢͠ᴉ̸̧̤͕̱͈̼͞ ̧̨͔̠̺͍̜̦̯̤͚͓̪͖̳̩̺̻͍̝̀͞ͅp̶̥̖̺̗͓̘̻̖͈̫͜ǝ̸̴̱̹̜͙͎͔̹̲̺̣̰͜ʌ̷̨̲̞̟͔̪̭̭̗͓̤͚̘̩́ɹ̧̀͏̪͈͓̹̭͈̤͓̫͢ǝ͞҉̧͎̭̤̳s͓͈̭͚͟͝ǝ̡̠͔̹͍̱̹̟͍̫͕̙̗͔̘̣̯́p̴̣̺͙̥͈̲͙̭͖̗̬͙̤̗̥̱͜͜ ̛̰͙̞̟͍̬͘͟͜n̷̨̩͓͚̣̞͠o̷̸̖̯̜͎̩̗̝̝ʎ̵̵̕͜҉̝͓̦̭͓̠͎ ̨̳͕͕̼͍̥͙̥͈̗̗͙̗̻̝͖͖́ͅʇ̡̯̟̪͔̝̙͓̫͖͡n̴̛͢͞҉̣̘̙̺̗̘͓̬̭̮̼͍̦͖͕̞̜̼q̶͏̴͈̣͙̤̦̥̯̩̼̞͎̟̮̙ ̷̶̤͔̱̺͔͠˙̸̴̴̷̛̼͇̹͕̘̝͕͕̘̜o҉̨̯̰̻͈̭̗̗̻̤͠͞p̴̡̀҉̱͚̩̙̼̹͈̯̟̖͓͖̜͓̖ ̢̳̪̱͎̩͍̤̭̪̣͠n̶͢͠҉̨̭̲̻̜̭̜͉̲͕̞̺̙̥̟o̵҉̨̺͔̪̝̺͉͎̫̥̘̗͎̦̠̯̗̺͕̕ͅ⅄̴͜͏̹͕̘̣̟͖͙̰͈̜̗͕͍͖͎͖̪̣͔ ̡͟҉̢̬̣̦̫͕̭͔͔̰̳̖̖̦˙͏̢̢̥̱̟͖͉̫̤̬̞̩s̶̡̛̪̖͚̖̞̼̭͙̺̰͖̠̞͇̺̳͖̱͓͘ǝ̸̷̛͓̥̪̹͉̫̰̻̥̪͚͚̱͢͝ͅ⅄͈̖̦̱̀̀͞)̡̛̯͍̭̳͖̺̳̭͖̠͈̺̬̪̳̟̰̥͟
͏̝̥͓̻̯̮̳̭̭̗̘̪̖̖͈̟͔͡(̢͜͞͏̸̭̱͚̭̩̻̯͚͚̥̰̥̤̣̲¿̴҉̲̜̮͙̫̟̠̫̙͖͓̗̤̩̻ɹ͈͕̥̺̦̟̺̝͈̦͉͚̦̠̱͘ͅǝ̸͠͠҉̥̟̫̙̙̠̦̰ɥ͝҉̝̹̰͔͔̱̯͙͇̙͇̮͚̭ ̶̵͉̰̻̰͉̠̲͖̦̦̰̙̯̳͔͢͠ǝ̵̶̢̛͖̟͖̼̦̱͓̻͙̙͓̭̥͎̹̮̠ͅɯ͇̞̥̹̥̪̞̯̤̠͠ɐ̷̢̕҉͈̹͖̤l̫̳͙̯͙̩͔̟͢͡͝ͅq̨̳͉̬̦̞̥̙̞̼͓̖̫̥̺́̀̕ ̴̛̳̻̘̝͇̰̥̺̭͇̠͔̙͚ͅʎ͏̴͏̸̻̥̯̫̩̭͕̠̥̱̣̜̯͈̤̟͔͠ͅͅl̷̛͇̞̗͈̖̱̘̬̥̘̖̮̱̬̀l̢͓̟̻̗͎ɐ̶̢̖̼̣͙͝ǝ̵̸̡͔̱̭̰̜͖̤̘̟̦ͅɹ̴̢́҉̻͍͖͈͖̮̫̩̺̦̪͓͢ ̴͔͖͎̲̰̲̩̟̟͓̟̜̳̀͟͜͟n̡̛̘̠͇̖̺̠̗̟̻̝̠͓̠͖͜o҉̺̠̙̭̩̝̪͉̻̣͈̻͠ʎ̨̨͚̘̟̫͉̤̬̜͕͉ ̶̷̰̮͓̮̖͇͉̺͇̯̕u̵̡̞̩̝̟͡͞ɐ̵̰̠͍͓̠̭́Ɔ҉͟҉̪̝̦̠͙̪͍̰̘̣̹͕̝̰͝ ̵̴̳͖̩̣̟͓̯̮̣̦̫̗̙̣̕͜˙̡̀͟҉͏̯͍̱̮p̵̸̣̫̲͕̰̼̺͇̺̳͔̰̟ͅᴉ̡̢̹͉̰̦̯̙̯̣̱̲͍͘͞ʞ̸͔̯̻̻́͘͜ ̵̨̢̩̪̗̣͢͞ɐ̳̪͇̳̼͕̫̠̹͍͜͠ ҉͏̶҉͖̤͓̲̭͖ͅş̨̟̗͈̬͔̭̥̣̦̯̣̮̻̦̦͝͠͝ɐ̶̬͇̥̮̠̭̗͡ͅʍ̷̵̛̹̗̫̠̫̻͓͍̜ͅ ͏̸̛̛̙̦͕̻̰̯̙̰̜̹̻̼̞͕̫͉̼̫̰͞ǝ̛̙͈̞̦̮̳̜̯͘ɥ̮̙͉̠̞̜̭̪̩̳̤̪̦̘̯͙̼̮͜͜S̵͍̯͓͉̫͔̺̹̗̙̰̯̫͎͓͢)̙̮͈̳̠͍̘̥̞̫͘&lt;/small&gt;</tw-passagedata><tw-passagedata pid="311" name="awesome ntev" tags="zane parttwo flashback" position="2429,15725" size="100,100">&lt;small&gt;[[text effect version|awesome]]&lt;/small&gt;

You broke down. For the first and only time in your life, you cried genuine tears as you confessed everything. Your epithet, its effects on your peers, your tutors, your servants, and ultimately its effects on Verona. You talked and talked through your sobs for what felt like hours as she stood silently and stared. You begged her to help you, to get you help, to find a place where you could learn to control your epithet so you wouldn’t hurt her, wouldn&#39;t hurt anyone ever again like you hurt Auntie Verona. And when you had no more words left to croak, she nodded and left.

And when she returned, she [[returned]] with police.

&lt;small&gt;(̶̨̰͖̬͚̰̥͎˙̵̬̼͈̪̮̦̳̰̯͘͞͝ɹ̶̤͉̬͎͓̭͎̪͎͉̫͚̰̺̼͖͘͘͢ǝ̳̪̰̣̗͇̫̭̺̥̟͉̞̣̕͝ƃ̵҉̧͔͉̻̙͈͙̝̖͕u̵͇̳̪̠̹͔̰͓̣̮̟͡͝o̶͓̖̺̬̯̗̹͖̝̰̯̟̞̱̘͙͖̤͘͝l҉̧҉̳͔̬͔̱̦̺̬̼͔̣ͅ ̴̬̳͕͚̰͈͕͇̮̫̰͕͢͡͠͠ͅʎ͚̬͕̹͎̦̳̜̹͙̘͍͕̩̞̕u͏̴̛̣̲͓͚̩̥͉͖̩̭̹̮̙ɐ͉͙̰͖̲̟̮̣̰̹̦̟͈̀̕͢ ̶̬̻̜̜͕̖͈̹͈͖͉̫̭̘͚͙͚͙̙͘͢ɹ̛̛̥͖͙̮̱̪̜̱̖̤̲̬̮̦̟̥̞ǝ̡̨͏̴͖̹͓̱̩̖̹̜̖̳̝͎͡ɥ̧̡̫̩̖̖̻̤͍͓̘̖͙͈̗̺͚ͅ ̵̨̙̠̮̣͍̜͈̥̟̹͓͙̮̠̖̦͢͞ʇ͏͏͔͖͔͕̜͖̪̼͉͇̕s̶̢̻̖̲̟̥͇͍̣̗͍̟͍̠̱̲͢͠ͅụ̢̥̙̦̮͢ᴉ̸͜҉̤͙̜̜̰͉͎̳̩̣͖̯́͢ɐ̡̡̧̦̯̞̬͈̻̯͔̝̙͚̞͈̫͜͞ƃ̙͍̖̭́̕ͅͅɐ̛͞͝͏͚̪̣̲͔͕͇̠̫̯͇̝͈̫͓ ͏̷̴͈̝͚̳̯̼̟͎̬͇͙̼̰͈̖͚̘̥̕͟ͅʇ̢͝͏͎̲͙̭͘ᴉ̨͢҉̠̟̦̫̲̱͜ ̴̙̟͚̱̪̭̟ͅp̴̺̰̹̥͇͔̗̭̖̞̥͕͜ͅl̸̢̧̛͔̭͖͚̤͕͚͖̣̖͟ͅǫ̶̵̴͕̝͎̞̣̥̘͙̜̣͕̤͈͈̙̣̬͢ͅɥ̕҉̧͈̗̘̞̣̙̘ͅ ̨̤̝̠̥͈͘̕͡ʇ̶͘͢͠͏̯͈̫̗̬͖̼̟͍̬̠̳,̸̕͡͏҉͓͓̬͚ų̵̛̱̜̫̟͓͈̼̠̟̻̮͜͠p͞͏̠̦̩͎̦̬̪̺̖̬̜̥̺̪̭͍l̡͉̫̗͚̻̼͈̰̼͉̫͈̘͈͢n̢̲̻̗͔̣̬͈̦̝̭̥̝̥̘͘̕͡o̡͠͏̴̙̺̗̘͚̤͇̹͙̖̱̯͢ɥ̨̺̻̞͈͕̜͡s̨͇͎͙̣̣͍̰̜͕̬̀ ̸҉͔̥͓͈͚̼͟ņ̴̸̖͖̺̣̱̜̫̰͘ͅo̷̸̡͉̩̹̠͓͟͠ʎ҉̷̀҉̵͙̺̼̪͙̲͈̞̠̺͖̝͖͓͖ ̶̢͙̫̻̻̬̲̠͚͈̬͍͞ǫ̛̪̺̭͉̟͉͔̣͓̩̟̰͍̰̜͍́͘ś̯͚͙̩̭̲̮͚͖̬̠̬͕̬̻̩́͝͠ ̷̖̣̪͔̝̻͍͙̜̟̠̯͡&#39;͈̲̲̳͖͈͍̗͉͓͖͢ʇ̢̼̭̠͚͓̞̱̝͖͢͠ᴉ̸̧̤͕̱͈̼͞ ̧̨͔̠̺͍̜̦̯̤͚͓̪͖̳̩̺̻͍̝̀͞ͅp̶̥̖̺̗͓̘̻̖͈̫͜ǝ̸̴̱̹̜͙͎͔̹̲̺̣̰͜ʌ̷̨̲̞̟͔̪̭̭̗͓̤͚̘̩́ɹ̧̀͏̪͈͓̹̭͈̤͓̫͢ǝ͞҉̧͎̭̤̳s͓͈̭͚͟͝ǝ̡̠͔̹͍̱̹̟͍̫͕̙̗͔̘̣̯́p̴̣̺͙̥͈̲͙̭͖̗̬͙̤̗̥̱͜͜ ̛̰͙̞̟͍̬͘͟͜n̷̨̩͓͚̣̞͠o̷̸̖̯̜͎̩̗̝̝ʎ̵̵̕͜҉̝͓̦̭͓̠͎ ̨̳͕͕̼͍̥͙̥͈̗̗͙̗̻̝͖͖́ͅʇ̡̯̟̪͔̝̙͓̫͖͡n̴̛͢͞҉̣̘̙̺̗̘͓̬̭̮̼͍̦͖͕̞̜̼q̶͏̴͈̣͙̤̦̥̯̩̼̞͎̟̮̙ ̷̶̤͔̱̺͔͠˙̸̴̴̷̛̼͇̹͕̘̝͕͕̘̜o҉̨̯̰̻͈̭̗̗̻̤͠͞p̴̡̀҉̱͚̩̙̼̹͈̯̟̖͓͖̜͓̖ ̢̳̪̱͎̩͍̤̭̪̣͠n̶͢͠҉̨̭̲̻̜̭̜͉̲͕̞̺̙̥̟o̵҉̨̺͔̪̝̺͉͎̫̥̘̗͎̦̠̯̗̺͕̕ͅ⅄̴͜͏̹͕̘̣̟͖͙̰͈̜̗͕͍͖͎͖̪̣͔ ̡͟҉̢̬̣̦̫͕̭͔͔̰̳̖̖̦˙͏̢̢̥̱̟͖͉̫̤̬̞̩s̶̡̛̪̖͚̖̞̼̭͙̺̰͖̠̞͇̺̳͖̱͓͘ǝ̸̷̛͓̥̪̹͉̫̰̻̥̪͚͚̱͢͝ͅ⅄͈̖̦̱̀̀͞)̡̛̯͍̭̳͖̺̳̭͖̠͈̺̬̪̳̟̰̥͟
͏̝̥͓̻̯̮̳̭̭̗̘̪̖̖͈̟͔͡(̢͜͞͏̸̭̱͚̭̩̻̯͚͚̥̰̥̤̣̲¿̴҉̲̜̮͙̫̟̠̫̙͖͓̗̤̩̻ɹ͈͕̥̺̦̟̺̝͈̦͉͚̦̠̱͘ͅǝ̸͠͠҉̥̟̫̙̙̠̦̰ɥ͝҉̝̹̰͔͔̱̯͙͇̙͇̮͚̭ ̶̵͉̰̻̰͉̠̲͖̦̦̰̙̯̳͔͢͠ǝ̵̶̢̛͖̟͖̼̦̱͓̻͙̙͓̭̥͎̹̮̠ͅɯ͇̞̥̹̥̪̞̯̤̠͠ɐ̷̢̕҉͈̹͖̤l̫̳͙̯͙̩͔̟͢͡͝ͅq̨̳͉̬̦̞̥̙̞̼͓̖̫̥̺́̀̕ ̴̛̳̻̘̝͇̰̥̺̭͇̠͔̙͚ͅʎ͏̴͏̸̻̥̯̫̩̭͕̠̥̱̣̜̯͈̤̟͔͠ͅͅl̷̛͇̞̗͈̖̱̘̬̥̘̖̮̱̬̀l̢͓̟̻̗͎ɐ̶̢̖̼̣͙͝ǝ̵̸̡͔̱̭̰̜͖̤̘̟̦ͅɹ̴̢́҉̻͍͖͈͖̮̫̩̺̦̪͓͢ ̴͔͖͎̲̰̲̩̟̟͓̟̜̳̀͟͜͟n̡̛̘̠͇̖̺̠̗̟̻̝̠͓̠͖͜o҉̺̠̙̭̩̝̪͉̻̣͈̻͠ʎ̨̨͚̘̟̫͉̤̬̜͕͉ ̶̷̰̮͓̮̖͇͉̺͇̯̕u̵̡̞̩̝̟͡͞ɐ̵̰̠͍͓̠̭́Ɔ҉͟҉̪̝̦̠͙̪͍̰̘̣̹͕̝̰͝ ̵̴̳͖̩̣̟͓̯̮̣̦̫̗̙̣̕͜˙̡̀͟҉͏̯͍̱̮p̵̸̣̫̲͕̰̼̺͇̺̳͔̰̟ͅᴉ̡̢̹͉̰̦̯̙̯̣̱̲͍͘͞ʞ̸͔̯̻̻́͘͜ ̵̨̢̩̪̗̣͢͞ɐ̳̪͇̳̼͕̫̠̹͍͜͠ ҉͏̶҉͖̤͓̲̭͖ͅş̨̟̗͈̬͔̭̥̣̦̯̣̮̻̦̦͝͠͝ɐ̶̬͇̥̮̠̭̗͡ͅʍ̷̵̛̹̗̫̠̫̻͓͍̜ͅ ͏̸̛̛̙̦͕̻̰̯̙̰̜̹̻̼̞͕̫͉̼̫̰͞ǝ̛̙͈̞̦̮̳̜̯͘ɥ̮̙͉̠̞̜̭̪̩̳̤̪̦̘̯͙̼̮͜͜S̵͍̯͓͉̫͔̺̹̗̙̰̯̫͎͓͢)̙̮͈̳̠͍̘̥̞̫͘&lt;/small&gt;</tw-passagedata><tw-passagedata pid="312" name="ten long years." tags="zane parttwo flashback" position="2253,14966" size="100,100">&lt;small&gt;[[no text effect version|ten long years. ntev]]&lt;/small&gt;

@@.fade-in-out;Zane, your epithet isn’t limited to the black holes your power creates. &lt;i&gt;You&lt;/i&gt; are a black hole, sucking in light, hope, health, good will, and luck itself into yourself. And when you focus in on yourself, in on all the hate and loathing that deep down you feel you rightfully deserve for this, you feel nothing. You feel no anger, no disgust, no pain. Only an endless, bottomless inky darkness that cloaks your skin like a blanket and clings to the ends of your hair. And soon your entire body is surrounded in the shadow of space and night itself, and it is good. It is unblockable and unstoppable. You do not gain what you take, [[it is lost to loss.]]</tw-passagedata><tw-passagedata pid="313" name="ten long years. ntev" tags="zane parttwo flashback" position="2424,14965" size="100,100">&lt;small&gt;[[text effect version|ten long years.]]&lt;/small&gt;

Zane, your epithet isn’t limited to the black holes your power creates. &lt;i&gt;You&lt;/i&gt; are a black hole, sucking in light, hope, health, good will, and luck itself into yourself. And when you focus in on yourself, in on all the hate and loathing that deep down you feel you rightfully deserve for this, you feel nothing. You feel no anger, no disgust, no pain. Only an endless, bottomless inky darkness that cloaks your skin like a blanket and clings to the ends of your hair. And soon your entire body is surrounded in the shadow of space and night itself, and it is good. It is unblockable and unstoppable. You do not gain what you take, [[it is lost to loss.|it is lost to loss. ntev]]</tw-passagedata><tw-passagedata pid="314" name="returned" tags="zane parttwo" position="2331,15885" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;You&#39;re laughing. You&#39;re still laughing when it comes down to it, all cackles and no smile. It dies down as you realize you&#39;re safe, and Ilia isn&#39;t here, and all of that is long past. Margaret removes her helmet, revealing bright green eyes that send you a look of concern and understanding. It seems she has conceded in the time you were [[out of it.]]</tw-passagedata><tw-passagedata pid="315" name="Bless this poor man&#39;s soul." tags="zane parttwo" position="2340,14242" size="100,100">Unfortunately for Fiona, she happens to bumble right between your hands and the athlete hero. A beam of pure white pierces through her knees and straight into Luciano&#39;s groin. Everyone is screaming, you think, but the sound is drowned out by [[everything you wanted to forget.]]</tw-passagedata><tw-passagedata pid="316" name="out of it." tags="parttwo zane" position="2331,16035" size="100,100">Thankfully, Margaret is the only one who notices your dissociative state. Luciano is out cold, while the other two are watching Renli is kneeling down beside the unconscious Fiona. She as she brushes a lock of thick hair aside.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Two sets of ears.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Two sets of ears!|
|&lt;img src=&quot;sprites/22/excite.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Two sets of ears!!|

At least some sense of normalcy [[remains.]]</tw-passagedata><tw-passagedata pid="317" name="remains." tags="zane parttwo" position="2331,16185" size="100,100">Rika suddenly rises from the ground, grapples Margaret, and raises a dagger to her throat. In the process, the agent drops her helmet, which gets kicked aside. The skittering of plastic on cement is all that you can hear for a moment as Rika looks around nervously, until her eyes land on Twenty-Two.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; So. [[What are we doing now?|Part Three]]|</tw-passagedata><tw-passagedata pid="318" name="Part Three" tags="player partthree" position="2875,200" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;set $partThreeSeen to true&gt;&gt;&lt;center&gt;&lt;p style=&quot;font-size:30px&quot;&gt;[[Part Three: Through Hollow Streets|awkward.]]&lt;/p&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="319" name="awkward." tags="partthree tt" position="2994,309" size="200,200">&lt;&lt;audio rynostheme play loop&gt;&gt;Rika looks right at you, knife against Margaret&#39;s trachea and some degree of hysteria in her eyes. Margaret, too, stares at you, emeralds piercing through your soul with both resignation and desperation roiling in the depths.

Your voice catches in your throat as something you can&#39;t quite name rises in your chest. You swallow and reach deep down to pull the words out.

|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Let&#39;s... [[put the knife down,]] Rika. I don&#39;t think she&#39;ll hurt us anymore.|</tw-passagedata><tw-passagedata pid="320" name="put the knife down," tags="partthree tt" position="3049,575" size="100,100">She hesitates and glances up at Margaret. Then, finally, she lets go, though she doesn&#39;t back away.

|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... Thank you.|
|&lt;img src=&quot;sprites/22/angry.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I&#39;m... not doing this purely out of kindness. But I think there&#39;s more we can learn from you.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; That&#39;s fine. I understand.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Let&#39;s cut to the chase. Tell us about [[Camelot.]]|</tw-passagedata><tw-passagedata pid="321" name="Camelot." tags="partthree tt" position="3049,725" size="100,100">|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Right. The George Arthur Correctional Facility, more commonly known as Camelot, exists to protect the public from dangerous criminals. Within its perimeters exist a town you know as Literacy. When criminals are brought in, their memories - especially those surrounding the crimes they committed and what led to their arrest - are repressed.|

George Arthur - isn&#39;t that the name of a man in town? You wrack your brain.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; They&#39;ve figured that much out.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Why bother? Why not just let us remember and ruminate?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Because, despite everything, [[you showed no sense of remorse.]]|</tw-passagedata><tw-passagedata pid="322" name="you showed no sense of remorse." tags="partthree tt" position="3049,875" size="100,100">|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Don&#39;t get us wrong. You all knew what you did, and maybe what&#39;s on your file isn&#39;t the whole story. But you believed it was justified - and that, above all else, is what they looked at when they decided incarceration was the only option.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You&#39;re telling me that everyone in Literacy did something so downright unforgivable they had to be sealed here. Aside from the wardens, or whatever, like Rika.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; From the looks of it, you don&#39;t need me to answer that.|

Zane &lt;i&gt;flinches.&lt;/i&gt;

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Even Lucile? Even Ralphie? They&#39;re just kids.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; And so were you.|

Lucy looks away.

|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; For what it&#39;s worth, the point of Camelot was never punishment. Not since... long before any of you were here. It was a flawed attempt at rehabilitation. Even if they could never release you, they wanted to see if you could still be helpful in a functioning society, given the right conditions.|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Right conditions my ass.|

Is there anyone else you wish to ask about?&lt;&lt;set $TTasksRika to false&gt;&gt;&lt;&lt;set $TTasksDuncan to false&gt;&gt;&lt;&lt;set $TTasksMason to false&gt;&gt;&lt;&lt;set $TTasksTommy to false&gt;&gt;&lt;&lt;set $TTasksElanore to false&gt;&gt;&lt;&lt;set $TTasksOwen to false&gt;&gt;&lt;&lt;set $TTasksDecember to false&gt;&gt;&lt;&lt;set $TTasksNorm to false&gt;&gt;
[[Rika Koizumi.]]
[[Duncan Doughnuts.|duncan is not a criminal]]
[[Mason Avalon.|mason is a criminal]]
[[Tommy Billweeds.|tommy is a criminal]]
[[Elanore Elizabeth.|Elanore Elizabeth,]]
[[Owen.]]
[[DJ December.]]
[[Norm.]]</tw-passagedata><tw-passagedata pid="323" name="Elanore Elizabeth," tags="partthree tt" position="2991,1032" size="100,100">&lt;&lt;set $TTasksElanore to true&gt;&gt;Margaret half-frowns and tilts her head to the side.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; She&#39;s not a warden, I can tell you that much. But her records are sealed.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="324" name="Rika Koizumi." tags="partthree tt" position="2871,1030" size="100,100">&lt;&lt;set $TTasksRika to true&gt;&gt;Margaret blinks and looks to Rika, a cheeky smile flashing across her visage briefly.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No. I&#39;m a warden.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Oh! Um. Right, sorry.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="325" name="duncan is not a criminal" tags="partthree tt" position="3111,1031" size="100,100">&lt;&lt;set $TTasksDuncan to true&gt;&gt;Rika sighs and tugs on her bangs.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; We don&#39;t have time for this. No, Duncan is a warden like me. He did a pretty bad job of not making it obvious, don&#39;t you think? Let&#39;s move on.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="326" name="mason is a criminal" tags="partthree tt" position="2750,1030" size="100,100">&lt;&lt;set $TTasksMason to true&gt;&gt;Margaret frowns and crosses her arms over her chest.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; One of the worst, in fact. He was a hero on Renewed Spring for a while. Same team as these guys - just, you know, a different generation.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I think he and Duncan were on around the same time. Or maybe Duncan had already graduated? I never kept up with cape news.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; The latter. Duncan had just graduated when Mason joined. &quot;Pendragon,&quot; they called him. Then he went on to terrorize cities for a while.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Speaking of which, what is his epithet?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Legendary. It creates a sort of &quot;chosen weapon,&quot; such as a sword, meant as a diametric counter to any other epithet.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; You know how he kept a sword in the back of his shop? It was for Dunk.|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; No.|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh, poor Duncan.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="327" name="tommy is a criminal" tags="partthree tt" position="2629,1029" size="100,100">&lt;&lt;set $TTasksTommy to true&gt;&gt;She nods.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Tommy is a special case. His epithet was a danger to both himself and others, so they used eraser cuff technology to suppress that as well.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I was always under the impression he was a Mundie. That would explain what we saw at the toy store. He said he... hurt children?|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Yes.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Sheesh.|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Wait, you didn&#39;t know?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No. They only gave us the barest minimum of information to work with.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; ... Hm.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="328" name="No one else." tags="partthree tt" position="3046,1174" size="100,100">|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I&#39;m surprised you don&#39;t want to hear about each other. &lt;&lt;if $TTasksRika is true&gt;&gt;I mean, Rika aside. &lt;&lt;/if&gt;&gt;Some of you could be genuinely awful people, you know.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; After remembering my own past? I would never do something as dishonorable as forcing them to hear their own problems framed in the worst light.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah. I mean, for the record, I led a gang and hurt a lot of people. I&#39;ve come to terms with that in the last few hours. But it&#39;s up to you guys to decide if and when you talk about your baggage.|
|&lt;img src=&quot;sprites/22/shy.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Well... I can&#39;t say things are clear for me just yet. But I agree with Lucy.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I know who you are. And you are not defined by who you were.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Hm. I see.|

Satisfied with your answers, she looks toward her helmet.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Hey, could one of you [[hand me]] my helm-|</tw-passagedata><tw-passagedata pid="329" name="Owen." tags="partthree tt" position="3230,1032" size="100,100">&lt;&lt;set $TTasksOwen to true&gt;&gt;Margaret shakes her head.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; No, Owen Fortuna is a warden.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; His worst crimes include the way he dresses and letting December dress the same way.|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; &lt;small&gt;I didn&#39;t think they were dressed that badly...&lt;/small&gt;|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="330" name="Norm." tags="partthree tt" position="3471,1032" size="100,100">&lt;&lt;set $TTasksNorm to true&gt;&gt;Margaret furrows her brows.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Who?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Government agent. He&#39;s obviously not a criminal, Twenty-Two.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="331" name="DJ December." tags="partthree tt" position="3352,1032" size="100,100">|&lt;&lt;set $TTasksDecember to true&gt;&gt;&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; December Kenn? Yes. A good amount of her file was redacted, but my guess is that she performed contract killings for a government before veering too far off the path.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Her epithet is incredibly dangerous, but it was rarely used in her crimes, as far as I know.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Weird to imagine December as a rooftop sniper.|

Is there anyone else you wish to ask about?
&lt;&lt;if $TTasksRika is false&gt;&gt;[[Rika Koizumi.]]&lt;&lt;else&gt;&gt;==Rika Koizumi.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDuncan is false&gt;&gt;[[Duncan Doughnuts.|duncan is not a criminal]]&lt;&lt;else&gt;&gt;==Duncan Doughnuts.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksMason is false&gt;&gt;[[Mason Avalon.|mason is a criminal]]&lt;&lt;else&gt;&gt;==Mason Avalon.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksTommy is false&gt;&gt;[[Tommy Billweeds.|tommy is a criminal]]&lt;&lt;else&gt;&gt;==Tommy Billweeds.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is false&gt;&gt;[[Elanore Elizabeth.|Elanore Elizabeth,]]&lt;&lt;else&gt;&gt;==Elanore Elizabeth.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksOwen is false&gt;&gt;[[Owen.]]&lt;&lt;else&gt;&gt;==Owen.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksDecember is false&gt;&gt;[[DJ December.]]&lt;&lt;else&gt;&gt;==DJ December.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksNorm is false&gt;&gt;[[Norm.]]&lt;&lt;else&gt;&gt;==Norm.==&lt;&lt;/if&gt;&gt;
&lt;&lt;if $TTasksElanore is true&gt;&gt;[[No one else.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="332" name="hand me" tags="partthree tt" position="3046,1324" size="100,100">A beam of light, and then the helmet is in a billion shattered pieces. Steam rises from the remains. As Lulu barks in warning, you realize she and Lucy have unfused.

|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Wh- excuse me?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You&#39;re not getting away that easily, &lt;i&gt;Extend.&lt;/i&gt;|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; It&#39;s Extent. And I&#39;m not - I just wanted to call and get some help for my teammates.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; No need. [[Renli?]]|</tw-passagedata><tw-passagedata pid="333" name="Renli?" tags="partthree tt" position="3047,1471" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio kawaikitsune play loop&gt;&gt;The pinkette nods and steps forward, cracking her fingers. She examines Luciano for a moment, then waves both arms in the air with an expression of great concentration. The flourishes are impressive: normally, all she needs is a simple flick of the wrist, but clearly she&#39;s going all-out to ensure she plucks something strong enough-

A [[cracking sound]] as her palm flies against his cheek, leaving behind a bright red mark.</tw-passagedata><tw-passagedata pid="334" name="cracking sound" tags="partthree tt" position="3048,1616" size="100,100">|&lt;img src=&quot;sprites/luciano/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; OW???|
|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; WHAT.|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; See, he&#39;s stable. And awake now!|

Luciano groans and curls up, rolling onto his side.

|&lt;img src=&quot;sprites/luciano/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; Shit, this is awful! Mags, get some backup!|
|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I-I can&#39;t! They destroyed my helmet! Renli, what the hell did you do?|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I revive him, and THIS is the thanks I get? What kind of superhero can&#39;t even take a little slap?|
|&lt;img src=&quot;sprites/luciano/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; Not the problem! I&#39;m pretty sure sunbeam guy blasted my balls off.|
|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; [[Uh.]]|</tw-passagedata><tw-passagedata pid="335" name="Uh." tags="partthree tt" position="3048,1766" size="100,100">|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Playmaker. Are you doing the dramatic thing right now?|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; I mean. Yeah.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Your wounds should have instantly cauterized, if they came off. You&#39;ll be fine.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Pff...|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Not like you were using them for anything, anyway.|

Lucy cackles, Rika lets out a snort, and even Margaret purses her lips to hide a grin. Renli is smiling, but you aren&#39;t really sure it&#39;s any different than usual.


|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; Ouch! ... heh, that was [[a good one.]]|</tw-passagedata><tw-passagedata pid="336" name="a good one." tags="partthree tt" position="3049,1917" size="100,100">|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hey, Renli, you think you could summon some nuts?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Of course!|

She holds up a hands and pulls out a blue yam.

|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Hmm, I guess not.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Can we set the antics aside? Vixxie is still unconscious.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Right, right. But first: Luciano, tell us your epithet.|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I&#39;m not sure we have the time for-|
|&lt;img src=&quot;sprites/luciano/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCIANO:&lt;/b&gt; Landowner! Pretty fun, huh?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Wow, I see! You really did own that land.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; [[Anyway.]]|</tw-passagedata><tw-passagedata pid="337" name="Anyway." tags="partthree tt" position="3048,2066" size="100,100">Renli takes a bite of the yam, grabs Fiona by the shoulders, and shakes furiously. Your neck hurts a bit just from watching the scene.

|&lt;img src=&quot;sprites/fiona/shocked.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; BWUH?!|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Wakey wakey, eggs and bakey!|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Except not really. There&#39;s nothing here for you.|

She takes [[another bite]] of the vegetable.</tw-passagedata><tw-passagedata pid="338" name="another bite" tags="partthree tt" position="3048,2214" size="100,100">|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So. What&#39;s your epithet, Vixxie?|
|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; Oh, you can just call me Fiona! And it&#39;s Fox.|

Fiona points at her ears and beams, revealing particularly long canines. You wonder if her epithet is anything like yours in how it affected your biology - but then again, you&#39;re a different case entirely. Not to mention, it&#39;s not like your epithet is Fish.

|&lt;img src=&quot;sprites/fiona/neutral.png&quot; width=150px&gt;|&lt;b&gt;FIONA:&lt;/b&gt; It makes me faster than shadows.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; That doesn&#39;t make sense.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I interpreted it as an artistic choice in expression. Now, Margaret, [[what about you?]]|</tw-passagedata><tw-passagedata pid="339" name="what about you?" tags="partthree tt" position="3048,2365" size="100,100">Margaret sighs, running a gloved hand through her frizzy chestnut hair. As frazzled and beaten-up as she is, she&#39;s honestly very pretty

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Strategist. It allows me to come up with strategies on the fly based on what I know, as long as I have a goal in mind.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Bullshit.|
|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; What-?|

She&#39;s not the only one who&#39;s thrown off by the declaration. Even Luciano and Fiona look to her for confirmation.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; From one liar to another, you need some more practice. Tell us your real epithet.|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Tch... Fine.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Multitask. There exist millions of copies of myself that comprise the entirety of my mind. I can analyze several things from several angles at the same time, allowing me to reach conclusions far faster than the average human.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; [[Fancy way]] of patting yourself on the back.|</tw-passagedata><tw-passagedata pid="340" name="Fancy way" tags="partthree tt" position="3048,2515" size="100,100">|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Now, with all that out of the way. Will you let us go now?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; All due respect, but I&#39;m not going to let Extent just burn down the facility.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; That&#39;s not - ... ugh.|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Look, if I come with you, will you at least let the kids go?|

Rika looks to you once again. You nod and approach, hands outstretched toward the agent.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I can take it from here.|

She releases Margaret and pushes her toward you. In one swift motion, you catch her and swoop her up [[bridal-style.]]</tw-passagedata><tw-passagedata pid="341" name="bridal-style." tags="partthree tt" position="3048,2666" size="100,100">|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Y- wh- huh??|

You don&#39;t give her time to form any proper words, partly because you aren&#39;t sure if you have any answers to the questions or remarks she may make. Instead, you immediately speed down the rest of the tunnel, ready to [[investigate]] whatever waits.</tw-passagedata><tw-passagedata pid="342" name="investigate" tags="lucy partthree" position="2998,2804" size="200,200">With Twenty-two so eagerly leading the way further into the tunnel, all the rest of you can do is follow suit as quickly as possible. It&#39;s impressive how fast she can move while carrying the weight of an entire in her arms, lean as that person may be. Why hasn&#39;t she done anything like this before?

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So, anyone know where this leads?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Honestly, I&#39;ve never actually been down here, but the proper entrances are in the lighthouse and the town hall. Margaret, you have any special Extent intel?|

Aside from the sound of Twenty-two&#39;s Mary Janes pattering over cement, she and Margaret are silent. You manage a peek over the fish-girl&#39;s shoulder and see Margaret&#39;s face has turned an unbelievable shade of red. Her hands are awkwardly curled against her chest and her eyes are wide with disbelief.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Seems [[she&#39;s busy.]]|</tw-passagedata><tw-passagedata pid="343" name="she&#39;s busy." tags="lucy partthree" position="3045,3023" size="100,100">As the others come to realize Twos and Margaret are completely caught up in their own world, the tense air begins to relax. You decide to further lighten the mood with a fun question.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Hey, Renli. When the weather thing says 103% humidity, what does that mean?|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I&#39;m not sure. I do know that it means domestic rats will be very unhappy, though.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; The rats and me both, then. Cheers to that.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That&#39;s not the only thing you have in common.|
|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; That&#39;s right! Rats are extremely smart. And also ticklish.|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I&#39;m not - I&#39;m not ticklish!|
|&lt;img src=&quot;sprites/renli/peace.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Mm. Okay.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I&#39;m really not, I swear.|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Ok.|

You know she&#39;s not going to tickle you right now... but with the way Renli works? It will come when you [[least]] expect it.</tw-passagedata><tw-passagedata pid="344" name="least" tags="lucy partthree" position="3045,3174" size="100,100">You finally reach a set of stairs that lead up to a pair of wide double-doors cut into the wall. Twos easily bounches up and kicks them open, and the rest of you [[follow through.]]</tw-passagedata><tw-passagedata pid="345" name="inside the lighthouse." tags="lucy partthree" position="3044,3470" size="100,100">|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; We&#39;ve been inside the lighthouse before. You know, when we were looking for December?|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Look at the walls. They have the same wallpaper.|

He knocks against a wall, then moves across the room to open the door. Poking his head out, he checks both ends of the hallway, then shrugs and returns.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; The stairs down that way have the same structure as well. I believe we are still underground, given the lack of windows, although we could easily be on one of the closed-off floors.|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; I guess so. We could also be in some other type of underground bunker, though.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Fair enough.|

Rika picks up a photo frame on top of the nightstand and squints at it.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Zane, [[come a little closer]] so I can look at this.|</tw-passagedata><tw-passagedata pid="346" name="follow through." tags="lucy partthree" position="3044,3323" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio andreastheme play loop&gt;&gt;You emerge in a dusty bedroom lit only by the faint glow around Zane. The sheets are made, albeit imperfectly - as if whoever lived here expected to return. A fancy decal of a heron beside a swamp covers a large portion of one wall. Upon looking back, it becomes clear that the doors are disguised as a massive wardrobe.

|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Whose house is this even?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I&#39;m not sure. This should&#39;ve been the lighthouse... Margaret?|

This time, the Extent agent looks up.

|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Ah, um, I have no idea.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Rika, you mentioned the &quot;proper&quot; entrances are in the town hall and the lighthouse, correct?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yeah.|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; We did walk a good distance, but I hardly detected any turning. No other houses exist on this side of Literacy.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So?|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; I propose that we are, in fact, [[inside the lighthouse.]]|</tw-passagedata><tw-passagedata pid="347" name="come a little closer" tags="lucy partthree" position="3044,3620" size="100,100">After brushing away a heavy layer of dust, Rika inhales sharply through her nose.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; That&#39;s my boss. And...|

It&#39;s a family photo. There&#39;s a woman whose sharp jawline eerily reminds you of the robotic woman who rose from the beach yesterday afternoon. Her smile, though thin, reaches her narrow eyes. She leans slightly into an older man, whose arm is wrapped around her shoulders. Both of them seem to rest their hands on a third figure in front - but the child, or whatever is there, has been torn out.

Upon a closer glance, you realize the man only &lt;i&gt;looks&lt;/i&gt; old because of his grey hair - but it&#39;s definitely Dr. George Arthur, one of the local therapists, some twenty or thirty years ago.

|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; That&#39;s the woman we met at the beach yesterday.|

George Arthur. George Arthur. Didn&#39;t you hear [[that]] recently?</tw-passagedata><tw-passagedata pid="348" name="that" tags="lucy partthree" position="3044,3770" size="100,100">|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Rika. Was George Arthur your boss?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Yeah. He&#39;s... the one behind this whole thing. Not that he - tried to - I mean, he&#39;s not a bad guy. He really believed in it. In all of you.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; That sounds like a hot load of bullshit.|

Rika takes a deep breath, then sighs.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; The George Arthur Correctional Facility was offered as an alternative to locking up everyone or going straight to execution. He genuinely believed in the idea of tabula rasa - of a psychological blank slate.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Dr. Arthur knew that it would just be a microcosm of society that could never touch the outside world again. But there were enough papers and enough money backing him up to let it happen at all. He never meant for things to go haywire. Really.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... It&#39;s [[her]] fault, isn&#39;t it?|</tw-passagedata><tw-passagedata pid="349" name="her" tags="lucy partthree" position="3044,3919" size="100,100">Margaret reaches out, but her arm isn&#39;t quite long enough to make it to the photo. Twos moves closer, until the agent&#39;s index finger lands just beside the woman&#39;s face.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; She was one of the co-founders, and we believe she is responsible for all this chaos. Her name is Dr. Isabella Guerrero.|

Rika abruptly crumples, stumbling backwards as she clutches her head and wheezes. You and Renli grab either shoulder and hold her steady.

|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Rika, are you alright?|

She doesn&#39;t answer at first, just breathing heavily. But she eventually slows down and straightens, shaking off both of you.

|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Sorry. I just... I remembered something. We need to find Elanore.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; That may be dangerous.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Shut up, &lt;i&gt;you&#39;re&lt;/i&gt; dangerous.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; I mean it, though. We need to find her.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... okay. Assuming nothing completely out of my calculations has happened, she should be headed to the center of town, at the Nexus. Since it will be along the way, I would like to pass through the beach.|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You mean... where Duncan and Mason are presumably beating the snot out of each other?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Yes.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Welp, this place gives me the creeps, anyway. [[Let&#39;s go!|to da beach beach... ninki minjaj]]|</tw-passagedata><tw-passagedata pid="350" name="to da beach beach... ninki minjaj" tags="lucy partthree" position="3044,4069" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio hustle play loop&gt;&gt;You barrel through the door, Lulu yipping at your heels. In the hallway, you pause momentarily to determine which direction the stairs are in before hurrying [[that way]] and ascending.</tw-passagedata><tw-passagedata pid="351" name="that way" tags="lucy partthree" position="3043,4219" size="100,100">You emerge at the top of the stairs and make your way down the hall lined with cardboard boxes, passing by the stairs that you climbed earlier to meet DJ December. Zane was right - you are definitely in the lighthouse.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; It may be best for us to take the path along the coast. By now, the fighting has likely spread throughout the rest of town.|
|&lt;img src=&quot;sprites/renli/sweat.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Ah - but... weren&#39;t civilians directed to go to the police department for safety?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Yes. Extent is picking them up from there and containing them. The long-term consequences of Dr. Guerrero&#39;s actions are... unclear, but we hope to retain the fewest casualties possible.|
|&lt;img src=&quot;sprites/lucy/unimpressed.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Ah, that explains why you attacked us.|

While turning away to lead on, you catch a glimpse as Margaret visibly [[flinches.]]</tw-passagedata><tw-passagedata pid="352" name="flinches." tags="lucy partthree" position="3043,4368" size="100,100">|&lt;img src=&quot;sprites/margaret/shocked.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Ah- I...|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I&#39;m... sorry. Honestly. No one at Extent expected it would be possible for anyone to respond to random trigger recall as calmly as this group has - not to mention unveiling memories that violent.|

You&#39;re not actually sure if the others have had that revelation yet. They both seem exactly the same as before - other than that one comment Zane made earlier. Then again, you could say [[the same]] for yourself.</tw-passagedata><tw-passagedata pid="353" name="the same" tags="lucy partthree" position="3043,4519" size="100,100">|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; How did this brainwashing even work? Was it merely positing an estimate of when it would wear off and retrieving us for another session before then?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Rika, would you like to explain?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Not really.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ...|

There&#39;s a supremely awkward pause. You crane your neck to peer into the horizon. No wonder there&#39;s nothing in sight, if all this is fake.

|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Fine. There&#39;s a machine that keeps everyone under a similar illusion. It constantly works to suppress memories relating to your criminal pasts, gives your minds a nudge toward making memories of Literacy, and keeps you focused on living your lives here. Happy?|
|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Oh... is this machine the [[&quot;oculus&quot;]]?||</tw-passagedata><tw-passagedata pid="354" name="&quot;oculus&quot;" tags="lucy partthree" position="3043,4669" size="100,100">|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No...? No, that&#39;s - that&#39;s someone else, if she was referring to what I thought she was.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; &quot;She&quot;?|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; We&#39;ll fill you in later.|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Owen&#39;s epithet is Oculus. I don&#39;t know the specifics, but he helps the machine determine everyone&#39;s threat levels and decides how its... power, effectively, needs to be moved.|
|&lt;img src=&quot;sprites/renli/angy.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Then... the machine stopped working, right? Is it possible he could be behind all this?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; No. Definitely not. [[I think Margaret is right.]]|</tw-passagedata><tw-passagedata pid="355" name="I think Margaret is right." tags="lucy partthree" position="3043,4818" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio arcane play loop&gt;&gt;Before you can question her on why, you spot a wild flash of light followed by a blast of water in the opposite direction. It&#39;s still a ways off, but even from over here you can easily spot Mason&#39;s signature bomber jacket and Duncan&#39;s golden hair.

|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yikes on bikes. You guys see that?|
|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Yeah. Renli and I passed by them earlier, before they started fighting.|
|&lt;img src=&quot;sprites/rika/angry.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Those idiots...|
|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Um... it might not be as bad as you think. [[Listen.]]|</tw-passagedata><tw-passagedata pid="356" name="Listen." tags="lucy partthree" position="3043,4969" size="100,100">|&lt;img src=&quot;sprites/duncan/hyped.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; HEY, MASON. SUCK MY DICK AND BALLS!|

A huge column of water splits into two, then slams back together to pince Mason.

|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Uh. That doesn&#39;t sound... [[&quot;not-as-bad&quot;]]?|</tw-passagedata><tw-passagedata pid="357" name="&quot;not-as-bad&quot;" tags="lucy partthree" position="3043,5119" size="100,100">But then, through the chaos of water pressure, you hear Mason &lt;i&gt;laughing&lt;/i&gt;. His sword slices through as he emerges, battered and bruised, and by now you&#39;re close enough to see he has the biggest, most genuine smile on his face that you&#39;ve ever seen.

|&lt;img src=&quot;sprites/mason/hyped.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; ONLY IF YOU LEARN TO AIM, OLD MAN!|

He returns Duncan&#39;s attack, but with a bold (and, admittedly, rad) flair that&#39;s oh-so-Mason: the path of the streams is sleeker, and instead of just crashing together at the end, there&#39;s a spinning flourish that wraps around the lifeguard to [[trip him up.]]</tw-passagedata><tw-passagedata pid="358" name="trip him up." tags="lucy partthree" position="3043,5269" size="100,100">Duncan tanks the hit, though a singular strand that grabs his ankle has him stumbling for a moment. His classic, brazen guffaws easily reach you as he adjusts his balance with an extra surge of water. He shouts something you can&#39;t quite discern, pointing at Mason, before the two of them [[rush at each other]].</tw-passagedata><tw-passagedata pid="359" name="rush at each other" tags="lucy partthree" position="3044,5418" size="100,100">|&lt;img src=&quot;sprites/rika/smile.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Those idiots.|

They really are. But it&#39;s better than the two of them actually fighting for life or death. Besides, a small voice at the back of your head reminds you, did you actually know which one you wanted to win?

But it doesn&#39;t matter, you decide, brushing that thought aside. They&#39;re fighting, sure, but in the midst of it all, their communication and friendship has pushed through and [[prevented tragedy.]]</tw-passagedata><tw-passagedata pid="360" name="everything." tags="rika parttwo" position="2193,531" size="100,100">At least you gained one thing.

You remember fulfilling your queen&#39;s final wish, merciful as it was mortifying: for you to escape with your life. You remember salty tears evaporating off your face in the remains that burned ever so miserably. You remember wanting to be small, to be reduced to a mere &lt;i&gt;speck&lt;/i&gt;.

And suddenly, it is so.

Afterward, [[life is a blur.]]</tw-passagedata><tw-passagedata pid="361" name="attention" tags="rika parttwo" position="2450,606" size="100,100">Still, the handful who know of your silent deeds take note of your exceptional productivity. At twenty-one, you take on the new and ever more thankless job of warden at the George Arthur Correctional Facility. You have a few coworkers - like Owen, who holes up in his corner of &quot;town&quot;, and Duncan, who becomes your first friend in a while - who play their roles so seamlessly you almost &lt;i&gt;forget&lt;/i&gt; your purpose.

It&#39;s not just them, to be fair. It&#39;s hard to remember what is real and what is constructed when no cruelty shows here. When certain files are classified and you never learn what evil lurks behind. When... [[when...|part two starts fr]]</tw-passagedata><tw-passagedata pid="362" name="prevented tragedy." tags="lucy partthree" position="3043,5569" size="100,100">|&lt;img src=&quot;sprites/margaret/nervous.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I... can&#39;t say I expected this, after all my calculations.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; And, pray tell, what did your calculations say?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; This particular scenario had approximately point-oh-oh-one-three-four percent chance of happening. Yet you managed to make it happen.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Not sure how much I actually wanna see the data for this.|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Don&#39;t worry. Most of it was run by my epithet. The point is, I&#39;m pleasantly surprised. You did well.|
|&lt;img src=&quot;sprites/22/neutral.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I don&#39;t really get it, but I&#39;m happy, too!|

Margaret [[clears her throat.|sdklgh]]</tw-passagedata><tw-passagedata pid="363" name="town square." tags="lucy partthree" position="2999,5869" size="200,200">&lt;&lt;audio nightmare play loop&gt;&gt;It&#39;s a nightmare, to say the least.

Heroes, some of whose uniforms you vaguely recognize from newscasts and other publicity stunts, lay scattered among the debris of town hall. You even spot General Douglas laying supine beneath a toppled column. Hopefully, they&#39;re all unconscious rather than dead, but you don&#39;t want to dwell on that idea for [[too long.]]</tw-passagedata><tw-passagedata pid="364" name="sdklgh" tags="lucy partthree" position="3045,5722" size="100,100">|&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; Right. In any case, wre all clear here. Which means Elanore Elizabeth is moving toward the Nexus.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Yeah, and what&#39;s that?|
|&lt;img src=&quot;sprites/rika/neutral.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; Town square. Let&#39;s go.|

You linger a moment longer before jogging to catch up with the rest of the group. It&#39;s a good break, after everything else, and before whatever awaits you in the [[town square.]]</tw-passagedata><tw-passagedata pid="365" name="look for Elanore." tags="lucy partthree" position="3050,6263" size="100,100">No sign of the blonde. At least you don&#39;t spot the young members of Renewed Spring you came across earlier in the tunnels. It&#39;s a relief, even if they were a nuisance at the time.

But that relief doesn&#39;t last long. Illuminated by burning rubbish littering the area looms a beautiful woman dressed in black. It&#39;s &lt;b&gt;the woman&lt;/b&gt; you encountered yesterday - Dr. Isabella Guerrero, in the flesh.

From the state of her clothes, she has clearly been fighting. But aside from a few scrapes, she looks largely untouched. A few glowing, cubelike objects follow her as she hovers through the battlefield, searching for something. As your eyes lock, a [[blue blur]] slams into her.</tw-passagedata><tw-passagedata pid="366" name="too long." tags="lucy partthree" position="3049,6118" size="100,100">To your horror, Zane manages to find a moment to crouch down by one hero with the same hair color and taunt her.

|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; HAH. Bit off more than you could chew, huh?|
|&lt;img src=&quot;sprites/lucy/angy.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Zane what the hell.|
|&lt;img src=&quot;sprites/zane/smile.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Oh, no need to fret. That is my insufferable lout of a sister, Ilia.|

There&#39;s something in his expression that tells you not to push him for more, so you turn away to [[look for Elanore.]]</tw-passagedata><tw-passagedata pid="367" name="blue blur" tags="lucy partthree" position="3050,6411" size="100,100">|&lt;img src=&quot;sprites/renli/sparkle.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; John!!|

It takes you a bit longer to fully register, but you realize that John has tackled her off-balance. Whatever he is, you&#39;re immensely relieved Renli befriended him.

He flies back, smoothly avoiding a swipe with one of her cubes, and sends a beam of light just skimming past her arm. She hisses in pain and barely blocks another beam by expanding a cube at the last moment, which then shatters and dissolves.

|&lt;img src=&quot;sprites/john/giant.png&quot; width=150px&gt;|&lt;b&gt;JOHN:&lt;/b&gt; [[I will not miss again.]]|</tw-passagedata><tw-passagedata pid="368" name="he may just win." tags="lucy partthree" position="3053,6699" size="100,100">And then she stops, stare piercing into his eyes as a cruel smile twists her lips.

|&lt;img src=&quot;sprites/isabella/smile.png&quot; width=150px&gt;|&lt;b&gt;ISABELLA:&lt;/b&gt; Oh, I see.|

A string of numbers rapidly rolls off her tongue. You see some cells of John&#39;s lights flicker and change - and then he releases her silently, flying back a few feet before dropping onto one knee.

[[You feel sick.]]</tw-passagedata><tw-passagedata pid="369" name="I will not miss again." tags="lucy partthree" position="3052,6558" size="100,100">He shoots beam after beam from various directions, maneuvering through the boxes and making it to his destination with ease. Before you even realize there&#39;s an opening, he has Isabella pinned to the ground. She struggles, the few cubes left breaking through his arm. But he quickly reforms, her hit ultimately doing nothing to him. In between, he manages to get in a mix of punches and beams of light. It seems [[he may just win.]]</tw-passagedata><tw-passagedata pid="370" name="You feel sick." tags="lucy partthree" position="3053,6848" size="100,100">Isabella turns to you, but something else catches her eye. Something... behind you?

You turn. Weepy gaze meeting hers, Arthur - formerly known to you as the director of the town&#39;s therapy clinic, and now known to you as the creator of the entire Facility - has a wistful smile on his face and an arm wrapped around [[Elanore Elizabeth.]]</tw-passagedata><tw-passagedata pid="371" name="Elanore Elizabeth." tags="lucy partthree" position="3053,6998" size="100,100">You&#39;re about to call out to Elanore, ready to rescue her from the sleazeball&#39;s grip - but all your muscles are frozen as something squeezes your chest. You can only look - and you realize she stands tall and proud in spite of the confusion on her face.

|&lt;img src=&quot;sprites/isabella/smile.png&quot; width=150px&gt;|&lt;b&gt;ISABELLA:&lt;/b&gt; My daughter. Come home.|
|&lt;img src=&quot;sprites/arthur/worried.png&quot; width=150px&gt;|&lt;b&gt;ARTHUR:&lt;/b&gt; Isa, I know it didn&#39;t work out, but we can try again. We can try as many...|

Elanore slips from his grasp and moves forward, arms outstretched. It only occurs to you as Arthur collapses to the dirt that she was propping him up. She passes by you, as if you aren&#39;t even there, as if you weren&#39;t joking around and having lunch together [[just this morning.]]</tw-passagedata><tw-passagedata pid="372" name="just this morning." tags="lucy partthree" position="3052,7149" size="100,100">There is nothing you can do but watch with horror as Elanore embraces her mother. Then, hand-in-hand, they walk to the steps of town hall. On the way, Isabella turns back to look at you - look at &lt;i&gt;you&lt;/i&gt; - and smiles.

|&lt;img src=&quot;sprites/isabella/smile.png&quot; width=150px&gt;|&lt;b&gt;ISABELLA:&lt;/b&gt; Thank you, dear.|

[[What the fuck.]]</tw-passagedata><tw-passagedata pid="373" name="What the fuck." tags="lucy partthree" position="3051,7296" size="100,100">Arthur&#39;s labored breathing grows louder as he passes by you on his crawl toward them.

|&lt;img src=&quot;sprites/arthur/worried.png&quot; width=150px&gt;|&lt;b&gt;ARTHUR:&lt;/b&gt; My love, please, don&#39;t do it.|

When the pair make it to their destination, both of them turn to face all of you. The pressure in the air only increases. Isabella stares down at Dr. Arthur with disdain. Elanore&#39;s expression is still empty, confused, lost.

[[The one who speaks up]] is not the one you expect to hear.</tw-passagedata><tw-passagedata pid="374" name="The one who speaks up" tags="lucy partthree" position="3051,7446" size="100,100">|&lt;img src=&quot;sprites/22/teary.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; Are you just going to take off?|
|&lt;img src=&quot;sprites/isabella/smile.png&quot; width=150px&gt;|&lt;b&gt;ISABELLA:&lt;/b&gt; When freedom, true freedom, is so near, would you choose any differently?|
|&lt;img src=&quot;sprites/22/teary.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; I would! I would choose anything but &lt;i&gt;this!&lt;/i&gt;|
|&lt;img src=&quot;sprites/isabella/smile.png&quot; width=150px&gt;|&lt;b&gt;ISABELLA:&lt;/b&gt; My condolences, dear.|
|&lt;img src=&quot;sprites/22/teary.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; So then... what? Are we just - are we just [[collateral damage?]]|</tw-passagedata><tw-passagedata pid="375" name="collateral damage?" tags="lucy partthree" position="3051,7596" size="100,100">You can barely breathe. Twos&#39; harsh shrieks indicate she&#39;s feeling the same way. Even Zane is tearing up.

|&lt;img src=&quot;sprites/arthur/worried.png&quot; width=150px&gt;|&lt;b&gt;ARTHUR:&lt;/b&gt; ISABELLA. CALL. HER. OFF.|
|&lt;img src=&quot;sprites/rika/crying.png&quot; width=150px&gt;|&lt;b&gt;RIKA:&lt;/b&gt; [[ELI-]]|</tw-passagedata><tw-passagedata pid="376" name="ELI-" tags="lucy partthree" position="3051,7743" size="100,100">The sky &lt;i&gt;shatters,&lt;/i&gt; and you [[remember everything]].</tw-passagedata><tw-passagedata pid="377" name="remember everything" tags="lucy partthree" position="3051,7896" size="100,100">The Facility was never a prison. It was a vault to seal away a precious gem.

Elanore Elena Elizabeth III, Aquamarine Princess of Blue York City.

That very gem rises into the air, an impenetrable barrier obstructing you from perceiving her form more clearly than a pair of glowing eyes, and exerts her force. It presses in on your chest, makes your breath short, strains your eyes. &lt;i&gt;[[Domain]]&lt;/i&gt;, you tell yourself, and you want to scream and cry and kick the ground.</tw-passagedata><tw-passagedata pid="378" name="Part Four" tags="player partfour" position="3811,194" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;set $partFourSeen to true&gt;&gt;&lt;center&gt;&lt;p style=&quot;font-size:30px&quot;&gt;[[Part Four: Over Heads of Men|omg eli real]]&lt;/p&gt;&lt;/center&gt;</tw-passagedata><tw-passagedata pid="379" name="omg eli real" tags="elanore partfour" position="3944,309" size="200,200">&lt;&lt;audio missingyou play loop&gt;&gt;Elanore, you are heir to Blue York&#39;s most powerful family. Each inscribed bore overwhelming potential, polished and honed further by pouring mountains of resources toward training and protection. One might assume a more-or-less untouchable monarchy built on all-dominating epithets would have regular issues with the line of succession. However, your family raises their children on the idea that enough resources and strict planning can shape anyone into perfection. Furthermore, your family never looks beyond their own kingdom. As a result, power never tilts away from you.

In short, an ironclad grip sees [[no faltering.]]</tw-passagedata><tw-passagedata pid="380" name="no faltering." tags="elanore partfour" position="3986,547" size="100,100">Yet you faltered, didn&#39;t you?

At age eight, you met your first real friend, the first one your age who you chose for yourself.

No one was supposed to be there, but she was - all freckles and glasses and an ill-fitting blouse. She immediately approached you, introduced herself, and shook [[your hand.]]</tw-passagedata><tw-passagedata pid="381" name="your hand." tags="elanore partfour" position="3985,685" size="100,100">She was appalled when she heard your name. The Aquamarine Princess? She knew then that she was in the wrong place. She had come here for an interview, but the building was far too big and far too unlabeled.

You liked her even then. You liked that she was honest, and you liked that an awkward energy surrounded her. So you told her you would bring her to the right room if she played a game of [[checkers]] with you.</tw-passagedata><tw-passagedata pid="382" name="checkers" tags="elanore partfour" position="3988,833" size="100,100">You won, of course. She wasn&#39;t educated back then. You had every advantage at the time, and you knew it - so [[you watched her]] the entire game, watched the way she scrunched her nose when she thought, watched her puzzle over she could possibly still claw her way to victory.</tw-passagedata><tw-passagedata pid="383" name="you watched her" tags="elanore partfour" position="3988,984" size="100,100">She didn&#39;t voice her thoughts, but you could still read it all on her round face. Halfway through the game, she knew you had already won. But she persevered anyway, pushed herself hard despite knowing it was impossible, screeched a bit when you took another piece and she momentarily forgot your background. And at the end, she shook your hand again and said you played well. But, she added, she would beat you next time. On her face she wore a genuine smile.

Next time. You liked the sound of that. You took her to the meeting room and demanded [[they hire her.]]</tw-passagedata><tw-passagedata pid="384" name="they hire her." tags="elanore partfour" position="3988,1132" size="100,100">She became your personal guard. It was more a gesture of goodwill than anything; though your epithet had yet to manifest, it would surely be powerful enough to dominate any who crossed your path.

But only two years later, hers emerged. Despite your vehement protests and temper tantrums, she was assigned to the assassination task force shortly thereafter. You increased the extremity of your strikes until, finally, they relented. Under the excuse that it improved her morale and performance, they allowed the two of you [[regular visits.]]</tw-passagedata><tw-passagedata pid="385" name="regular visits." tags="elanore partfour" position="3988,1282" size="100,100">It didn&#39;t even last a year.

Your memory is hazy from childhood oblivion, from early-morning bleariness. The sun hadn&#39;t quite breached the horizon when injured guards entered your room and hurried you through the hidden door. Some stayed behind, leaving you with a minimal entourage. They said something about being stormed by teams of heroes. Something about Blue York being reclaimed. You didn&#39;t want to know what happened - you just wanted to close your eyes and get [[back to sleep.]]</tw-passagedata><tw-passagedata pid="386" name="back to sleep." tags="elanore partfour" position="3988,1430" size="100,100">The moment you emerged in a back alley of Blue York, your companions fell to the ground. Only as you knelt to help one up did the gravity of the situation truly occur to you.

You heard taunts and jeers, and when you looked up all you could see was blurs of bright colors. It was wrong - this was all wrong. It should have been impossible for anyone outside Blue York to enter, should have been impossible for this many full teams of epithet-wielding heroes to set the metropolis alight.

But they had, and that meant only one thing.

&lt;b&gt;This [[domain]] belonged to you and you alone.&lt;/b&gt;</tw-passagedata><tw-passagedata pid="387" name="domain" tags="elanore partfour" position="3988,1577" size="100,100">Dust and debris kicked up in swirling patterns that vaguely indicated a sphere around you. The heroes&#39; mouths formed mocking words that you couldn&#39;t&#39;t hear over the sound of your blood pounding in your ears.

They stopped laughing when one came too close and suddenly turned into shreds. Now on guard, a few more impulsive ones already launched themselves into your barrier.

But you are a leader. You are more than the boundaries alone. &lt;b&gt;You are your people&lt;/b&gt; as much as they are [[your constituents.]]</tw-passagedata><tw-passagedata pid="388" name="your constituents." tags="elanore partfour" position="3989,1727" size="100,100">You touched the shoulders of your guards. One rose slowly and soundlessly as they exited your barrier and moved forward to engage in battle. The other was dead, through and through - but it was not the time to mourn.

The next few minutes were a blur. Though you were fit as a fiddle and had received explicit battle training, maintaining the shield and controlling another mind was too much for your sleep-addled adolescent brain. Had you been more than a child, perhaps you would have reclaimed what was [[rightfully yours.]]</tw-passagedata><tw-passagedata pid="389" name="rightfully yours." tags="elanore partfour" position="3989,1877" size="100,100">They broke through in the end, your stamina waning too low to keep up much longer. And at least they were gentle, at least they had the decency to take you to another organization to give you a fate better than the void. Even if they saw your family as their greatest enemy, you were still a child. Your mind could still be [[changed.]]</tw-passagedata><tw-passagedata pid="390" name="changed." tags="elanore partfour" position="3989,2027" size="100,100">Dr. Guerrero thought as much, too. She took you under her wing, teaching you the ins and outs of a society not so different from your own. Deep down, you knew it was out of duty, out of a scientific desire. She wanted to determine the feasibility of making powerful Inscribed into decent people with the right training and upbringing, under the right circumstances divorced from their trauma. You remembered hearing about a former hero trying to take over what remained of Blue York; if you could be [[rehabilitated]], so could he.</tw-passagedata><tw-passagedata pid="391" name="her pleasantries won you over" tags="elanore partfour" position="3989,2313" size="100,100">With time, the part became you. You loved your mother the queen, of course, but Dr. Guerrero regarded you with a sincere warmth you had never known. You came to realize you &lt;i&gt;revered&lt;/i&gt; your mother, but you &lt;i&gt;loved&lt;/i&gt; Mama. And, like the good daughter you are, you wanted to prove her research [[fruitful]].</tw-passagedata><tw-passagedata pid="392" name="fruitful" tags="elanore partfour" position="3989,2463" size="100,100">You began to take more and more trips outside, connecting with the residents and keeping an eye out while Mama was occupied. They adored you, your mature mannerisms and eagerness to help. Under your guidance, volunteers who had once kept up a guard against former criminals found ways to bond.

Your life was perfect, [[until it wasn&#39;t]].</tw-passagedata><tw-passagedata pid="393" name="rehabilitated" tags="partfour elanore" position="3990,2169" size="100,100">You played the part of her daughter in a sleepy, simulated society. Volunteers and minor criminals whose memories were suppressed lived together. On the side, you trained your epithet under the guise of learning to control it. It wasn&#39;t about the rush of power, or even for a sense of safety. No, it was part of you, and you wanted to understand it to better understand yourself - to better understand your role in the world.

Though for the first few weeks you holed up in your own room, many were wary of letting you wander without suppressing your memories as well.

Their complaints fell on deaf ears. Back then, Dr. Guerrero held sway over the majority f the board - you were a special case, she said, one whose crimes were hardly her fault.

And over time, [[her pleasantries won you over]].</tw-passagedata><tw-passagedata pid="394" name="until it wasn&#39;t" tags="elanore partfour" position="3989,2613" size="100,100">There was a slip-up somewhere. In medication, in machinery, in something else - you aren&#39;t sure. All you know is that, while you were making the daily rounds, someone attacked you. In a panic, you threw out your barrier and turned him to [[shreds]] before everyone&#39;s eyes.</tw-passagedata><tw-passagedata pid="395" name="shreds" tags="elanore partfour" position="3989,2763" size="100,100">Panic ensued. A guard took you down, and that&#39;s where it stops.

There&#39;s a blip here. You think they drugged you, kept you down for days that turned to weeks that turned to months as they argued over what would be done. The next thing you know, Mama is gone - not that you remember even her - and you have lived in [[Literacy]] your entire life.</tw-passagedata><tw-passagedata pid="396" name="Literacy" tags="elanore partfour" position="3989,2913" size="100,100">But she&#39;s back now. You didn&#39;t know what you were missing, but now that you have it, you won&#39;t let it go. You won&#39;t let anyone get in your way again.

You let your [[grief]] known.</tw-passagedata><tw-passagedata pid="397" name="Domain" tags="lucy partthree" position="3051,8052" size="100,100">A shard of glass falls from the sky, and Twos barely dodges out of the way. Another flies straight for Zane&#39;s abdomen, too quickly for him to react.

But Margaret shoves him aside just in time.

|&lt;img src=&quot;sprites/zane/sweat.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; Miss Margaret?!|

She&#39;s [[not the only one]] to protect him, either.</tw-passagedata><tw-passagedata pid="398" name="not the only one" tags="lucy partthree" position="3051,8203" size="100,100">There&#39;s a sudden flash of light in the corner of your eye. You turn to see a multitude of massive wings made of light unfurl from the back of Zane&#39;s sister. Blood drips out her open mouth as she screams, pushing past Elanore&#39;s barrier to grip her with pallid hands.

|&lt;img src=&quot;sprites/ilia/bloody.png&quot; width=150px&gt;|&lt;b&gt;ILIA:&lt;/b&gt; &lt;b&gt;&lt;i&gt;[[FUUUUUUCK YOUUUUU!!!!!!!!!!]]  &lt;/i&gt;&lt;/b&gt;|</tw-passagedata><tw-passagedata pid="399" name="FUUUUUUCK YOUUUUU!!!!!!!!!!" tags="lucy partthree" position="3051,8352" size="100,100">There&#39;s a struggle for several loud and tense seconds before they suddenly begin spinning. Elanore is clearly the fulcrum, as Ilia screams again when she loses control. One of them lets go, and Ilia goes flying into the distance. The remaining woman sends a massive blast of concentrated energy after her, and after a few more moments you see a mushroomlike cloud burst upward.

Of course, those of you remaining haven&#39;t been gawking the entire time. You ignore the sinking feeling as [[light]] surrounds Zane in his preparation to take down the tyrant.</tw-passagedata><tw-passagedata pid="400" name="light" tags="lucy partthree" position="3052,8502" size="100,100">He never gets the chance. John grabs him by the waist and launches him like a human javelin. It would have been comedic if he didn&#39;t turn to you next, mindless intent clear. Lulu grows and hops into your arms, knowing there&#39;s [[no way to fight back]].</tw-passagedata><tw-passagedata pid="401" name="the beach" tags="lucy partthree" position="3052,8797" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio oceansfx play loop&gt;&gt;You look around and immediately spot Zane, who is huffily brushing sand away from his outfit.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Don&#39;t worry, you&#39;re still more put-together than the rest of us, pretty boy.|

It&#39;s normally a rib at him, but you do mean it this time. He stops and smiles grimly in acknowledgment, right before Margaret lands supine with a groan. Renli follows shortly thereafter, a blur of pastel that nearly rolls into the water.

|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; You alright, [[Margaret]]?|</tw-passagedata><tw-passagedata pid="402" name="grief" tags="zane partfour" position="3944,3067" size="200,200">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;If you could choose any other mode of travel, you would choose literally anything that did not force you to constantly smell wet dog. Unfortunately, you lack that kind of freedom right now, so you hold on for dear life.

As your party crosses the bridge, two familiar faces come up on either side of you. Lulu slows as they land and start jogging to keep up.

|&lt;img src=&quot;sprites/duncan/hyped.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Hey kids!|
|&lt;img src=&quot;sprites/mason/hyped.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; What&#39;s fresh, ya funky bastards?|
|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Saw a big robot guy get thrown from the ocean, and it wasn&#39;t me or Mason. New water guy to fight?|

He [[cracks his knuckles]].</tw-passagedata><tw-passagedata pid="403" name="no way to fight back" tags="lucy partthree" position="3052,8651" size="100,100">Your eyes squeeze shut as wind wooshes past you. Lulu doesn&#39;t bother wasting stamina on a round of Citizen Canine, even if it would let the two of you land painlessly. Instead, they wrap around you to soften your descent and widen to slow your acceleration.

You tuck into a roll and make it several yards before you stop yourself by grasping a handful of warm grains. You&#39;re on [[the beach]].</tw-passagedata><tw-passagedata pid="404" name="Margaret" tags="lucy partthree" position="3052,8948" size="100,100">Still nursing her back, she grimaces and gives a half-hearted shrug.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; I will live. More importantly, though, I suggest we move to the cemetery.|

Renli freezes mid-step at that suggestion, face contorting into an expression of negativity that you&#39;ve never seen on her before. But it&#39;s gone as soon as you blink, and she&#39;s pulling out [[a pumpkin]].</tw-passagedata><tw-passagedata pid="405" name="a pumpkin" tags="partthree lucy" position="3052,9095" size="100,100">|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; Once Twos arrives, let&#39;s use this.|

As soon as the words leave her mouth, you watch Twos sail way over your heads and directly into the water with a massive splash.

|&lt;img src=&quot;sprites/zane/doom.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You were saying?|
|&lt;img src=&quot;sprites/lucy/shocked.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; [[Twos??]]|</tw-passagedata><tw-passagedata pid="406" name="Twos??" tags="tt partthree" position="3011,9258" size="200,200">For the first time in years, you see red. Above you, light filters through the first layer of the ocean, shadows and bubbles alike shifting in illusory dances.

And you [[remember]] that first time now, don&#39;t you?</tw-passagedata><tw-passagedata pid="407" name="remember" tags="tt partthree" position="2958,9520" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio memory3 play loop&gt;&gt;&lt;small&gt;[[no text effect version|remember ntev]]&lt;/small&gt;

@@.fade-in-out;Koi are just pretty, colorful carp. And carp happen to be the smartest freshwater fish.

You don&#39;t remember what you were, and you aren&#39;t sure there&#39;s a word for it, but you think that was close to what you were. You remember many different types of water. You remember friends of all types, cultures and habitats that changed the more you swam. [[The world]] was your oyster - no pun intended.</tw-passagedata><tw-passagedata pid="408" name="remember ntev" tags="tt partthree" position="3162,9519" size="100,100">&lt;small&gt;[[text effect version|remember]]&lt;/small&gt;

Koi are just pretty, colorful carp. And carp happen to be the smartest freshwater fish.

You don&#39;t remember what you were, and you aren&#39;t sure there&#39;s a word for it, but you think that was close to what you were. You remember many different types of water. You remember friends of all types, cultures and habitats that changed the more you swam. [[The world|The world ntev]] was your oyster - no pun intended.</tw-passagedata><tw-passagedata pid="409" name="go home" tags="tt partthree" position="2957,10077" size="100,100">&lt;small&gt;[[no text effect version|go home ntev]]&lt;/small&gt;

@@.fade-in-out;But what is home? Where do you go if the entire world is already your home? [[What do you do]] when you are already home, by principle?</tw-passagedata><tw-passagedata pid="410" name="go home ntev" tags="tt partthree" position="3156,10081" size="100,100">&lt;small&gt;[[text effect version|go home]]&lt;/small&gt;

But what is home? Where do you go if the entire world is already your home? [[What do you do|What do you do ntev]] when you are already home, by principle?</tw-passagedata><tw-passagedata pid="411" name="What do you do" tags="tt partthree" position="2956,10228" size="100,100">&lt;small&gt;[[no text effect version|What do you do ntev]]&lt;/small&gt;

@@.fade-in-out;Well, you know what &lt;i&gt;you&lt;/i&gt; did.

You didn&#39;t spend very long in your freedom. You went back, to thank him, to see him one more time. You learned, instead, that they had trapped him as punishment.

You saw red. You thrashed and you screamed and you drew blood in an effort to make yourself heard. You made a ruckus because you simply did not know better. Violence wasn&#39;t something you had known intimately until that point. But violence was what they unleashed.

You don&#39;t know how long it went on. Weeks or months, you think, but for all you know, it could have been mere [[hours]].</tw-passagedata><tw-passagedata pid="412" name="What do you do ntev" tags="tt partthree" position="3159,10231" size="100,100">&lt;small&gt;[[text effect version|What do you do]]&lt;/small&gt;

Well, you know what &lt;i&gt;you&lt;/i&gt; did.

You didn&#39;t spend very long in your freedom. You went back, to thank him, to see him one more time. You learned, instead, that they had trapped him as punishment.

You saw red. You thrashed and you screamed and you drew blood in an effort to make yourself heard. You made a ruckus because you simply did not know better. Violence wasn&#39;t something you had known intimately until that point. But violence was what they unleashed.

You don&#39;t know how long it went on. Weeks or months, you think, but for all you know, it could have been mere [[hours|hours ntev]].</tw-passagedata><tw-passagedata pid="413" name="The world" tags="tt partthree" position="2956,9663" size="100,100">&lt;small&gt;[[no text effect version|The world ntev]]&lt;/small&gt;

@@.fade-in-out;And then you remember being lifted into a lab. You remember they kept the lights dim at first, tried different colors, poked and prodded until you cried.

You hated the way they looked at you. The disgust in their eyes, the slight curl of their lips - like you were a freak of nature. Like you were less than the@@@@.shadow;m@@@@.fade-in-out;. Even when they br@@@@.shadow;o@@@@.fade-in-out;ught in the ma@@@@.shadow;n@@@@.fade-in-out; who could make you look like them with a mere pat on the head, mo@@@@.shadow;s@@@@.fade-in-out;t of them exuded a sense of sanc@@@@.shadow;t@@@@.fade-in-out;imonious saviorhood that mad@@@@.shadow;e@@@@.fade-in-out; you want to @@@@.shadow;r@@@@.fade-in-out;etch.

&lt;i&gt;They&lt;/i&gt; were the ones who couldn&#39;t [[adapt]] to living under certain pressures, afterall.</tw-passagedata><tw-passagedata pid="414" name="The world ntev" tags="tt partthree" position="3162,9663" size="100,100">&lt;small&gt;[[text effect version|The world]]&lt;/small&gt;

And then you remember being lifted into a lab. You remember they kept the lights dim at first, tried different colors, poked and prodded until you cried.

You hated the way they looked at you. The disgust in their eyes, the slight curl of their lips - like you were a freak of nature. Like you were less than them. Even when they brought in the man who could make you look like them with a mere pat on the head, most of them exuded a sense of sanctimonious saviorhood that made you want to retch.

&lt;i&gt;They&lt;/i&gt; were the ones who couldn&#39;t [[adapt|adapt ntev]] to living under certain pressures, afterall.</tw-passagedata><tw-passagedata pid="415" name="hours" tags="tt partthree" position="2956,10379" size="100,100">&lt;small&gt;[[no text effect version|hours ntev]]&lt;/small&gt;

@@.fade-in-out;When you came to, you were small again, cradled in Norm&#39;s arms.

You cried with relief. And you cried with horror when you saw the gashes in his side. They weren&#39;t deep, but you hated yourself for it. You hated that you had hurt someone who had only ever tried to help you, who had given his all to put light in your eyes.

You stayed in this form as you lifted him and frantically searched for help. It was lucky the medical wing wasn&#39;t far; they took him in as they looked at you in fear.

And they [[locked you up]] again.</tw-passagedata><tw-passagedata pid="416" name="hours ntev" tags="tt partthree" position="3159,10380" size="100,100">&lt;small&gt;[[text effect version|hours]]&lt;/small&gt;

When you came to, you were small again, cradled in Norm&#39;s arms.

You cried with relief. And you cried with horror when you saw the gashes in his side. They weren&#39;t deep, but you hated yourself for it. You hated that you had hurt someone who had only ever tried to help you, who had given his all to put light in your eyes.

You stayed in this form as you lifted him and frantically searched for help. It was lucky the medical wing wasn&#39;t far; they took him in as they glared at you in fear.

And they [[locked you up|locked you up ntev]] again.</tw-passagedata><tw-passagedata pid="417" name="adapt" tags="tt partthree" position="2957,9798" size="100,100">&lt;small&gt;[[no text effect version|adapt ntev]]&lt;/small&gt;

@@.fade-in-out;At least you found solace. When the glamour wore off and others cowered, Norm pushed them aside and smiled at you. After a long day, he was the first to greet you and discreetly slip you a cookie or some other snack. You did not know your mother or father, but you supposed he could be compared to both.

He was good at filling up the silences at first, when you were still afraid that your own words would sentence you to an eternity of suffering. But in time, you found he was a good listener as well, even when you didn&#39;t say things aloud.

He nearly came to blows with one agent when he demanded to offer you proper clothes instead of polka-dot scrubs. A week later, he told you how the same agent apologized profusely after observing the change in your demeanor.

He insisted on varying your meals instead of giving you the same mish-mash pâté. While he didn&#39;t quite meet his promise of letting you try something new every day, you appreciated the occasional change in flavor that he managed to win.

And you remember pressing your head against to wall to listen in on the lecture they gave him when he taught you how to tie up your hair. But they never brought it up again, and he told you not to worry about it.

You admired his positive outlook and perseverance, and did your very best to [[display]] those traits yourself.</tw-passagedata><tw-passagedata pid="418" name="adapt ntev" tags="tt partthree" position="3160,9802" size="100,100">&lt;small&gt;[[text effect version|adapt]]&lt;/small&gt;

At least you found solace. When the glamour wore off and others cowered, Norm pushed them aside and smiled at you. After a long day, he was the first to greet you and discreetly slip you a cookie or some other snack. You did not know your mother or father, but you supposed he could be compared to both.

He was good at filling up the silences at first, when you were still afraid that your own words would sentence you to an eternity of suffering. But in time, you found he was a good listener as well, even when you didn&#39;t say things aloud.

He nearly came to blows with one agent when he demanded to offer you proper clothes instead of polka-dot scrubs. A week later, he told you how the same agent apologized profusely after observing the change in your demeanor.

He insisted on varying your meals instead of giving you the same mish-mash pâté. While he didn&#39;t quite meet his promise of letting you try something new every day, you appreciated the occasional change in flavor that he managed to win.

And you remember pressing your head against to wall to listen in on the lecture they gave him when he taught you how to tie up your hair. But they never brought it up again, and he told you not to worry about it.

You admired his positive outlook and perseverance, and did your very best to [[display|display ntev]] those traits yourself.</tw-passagedata><tw-passagedata pid="419" name="display" tags="tt partthree" position="2956,9936" size="100,100">&lt;small&gt;[[no text effect version|display ntev]]&lt;/small&gt;

@@.fade-in-out;Somehow, this friendliness wore down the others. They praised your good manners and ability to learn, as if such things were unexpected. It was underhanded, but it was better than the cold desire to tear you apart that they once exuded.

One day, you told Norm your deepest secret. You told him what you wanted - what you &lt;i&gt;really&lt;/i&gt; wanted, beyond fulfilling meals and pretty accessories.

Norm was smart, too. Is smart. He planned and waited and bided his time until the day he could let you [[go home]].</tw-passagedata><tw-passagedata pid="420" name="display ntev" tags="tt partthree" position="3159,9938" size="100,100">&lt;small&gt;[[text effect version|display]]&lt;/small&gt;

Somehow, this friendliness wore down the others. They praised your good manners and ability to learn, as if such things were unexpected. It was underhanded, but it was better than the cold desire to tear you apart that they once exuded.

One day, you told Norm your deepest secret. You told him what you wanted - what you &lt;i&gt;really&lt;/i&gt; wanted, beyond fulfilling meals and pretty accessories.

Norm was smart, too. Is smart. He planned and waited and bided his time until the day he could let you [[go home|go home ntev]].</tw-passagedata><tw-passagedata pid="421" name="locked you up" tags="tt partthree" position="2956,10528" size="100,100">&lt;small&gt;[[no text effect version|locked you up ntev]]&lt;/small&gt;

@@.fade-in-out;This time, it was a small and dark cell. Which was fine: you sobbed and you screamed and you threw your meals at the wall.

You were only there for a day before they took you out. Norm would not tell them anything beyond his involvement in your initial escape, and they wanted to know more. So, seething, you told them. You told them of your hate and your rage and your pain, all things you had only known in the abstract. You told them what you knew, that they saw you as less, but that &lt;i&gt;they&lt;/i&gt; were the lesser beings.

You told them you would not stand this treatment any longer. You told them to [[kill]] you.</tw-passagedata><tw-passagedata pid="422" name="locked you up ntev" tags="tt partthree" position="3157,10533" size="100,100">&lt;small&gt;[[text effect version|locked you up]]&lt;/small&gt;

This time, it was a small and dark cell. Which was fine: you sobbed and you screamed and you threw your meals at the wall.

You were only there for a day before they took you out. Norm would not tell them anything beyond his involvement in your initial escape, and they wanted to know more. So, seething, you told them. You told them of your hate and your rage and your pain, all things you had only known in the abstract. You told them what you knew, that they saw you as less, but that &lt;i&gt;they&lt;/i&gt; were the lesser beings.

You told them you would not stand this treatment any longer. You told them to [[kill|kill ntev]] you.</tw-passagedata><tw-passagedata pid="423" name="kill" tags="tt partthree" position="2956,10688" size="100,100">&lt;small&gt;[[no text effect version|kill ntev]]&lt;/small&gt;

@@.fade-in-out;They did not listen. They knocked you out again, kept you unconscious through vague flashes of light and streams of tears.

The only reason you knew Norm was still alive was because the glamour was still going. As long as you did not use your epithet, as long as he was around, you would be fine.

They struck a deal. Both you and Norm were on the chopping block for comprimising classified secrets. But you and Norm could live together in &quot;Literacy&quot; as long as they could continue observing you.

So you agreed - you could find [[home]] anywhere, after all.</tw-passagedata><tw-passagedata pid="424" name="kill ntev" tags="tt partthree" position="3159,10690" size="100,100">&lt;small&gt;[[text effect version|kill]]&lt;/small&gt;

They did not listen. They knocked you out again, kept you unconscious through vague flashes of light and streams of tears.

The only reason you knew Norm was still alive was because the glamour was still going. As long as you did not use your epithet, as long as he was around, you would be fine.

They struck a deal. Both you and Norm were on the chopping block for comprimising classified secrets. But you and Norm could live together in &quot;Literacy&quot; as long as they could continue observing you.

So you agreed - you could find [[home]] anywhere, after all.</tw-passagedata><tw-passagedata pid="425" name="home" tags="tt partthree" position="3063,10851" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;How could you have forgotten just how important Norm is? You had always known your existence was a secret experiment, of course. Who names a child &quot;Subject Twenty-two&quot;?

But you have more important problems right now. Right now, the other friends you&#39;ve made are in [[trouble]].</tw-passagedata><tw-passagedata pid="426" name="trouble" tags="tt partthree" position="3065,10999" size="100,100">&lt;&lt;audio oceanman play loop&gt;&gt;Your epithet allows you to generate bodies of water that displace whatever matter was previously present. When used on yourself, well...

You launch yourself out of the ocean, just high enough so you have time to [[gauge]] the beach.</tw-passagedata><tw-passagedata pid="427" name="gauge" tags="tt partthree" position="3065,11149" size="100,100">After punting Lucy, Zane, Margaret, Renli, and then you, John has followed all of you to the shoreline. They must have fought for a bit, considering the state of disarray everyone is in. Though the moment you lock eyes, Lucy hops on the back of a quickly-growing Lulu and calls for everyone else&#39;s attention.

Heavily injured, Margaret needs help clambering up. Renli hoists her as Lucy lends a hand, all while Zane fires off walls of light to hold John off. Renli then slides up with ease, and Zane fires off one last blast before he tries to flip himself up onto Lulu.

John tries to follow, but [[you won&#39;t let him]].</tw-passagedata><tw-passagedata pid="428" name="you won&#39;t let him" tags="tt partthree" position="3065,11299" size="100,100">|&lt;img src=&quot;sprites/22/teary.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;i&gt; Stop hurting my friends!|

He manages to dodge the first mass you create, but he doesn&#39;t expect you to make one even bigger right after. Or another, bigger than that. You toss him around, enshroud him in water and render his beams worthless, until finally [[you pummel him]] back into the heart of town.</tw-passagedata><tw-passagedata pid="429" name="you pummel him" tags="tt partthree" position="3065,11449" size="100,100">There&#39;s an explosion in the distance as you land backwards on Lulu.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; That was pretty cool, Twos!|
|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; That was my favorite clothing store...|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; No time to mourn. We have to get going.|
|&lt;img src=&quot;sprites/lucy/concerned.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Right. Where to?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; [[The cemetery]].|</tw-passagedata><tw-passagedata pid="430" name="The cemetery" tags="tt partthree" position="3065,11599" size="100,100">Lulu howls and takes off as a shard of sky lands where you were a moment ago. You dig your hands into her fur and let out a howl of your own.

It&#39;s going to be fine. You&#39;re going to be [[just fine|Part Four]].</tw-passagedata><tw-passagedata pid="431" name="cracks his knuckles" tags="zane partfour" position="3994,3308" size="100,100">|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Nah, don&#39;t worry. It was just Twos.|
|&lt;img src=&quot;sprites/mason/shocked.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; No way, lil&#39; TT? They always grow up so fast...|
|&lt;img src=&quot;sprites/zane/angry.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; You know, we aren&#39;t that much younger than you.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Ehhh, a couple years means a whole generation these days. Ain&#39;t that right, old man?|
|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; You still have much to learn, young Avalon!|

There&#39;s still a hint of laughter in her voice, but Lucy is the one to make the pointed question.

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; So. It seems like everyone is remembering everything. And the two of you are... [[okay]] with each other?|</tw-passagedata><tw-passagedata pid="432" name="okay" tags="zane partfour" position="3994,3458" size="100,100">|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Doesn&#39;t change much. I-|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Nah, it just means I have even more reason to beat his ass.|
|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Hah! You wish.|

There&#39;s a familiarity in their interaction that you didn&#39;t detect before, when you feared for your and Renli&#39;s lives.

|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; They were teammates on Renewed Spring, before Duncan retired and Pendragon went rogue. The media liked to play up their rivalry.|

The real past is still hazy, but now that she says it, you can vaguely recall their silhouettes. How much have you missed, really?

|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Well, it&#39;s not wrong...|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; But it [[runs deeper]] than rivalry or enmity.|</tw-passagedata><tw-passagedata pid="433" name="runs deeper" tags="zane partfour" position="3994,3608" size="100,100">|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Aaanywho, where we headed?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; The cemetery.|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; The cemetery? For what?|

Though Mason has no idea, understanding passes over Duncan&#39;s face as he nods.

|&lt;img src=&quot;sprites/duncan/neutral.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; Little guy, how about you hit me with a blast to get them there?|
|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; Sure your bones won&#39;t break in one blow?|
|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; HAH! It&#39;ll take a whole lot more than that!|

Mason cackles as Duncan lifts the giant Lulu like a baby, then raises his sword as he gives a two-fingered salute.

|&lt;img src=&quot;sprites/mason/neutral.png&quot; width=150px&gt;|&lt;b&gt;MASON:&lt;/b&gt; [[Sayonara, amigos!]]|</tw-passagedata><tw-passagedata pid="434" name="Sayonara, amigos!" tags="zane partfour" position="3994,3758" size="100,100">There&#39;s a massive blur and a brief rush of adrenaline, and then all of you - minus Mason - are at the entrance to the cemetery. Duncan sets Lulu down as you all clamber off.

|&lt;img src=&quot;sprites/duncan/excited.png&quot; width=150px&gt;|&lt;b&gt;DUNCAN:&lt;/b&gt; You can do this, kids. In the meanwhile, we&#39;ll go keep the good doctor entertained.|

He leaves with a giant blast of water. Though you are fortunate enough to be shielded from it by Lulu, you realize she is a big dog.

[[Big dog do shake.]]</tw-passagedata><tw-passagedata pid="435" name="Big dog do shake." tags="zane partfour" position="3994,3908" size="100,100">The massive water droplets hit you like bullets, and you nearly topple over. A pair of warm hands catch you as Lucy laughs.

|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Heh, twig.|
|&lt;img src=&quot;sprites/zane/smug.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; &lt;i&gt;Excuuuse&lt;/i&gt; me; I was caught off-guard by your mongrel.|
|&lt;img src=&quot;sprites/lucy/doubt.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; You sure that&#39;s what you wanna call Lulu?|

You glance at the dog. She looks back at you, head tilted in question and eyes glimmering with intelligence.

|&lt;img src=&quot;sprites/zane/neutral.png&quot; width=150px&gt;|&lt;b&gt;ZANE:&lt;/b&gt; ... caught off-guard by your dog.|
|&lt;img src=&quot;sprites/22/um.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; [[Hey]]...|</tw-passagedata><tw-passagedata pid="436" name="Hey" tags="zane partfour" position="3994,4058" size="100,100">|&lt;img src=&quot;sprites/22/sad.png&quot; width=150px&gt;|&lt;b&gt;TWENTY-TWO:&lt;/b&gt; So... what are we doing here, anyway?|
|&lt;img src=&quot;sprites/lucy/neutral.png&quot; width=150px&gt;|&lt;b&gt;LUCY:&lt;/b&gt; Dunno. Margaret?|
|&lt;img src=&quot;sprites/margaret/neutral.png&quot; width=150px&gt;|&lt;b&gt;MARGARET:&lt;/b&gt; ... Renli?|

Renli has never exactly been loud, but you realize she has been far, far quieter than usual for several minutes now.

|&lt;img src=&quot;sprites/renli/neutral.png&quot; width=150px&gt;|&lt;b&gt;RENLI:&lt;/b&gt; I know. You&#39;ll tell them, [[right?]]|</tw-passagedata><tw-passagedata pid="437" name="right?" tags="renli partfour" position="3939,4202" size="200,200">You take a step forward, then another, until you reach the center of the cemetery. Straightening your spine, you take a deep breath.

[[Let&#39;s think back]].</tw-passagedata><tw-passagedata pid="438" name="Let&#39;s think back" tags="renli partfour" position="3895,4473" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;audio memory4 play loop&gt;&gt;&lt;small&gt;[[no text effect version|Let&#39;s think back ntev]]&lt;/small&gt;

@@.fade-in-out;Your whole life, you bounced from orphanage to foster home and back. The occasional piece of poor recordkeeping or migration to a different system in a different location meant no one really knew where your story started. You know they called you another name and kept your hair shorn - but beyond that, you blank.

Once in a while, a family considered adopting you. But few lasted longer than a month before something about you pushed them away. Sometimes it wasn&#39;t you, sometimes it was their own financial situation. Among other children, you weren&#39;t bullied, per se, but you weren&#39;t well-loved, either.

Maybe that was why your [[early memories]] were so empty.</tw-passagedata><tw-passagedata pid="439" name="Let&#39;s think back ntev" tags="renli partfour" position="4095,4473" size="100,100">&lt;small&gt;[[text effect version|Let&#39;s think back]]&lt;/small&gt;

Your whole life, you bounced from orphanage to foster home and back. The occasional piece of poor recordkeeping or migration to a different system in a different location meant no one really knew where your story started. You know they called you another name and kept your hair shorn - but beyond that, you blank.

Once in a while, a family considered adopting you. But few lasted longer than a month before something about you pushed them away. Sometimes it wasn&#39;t you, sometimes it was their own financial situation. Among other children, you weren&#39;t bullied, per se, but you weren&#39;t well-loved, either.

Maybe that was why your [[early memories|early memories ntev]] were so empty.</tw-passagedata><tw-passagedata pid="440" name="early memories" tags="renli partfour" position="3895,4623" size="100,100">&lt;small&gt;[[no text effect version|early memories ntev]]&lt;/small&gt;

@@.fade-in-out;From the first moment you recall, you could never taste the food they offered. It was a blessing to your caretakers; you eagerly stomached the vegetables at which other children gagged and never begged for more treats. You were well-behaved and polite and did not flaunt your epithet in front of other children, but there was still a wall between yourself and the adults.

You had a hunger inside you. Something craved those strangely-colored fruits that only you could grab. They were hesitant to let you do it, unsure about the effects or nutritional value, but it wasn&#39;t like they could monitor you all the time and stop you from letting the flavor burst on your tongue. They restored stamina the same as any other food, and sometimes they healed more serious ailments with impressive efficiency. Some also hurt on impact - but you were polite; you rarely saw the need to come to blows.

You think you were about nine the first time you tasted something more. Old enough to know it was wrong, young enough to [[do it anyway]].</tw-passagedata><tw-passagedata pid="441" name="early memories ntev" tags="renli partfour" position="4094,4620" size="100,100">&lt;small&gt;[[text effect version|early memories]]&lt;/small&gt;

From the first moment you recall, you could never taste the food they offered. It was a blessing to your caretakers; you eagerly stomached the vegetables at which other children gagged and never begged for more treats. You were well-behaved and polite and did not flaunt your epithet in front of other children, but there was still a wall between yourself and the adults.

You had a hunger inside you. Something craved those strangely-colored fruits that only you could grab. They were hesitant to let you do it, unsure about the effects or nutritional value, but it wasn&#39;t like they could monitor you all the time and stop you from letting the flavor burst on your tongue.

You think you were about nine the first time you tasted something more. Old enough to know it was wrong, young enough to [[do it anyway|do it anyway ntev]].</tw-passagedata><tw-passagedata pid="442" name="do it anyway" tags="renli partfour" position="3895,4773" size="100,100">&lt;small&gt;[[no text effect version|do it anyway ntev]]&lt;/small&gt;

@@.fade-in-out;It was a field trip to some nature reserve. A hot day. Several groups of kids had wandered off unobserved. You joined one particularly-tight circle of heads right as Stephen stabbed the newt.

And you felt it, a flash of deep purple and the faint scent of cherries, so you reached out and you plucked.

Stephen rolled his eyes and said he was going to have a way cooler epithet. Menghua chastised you for making the event all about you. Their words fell on deaf ears, for you were already turning away and eating.

Tears leaked down your cheeks as you savored the bitter fruit. You understood then, even if no one else did. You understood the natural instinct to avoid you. You understood why you had been abandoned so often. You understood that you were all alone and always would be.

Renli, you harvest [[souls]].</tw-passagedata><tw-passagedata pid="443" name="do it anyway ntev" tags="renli partfour" position="4092,4776" size="100,100">&lt;small&gt;[[text effect version|do it anyway]]&lt;/small&gt;

It was a field trip to some nature reserve. A hot day. Several groups of kids had wandered off unobserved. You joined one particularly-tight circle of heads right as Stephen stabbed the newt.

And you felt it, a flash of deep purple and the faint scent of cherries, so you reached out and you plucked.

Stephen rolled his eyes and said he was going to have a way cooler epithet. Menghua chastised you for making the event all about you. Their words fell on deaf ears, for you were already turning away and eating.

Tears leaked down your cheeks as you savored the bitter fruit. You understood then, even if no one else did. You understood the natural instinct to avoid you. You understood why you had been abandoned so often. You understood that you were all alone and always would be.

Renli, you harvest [[souls|souls ntev]].</tw-passagedata><tw-passagedata pid="444" name="souls" tags="renli partfour" position="3895,4923" size="100,100">&lt;small&gt;[[no text effect version|souls ntev]]&lt;/small&gt;

@@.fade-in-out;You performed more tests and found more and more about your epithet. Plants had souls, too, as did nearly every organism. There was no point in harvesting souls before death. The more satisfied their life, the longer they lived, the more they accomplished - the better they tasted. With concentration and practice, you could taste glimpses of their most impactful moments.

Occasionally, you came across an Inscribed soul. Those were different, and you did your best to avoid them. They didn&#39;t necessarily taste worse; rather, they temporarily filled you with a strength you knew you did not deserve.

Knowing what you did, you isolated yourself. You still wanted to live a life you could enjoy, but you would have zero expectations about the things out of your control, such as others&#39; thoughts.

But for what you could control? You did not scramble, oh no. You reached out and you seized it all, every opportunity to bring yourself some semblance of happiness. You skipped playtime to read every book in the library. You bargained your meals and traded your desserts to plan your meals carefully. You snuck into the records and added two years to your age so you could [[live on your own]] sooner.</tw-passagedata><tw-passagedata pid="445" name="souls ntev" tags="renli partfour" position="4091,4922" size="100,100">&lt;small&gt;[[text effect version|souls]]&lt;/small&gt;

You performed more tests and found more and more about your epithet. Plants had souls, too, as did nearly every organism. There was no point in harvesting souls before death. The more satisfied their life, the longer they lived, the more they accomplished - the better they tasted. With concentration and practice, you could taste glimpses of their most impactful moments.

Occasionally, you came across an Inscribed soul. Those were different, and you did your best to avoid them. They didn&#39;t necessarily taste worse; rather, they temporarily filled you with a strength you knew you did not deserve.

Knowing what you did, you isolated yourself. You still wanted to live a life you could enjoy, but you would have zero expectations about the things out of your control, such as others&#39; thoughts.

But for what you could control? You did not scramble, oh no. You reached out and you seized it all, every opportunity to bring yourself some semblance of happiness. You skipped playtime to read every book in the library. You bargained your meals and traded your desserts to plan your meals carefully. You snuck into the records and added two years to your age so you could [[live on your own|live on your own ntev]] sooner.</tw-passagedata><tw-passagedata pid="446" name="live on your own" tags="renli partfour" position="3895,5072" size="100,100">&lt;small&gt;[[no text effect version|live on your own ntev]]&lt;/small&gt;

@@.fade-in-out;No need to burden others with your presence, except when it was necessary.

Like the retirement home. Renli, don&#39;t turn away now. Remember what [[you did]]?</tw-passagedata><tw-passagedata pid="447" name="live on your own ntev" tags="renli partfour" position="4088,5078" size="100,100">&lt;small&gt;[[text effect version|live on your own]]&lt;/small&gt;

No need to burden others with your presence, except when it was necessary.

Like the retirement home. Renli, don&#39;t turn away now. Remember what [[you did|you did ntev]]?</tw-passagedata><tw-passagedata pid="448" name="you did" tags="renli partfour" position="3895,5223" size="100,100">&lt;small&gt;[[no text effect version|you did ntev]]&lt;/small&gt;

@@.fade-in-out;You were her favorite volunteer, and she was your favorite patient. She told you stories about her life, and you lived vicariously through her bold and bright tales of adventure and struggle and love. All the while, at the back of your mind, you imagined how delicious she would be - a well-rounded, complex profile of flavors that harmonized in a symphony that celebrated her life.

You smiled when she hurt, and you smiled when she was still around. Every time you wiped away the sticky globs of phlegm she coughed up was another step toward the grave. Every day she opened her eyes was another day&#39;s worth of seasoning.

You were not a volunteer so much as a [[farmhand]].</tw-passagedata><tw-passagedata pid="449" name="you did ntev" tags="renli partfour" position="4088,5223" size="100,100">&lt;small&gt;[[text effect version|you did]]&lt;/small&gt;

You were her favorite volunteer, and she was your favorite patient. She told you stories about her life, and you lived vicariously through her bold and bright tales of adventure and struggle and love. All the while, at the back of your mind, you imagined how delicious she would be - a well-rounded, complex profile of flavors that harmonized in a symphony that celebrated her life.

You smiled when she hurt, and you smiled when she was still around. Every time you wiped away the sticky globs of phlegm she coughed up was another step toward the grave. Every day she opened her eyes was another day&#39;s worth of seasoning.

You were not a volunteer so much as a [[farmhand|farmhand ntev]].</tw-passagedata><tw-passagedata pid="450" name="farmhand" tags="renli partfour" position="3895,5373" size="100,100">&lt;small&gt;[[no text effect version|farmhand ntev]]&lt;/small&gt;

@@.fade-in-out;She had a son. Teddy, she called him. She was only in her fifties the last she saw him. When her mind was clear, she told you that her only regret in life was how she treated him. Oh, she had made plenty of mistakes with varying shades of consequences, but nothing could ever soothe the knowledge that her own actions had forced his hand until it was too late.

And when her mind was clouded, she blindly called for Teddy and gripped your hand so tight that your throat sealed with tears.

In time, it became apparent that Teddy&#39;s name would be etched into the fruit of her soul as an acrid, astringent mar. And you couldn&#39;t have that. You tried to track him down, tried to see if he was somewhere within reach. But there was [[nothing]].</tw-passagedata><tw-passagedata pid="451" name="farmhand ntev" tags="renli partfour" position="4087,5376" size="100,100">&lt;small&gt;[[text effect version|farmhand]]&lt;/small&gt;

She had a son. Teddy, she called him. She was only in her fifties the last she saw him. When her mind was clear, she told you that her only regret in life was how she treated him. Oh, she had made plenty of mistakes with varying shades of consequences, but nothing could ever soothe the knowledge that her own actions had forced his hand until it was too late.

And when her mind was clouded, she blindly called for Teddy and gripped your hand so tight that your throat sealed with tears.

In time, it became apparent that Teddy&#39;s name would be etched into the fruit of her soul as an acrid, astringent mar. And you couldn&#39;t have that. You tried to track him down, tried to see if he was somewhere within reach. But there was [[nothing|nothing ntev]].</tw-passagedata><tw-passagedata pid="452" name="nothing" tags="renli partfour" position="3896,5525" size="100,100">&lt;small&gt;[[no text effect version|nothing ntev]]&lt;/small&gt;

@@.fade-in-out;One day, a nurse pulled you aside and let you know there was no more than a month left. You were in denial at first; surely she would pull through as she had all these months. But after a week, you understood. She was barely there, a ghost deteriorating before your eyes.

She spoke clearly one night. She sat up beamed, tears forming in her eyes. &lt;i&gt;It took you long enough, Teddy. Our friend Renli spent too long looking for you, you know? Too bad you came on her day off.&lt;/i&gt;

You had been working with the elderly long enough now to know it was over. You sat down, cleared your throat, and held her frail hand. Fed her sweet lies, stories of struggle and triumph you had read from books. She smiled, she laughed, she chastised &#39;you&#39; lightly.

Her eyelids began sliding shut slowly. You told her you loved her. And she looked at you, at &lt;i&gt;you&lt;/i&gt; and not through you, and [[told you to let her go]].</tw-passagedata><tw-passagedata pid="453" name="nothing ntev" tags="renli partfour" position="4088,5523" size="100,100">&lt;small&gt;[[text effect version|nothing]]&lt;/small&gt;

One day, a nurse pulled you aside and let you know there was no more than a month left. You were in denial at first; surely she would pull through as she had all these months. But after a week, you understood. She was barely there, a ghost deteriorating before your eyes.

She spoke clearly one night. She sat up beamed, tears forming in her eyes. &lt;i&gt;It took you long enough, Teddy. Our friend Renli spent too long looking for you, you know? Too bad you came on her day off.&lt;/i&gt;

You had been working with the elderly long enough now to know it was over. You sat down, cleared your throat, and held her frail hand. Fed her sweet lies, stories of struggle and triumph you had read from books. She smiled, she laughed, she chastised &#39;you&#39; lightly.

Her eyelids began sliding shut slowly. You told her you loved her. And she looked at you, at &lt;i&gt;you&lt;/i&gt; and not through you, and [[told you to let her go|told you to let her go ntev]].</tw-passagedata><tw-passagedata pid="454" name="told you to let her go" tags="renli partfour" position="3896,5675" size="100,100">&lt;small&gt;[[no text effect version|told you to let her go ntev]]&lt;/small&gt;

@@.fade-in-out;The beeping of the heart monitor, the whirr of the IV - it filled your head as you stared at her sleeping form for half an hour.

You couldn&#39;t take it any longer. Was it because you couldn&#39;t bear to see her in pain? Was it because you couldn&#39;t wait another day? Was it because she asked so nicely?

You plucked her the moment you could. A grey-green apricot that made your mouth drool. But before you took a bite, you pulled every plug and made it look like your fault.

Then you walked yourself down to the security station and let them know you killed an old woman, who was now the apricot in your hand, and that they would be next if they didn&#39;t turn you in. They laughed until you plucked the office goldfish - a blue jujube - and put him in the [[coffee machine]].</tw-passagedata><tw-passagedata pid="455" name="coffee machine" tags="renli partfour" position="3991,5830" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;Oh, fine, I&#39;ll quit preaching to the choir.

Renli, you&#39;ve [[known this]] all along, haven&#39;t you?</tw-passagedata><tw-passagedata pid="456" name="would never know" tags="renli partfour" position="3991,6116" size="100,100">&lt;&lt;audio harvest play loop&gt;&gt;But there&#39;s no point in sitting still and crying over your lack of morality when everything has all burned down.

You reach with your hands and you - no, you do not pluck. You &lt;i&gt;embrace&lt;/i&gt; what nearly bursts the seams of the veil, sweeping them all into your arms. But the pile grows too large for you to hold, so you throw it all above your head. They surround you, lifting you into the air and slowly spinning you in a wondrous display of [[color and smell]].</tw-passagedata><tw-passagedata pid="457" name="known this" tags="renli partfour" position="3991,5975" size="100,100">It&#39;s not that you&#39;re special. The memory suppression affected you, too, at first. But there was no real reason to keep you out of the retirement home, and you kept going and going and going and you knew something was wrong.

Erasing all the short and simple facts of your life would erase your fundamental person. And when you figured it out, you understood. You became more determined than ever to stay here - to stay in a place where you had friends and some semblance of a normal life.

Oculus only calculates the threat you pose to the system. And if your biggest dream is to merely maintain what you have, the wardens [[would never know]].</tw-passagedata><tw-passagedata pid="458" name="told you to let her go ntev" tags="renli partfour" position="4089,5680" size="100,100">&lt;small&gt;[[text effect version|told you to let her go]]&lt;/small&gt;

@@.fade-in-out;The beeping of the heart monitor, the whirr of the IV - it filled your head as you stared at her sleeping form for half an hour.

You couldn&#39;t take it any longer. Was it because you couldn&#39;t bear to see her in pain? Was it because you couldn&#39;t wait another day? Was it because she asked so nicely?

You plucked her the moment you could. A grey-green apricot that made your mouth drool. But before you took a bite, you pulled every plug and made it look like your fault.

Then you walked yourself down to the security station and let them know you killed an old woman, who was now the apricot in your hand, and that they would be next if they didn&#39;t turn you in. They laughed until you plucked the office goldfish - a blue jujube - and put him in the [[coffee machine]].</tw-passagedata><tw-passagedata pid="459" name="color and smell" tags="renli partfour" position="3991,6266" size="100,100">&lt;&lt;set $housing to false&gt;&gt;&lt;&lt;set $lighter to false&gt;&gt;&lt;&lt;set $despair to false&gt;&gt;&lt;&lt;set $syndrome to false&gt;&gt;&lt;&lt;set $throne to false&gt;&gt;&lt;&lt;set $doubt to false&gt;&gt;&lt;&lt;set $amplify to false&gt;&gt;And how fortuitous, that this prison was for the Inscribed, that the past wardens, too, were Inscribed. You grab several and consider their abilities.

[[Housing.]]
[[Lighter.]]
[[Despair.]]
[[Syndrome.]]
[[Throne.]]
[[Doubt.]]
[[Amplify.]]</tw-passagedata><tw-passagedata pid="460" name="Housing." tags="renli partfour" position="3541,6416" size="100,100">&lt;&lt;set $housing to true&gt;&gt;A wenge-colored apple. It sounds pleasant enough, so you take a bite yourself.

&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="461" name="Lighter." tags="renli partfour" position="3691,6416" size="100,100">&lt;&lt;set $lighter to true&gt;&gt;A reddish-orange banana. Based on what you sense, this epithet is about weight and not fire. If it reduces weight for easier movement, then it should go to Lucy.

Some part of you wants to shove it down her throat so you have the slimmest chance of defeating Elanore and Isabella. But the other part - the rest of you - cares too much about what she thinks.

She doesn&#39;t say anything, just accepts it and eats it before you can even check that Margaret gave them a proper warning.

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="462" name="Despair." tags="renli partfour" position="3841,6416" size="100,100">&lt;&lt;set $despair to true&gt;&gt;A green pear that would look normal if not for the slight translucence and iridescence. But you hear echoes in your head, and you know you could never look your friends in the eyes again if you offered it. You toss it aside, hoping they don&#39;t see.

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="463" name="Syndrome." tags="renli partfour" position="3991,6416" size="100,100">&lt;&lt;set $syndrome to true&gt;&gt;

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="464" name="Throne." tags="renli partfour" position="4141,6416" size="100,100">&lt;&lt;set $throne to true&gt;&gt;

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="465" name="Doubt." tags="renli partfour" position="4291,6416" size="100,100">&lt;&lt;set $doubt to true&gt;&gt;

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $amplify is false&gt;&gt;[[Amplify.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="466" name="Amplify." tags="renli partfour" position="4441,6416" size="100,100">&lt;&lt;set $amplify to true&gt;&gt;

&lt;&lt;if $housing is false&gt;&gt;[[Housing.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $lighter is false&gt;&gt;[[Lighter.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $despair is false&gt;&gt;[[Despair.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $syndrome is false&gt;&gt;[[Syndrome.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $throne is false&gt;&gt;[[Throne.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $doubt is false&gt;&gt;[[Doubt.]]&lt;br /&gt;&lt;&lt;else&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $housing is true and $lighter is true and $despair is true and $syndrome is true and $throne is true and $doubt is true and $amplify is true&gt;&gt;[[Leave the cemetery.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="467" name="Leave the cemetery." tags="" position="3992,6561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="468" name="Chapters" tags="" position="183,330" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;&lt;&lt;if $prologueSeen is true&gt;&gt;[[Prologue: The Beginning of the End|Prologue Page]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $partOneSeen is true&gt;&gt;[[Part One: Priam Saw It First|Part One]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $partTwoSeen is true&gt;&gt;[[Part Two: Accompanied by Rain|Part Two]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $partThreeSeen is true&gt;&gt;[[Part Three: Through Hollow Streets|Part Three]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $partFourSeen is true&gt;&gt;[[Part Four: Over Heads of Men|Part Four]]&lt;&lt;/if&gt;&gt;</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("Descent Literacy Extent"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
